{"version":3,"file":"src_app_modules_auth_sign-out_sign-out_routes_ts.js","mappings":"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","sources":["./src/app/modules/auth/sign-out/sign-out.component.ts","./src/app/modules/auth/sign-out/sign-out.component.html","./src/app/modules/auth/sign-out/sign-out.routes.ts"],"sourcesContent":["import { I18nPluralPipe, NgIf } from '@angular/common';\r\nimport { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { AuthService } from 'app/core/auth/auth.service';\r\nimport { finalize, Subject, take, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\n\r\n@Component({\r\n    selector     : 'auth-sign-out',\r\n    templateUrl  : './sign-out.component.html',\r\n    encapsulation: ViewEncapsulation.None,\r\n    standalone   : true,\r\n    imports      : [NgIf, RouterLink, I18nPluralPipe],\r\n})\r\nexport class AuthSignOutComponent implements OnInit, OnDestroy\r\n{\r\n    countdown: number = 5;\r\n    countdownMapping: any = {\r\n        '=1'   : '# segundo',\r\n        'other': '# segundos',\r\n    };\r\n    logo: string;\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor(\r\n        private _authService: AuthService,\r\n        private _router: Router,\r\n        private _empresaService: EmpresaService\r\n    ){}\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.logo = empresa.logo;\r\n            });\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        // Sign out\r\n        this._authService.signOut();\r\n\r\n        // Redirect after the countdown\r\n        timer(0, 1000)\r\n            .pipe(\r\n                takeWhile(() => this.countdown > 0),\r\n                takeUntil(this._unsubscribeAll),\r\n                tap(() => this.countdown--),\r\n                finalize(() =>\r\n                {\r\n                    //Redirecciona al login\r\n                    this._router.navigate(['sign-in']);\r\n                    // Sign out after the countdown\r\n                    this._authService.signOut();\r\n                    // Reload the page after signing out\r\n                    window.location.reload();\r\n                }),\r\n            )\r\n            .subscribe();\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<div class=\"flex flex-col flex-auto items-center sm:justify-center min-w-0\">\r\n    <div class=\"w-full sm:w-auto py-8 px-4 sm:p-12 sm:rounded-2xl sm:shadow sm:bg-card\">\r\n        <div class=\"w-full max-w-80 sm:w-80 mx-auto sm:mx-0\">\r\n            <!-- Logo -->\r\n            <div class=\"w-12 mx-auto\">\r\n                <img [src]=\"logo\">\r\n            </div>\r\n\r\n            <!-- Title -->\r\n            <div class=\"mt-8 text-4xl font-extrabold tracking-tight leading-tight text-center\">¡Nos vemos pronto!</div>\r\n            <div class=\"flex justify-center mt-0.5 font-medium\">\r\n                <!-- Redirect countdown -->\r\n                <ng-container *ngIf=\"countdown > 0\">\r\n                    Será redirecionado en {{countdown | i18nPlural: countdownMapping }}\r\n                </ng-container>\r\n\r\n                <!-- Redirect message -->\r\n                <ng-container *ngIf=\"countdown === 0\">\r\n                    Rediriguiendo...\r\n                </ng-container>\r\n            </div>\r\n\r\n            <!-- Form footer -->\r\n            <div class=\"mt-8 text-md font-medium text-secondary text-center\">\r\n                <span>Ir a</span>\r\n                <a class=\"ml-1 text-primary-500 hover:underline\" [routerLink]=\"['/sign-in']\">Iniciar Sesión\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Routes } from '@angular/router';\r\nimport { AuthSignOutComponent } from 'app/modules/auth/sign-out/sign-out.component';\r\n\r\nexport default [\r\n    {\r\n        path     : '',\r\n        component: AuthSignOutComponent,\r\n    },\r\n] as Routes;\r\n"],"names":["I18nPluralPipe","NgIf","RouterLink","finalize","Subject","takeUntil","takeWhile","tap","timer","i0","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ctx_r0","countdown","countdownMapping","AuthSignOutComponent","constructor","_authService","_router","_empresaService","_unsubscribeAll","ngOnInit","empresa$","pipe","subscribe","empresa","logo","getEmpresa","signOut","navigate","window","location","reload","ngOnDestroy","next","complete","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","EmpresaService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AuthSignOutComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtemplate","AuthSignOutComponent_ng_container_8_Template","AuthSignOutComponent_ng_container_9_Template","ɵɵproperty","ɵɵsanitizeUrl","ɵɵpureFunction0","_c0","encapsulation","path","component"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}