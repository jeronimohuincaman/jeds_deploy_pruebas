{"version":3,"file":"src_app_modules_auth_sign-out_sign-out_routes_ts.js","mappings":"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","sources":["./src/app/modules/auth/sign-out/sign-out.component.ts","./src/app/modules/auth/sign-out/sign-out.component.html","./src/app/modules/auth/sign-out/sign-out.routes.ts"],"sourcesContent":["import { I18nPluralPipe, NgIf } from '@angular/common';\nimport { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router, RouterLink } from '@angular/router';\nimport { EmpresaService } from '@shared/service/app/empresa.service';\nimport { AuthService } from 'app/core/auth/auth.service';\nimport { finalize, Subject, take, takeUntil, takeWhile, tap, timer } from 'rxjs';\n\n@Component({\n    selector     : 'auth-sign-out',\n    templateUrl  : './sign-out.component.html',\n    encapsulation: ViewEncapsulation.None,\n    standalone   : true,\n    imports      : [NgIf, RouterLink, I18nPluralPipe],\n})\nexport class AuthSignOutComponent implements OnInit, OnDestroy\n{\n    countdown: number = 5;\n    countdownMapping: any = {\n        '=1'   : '# segundo',\n        'other': '# segundos',\n    };\n    logo: string;\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\n\n    /**\n     * Constructor\n     */\n    constructor(\n        private _authService: AuthService,\n        private _router: Router,\n        private _empresaService: EmpresaService\n    ){}\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n    ngOnInit(): void\n    {\n        // Subscribe to empresa data\n        this._empresaService.empresa$\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(empresa => {\n                this.logo = empresa.logo;\n            });\n\n        // Load empresa data\n        this._empresaService.getEmpresa();\n        // Sign out\n        this._authService.signOut();\n\n        // Redirect after the countdown\n        timer(0, 1000)\n            .pipe(\n                takeWhile(() => this.countdown > 0),\n                takeUntil(this._unsubscribeAll),\n                tap(() => this.countdown--),\n                finalize(() =>\n                {\n                    //Redirecciona al login\n                    this._router.navigate(['sign-in']);\n                    // Sign out after the countdown\n                    this._authService.signOut();\n                    // Reload the page after signing out\n                    window.location.reload();\n                }),\n            )\n            .subscribe();\n    }\n\n    /**\n     * On destroy\n     */\n    ngOnDestroy(): void\n    {\n        // Unsubscribe from all subscriptions\n        this._unsubscribeAll.next(null);\n        this._unsubscribeAll.complete();\n    }\n}\n","<div class=\"flex flex-col flex-auto items-center sm:justify-center min-w-0\">\n    <div class=\"w-full sm:w-auto py-8 px-4 sm:p-12 sm:rounded-2xl sm:shadow sm:bg-card\">\n        <div class=\"w-full max-w-80 sm:w-80 mx-auto sm:mx-0\">\n            <!-- Logo -->\n            <div class=\"w-12 mx-auto\">\n                <img [src]=\"logo\">\n            </div>\n\n            <!-- Title -->\n            <div class=\"mt-8 text-4xl font-extrabold tracking-tight leading-tight text-center\">¡Nos vemos pronto!</div>\n            <div class=\"flex justify-center mt-0.5 font-medium\">\n                <!-- Redirect countdown -->\n                <ng-container *ngIf=\"countdown > 0\">\n                    Será redirecionado en {{countdown | i18nPlural: countdownMapping }}\n                </ng-container>\n\n                <!-- Redirect message -->\n                <ng-container *ngIf=\"countdown === 0\">\n                    Rediriguiendo...\n                </ng-container>\n            </div>\n\n            <!-- Form footer -->\n            <div class=\"mt-8 text-md font-medium text-secondary text-center\">\n                <span>Ir a</span>\n                <a class=\"ml-1 text-primary-500 hover:underline\" [routerLink]=\"['/sign-in']\">Iniciar Sesión\n                </a>\n            </div>\n        </div>\n    </div>\n</div>","import { Routes } from '@angular/router';\nimport { AuthSignOutComponent } from 'app/modules/auth/sign-out/sign-out.component';\n\nexport default [\n    {\n        path     : '',\n        component: AuthSignOutComponent,\n    },\n] as Routes;\n"],"names":["I18nPluralPipe","NgIf","RouterLink","finalize","Subject","takeUntil","takeWhile","tap","timer","i0","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ctx_r0","countdown","countdownMapping","AuthSignOutComponent","constructor","_authService","_router","_empresaService","_unsubscribeAll","ngOnInit","empresa$","pipe","subscribe","empresa","logo","getEmpresa","signOut","navigate","window","location","reload","ngOnDestroy","next","complete","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","EmpresaService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AuthSignOutComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtemplate","AuthSignOutComponent_ng_container_8_Template","AuthSignOutComponent_ng_container_9_Template","ɵɵproperty","ɵɵsanitizeUrl","ɵɵpureFunction0","_c0","encapsulation","path","component"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}