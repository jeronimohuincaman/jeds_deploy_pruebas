{"version":3,"file":"src_app_modules_ventas_facturacion_facturacion_module_ts.js","mappings":"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","sources":["./src/app/modules/ventas/facturacion/components/asociar-venta/asociar-venta/asociar-venta.component.ts","./src/app/modules/ventas/facturacion/components/asociar-venta/asociar-venta/asociar-venta.component.html","./src/app/modules/ventas/facturacion/components/calcular-unitario/calcular-unitario.component.ts","./src/app/modules/ventas/facturacion/components/calcular-unitario/calcular-unitario.component.html","./src/app/modules/ventas/facturacion/components/dialog-acciones-factura/dialog-acciones/dialog-acciones.component.ts","./src/app/modules/ventas/facturacion/components/dialog-acciones-factura/dialog-acciones/dialog-acciones.component.html","./src/app/modules/ventas/facturacion/components/facturas.component.ts","./src/app/modules/ventas/facturacion/components/facturas.component.html","./src/app/modules/ventas/facturacion/components/guardar-factura/guardar-factura.component.ts","./src/app/modules/ventas/facturacion/components/guardar-factura/guardar-factura.component.html","./src/app/modules/ventas/facturacion/facturacion.module.ts","./src/app/modules/ventas/facturacion/services/facturacion.service.ts"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { EmpresaService } from '@shared/service/app/empresa.service';\nimport {\n    debounceTime,\n    distinctUntilChanged,\n    startWith,\n    Subject,\n    takeUntil,\n} from 'rxjs';\nimport { FacturacionService } from '../../../services/facturacion.service';\nimport { AppAlertService } from '@shared/service/app/alert.service';\n\n@Component({\n    selector: 'app-asociar-venta',\n    templateUrl: './asociar-venta.component.html',\n    styleUrls: ['./asociar-venta.component.scss'],\n})\nexport class AsociarVentaComponent {\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\n    color_primario: string;\n    color_secundario: string;\n    default_color: string = 'bg-primary';\n    ventaForm: FormGroup;\n\n    idCliente: number;\n    clientes;\n    clientesSub;\n    idCobro;\n    cobros;\n    idFactura = this.data.codigo;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private _empresaService: EmpresaService,\n        public dialogRef: MatDialogRef<AsociarVentaComponent>,\n        private facturacionService: FacturacionService,\n        private alert: AppAlertService\n    ) {\n        this._empresaService.empresa$\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe((empresa) => {\n                this.color_primario = empresa.color_primario;\n                this.color_secundario = empresa.color_secundario;\n            });\n    }\n\n    ngOnInit(): void {\n        this._empresaService.getEmpresa();\n        this.getClientes();\n        this.newForm();\n    }\n\n    getClientes(value?) {\n        let filter = value ? `?filter[razonSocial][like]=${value}` : '';\n        this.facturacionService.getClientes(filter).subscribe({\n            next: (res: any) => {\n                this.clientes = res.result;\n            },\n        });\n    }\n\n    getCobros() {\n        let filter = `?filter[idcliente]=${this.idCliente}`;\n        this.facturacionService.getDatosCobro(filter).subscribe({\n            next: (res: any) => {\n                this.cobros = res.result;\n                this.ventaForm.get('pago').enable();\n            },\n        });\n    }\n\n    newForm() {\n        this.ventaForm = new FormGroup({\n            cliente: new FormControl(''),\n            pago: new FormControl({\n                value: '',\n                disabled: this.data.idcobro ? false : true,\n            }),\n        });\n\n        this.initObservadores();\n    }\n\n    initObservadores() {\n        this.clientesSub = this.ventaForm\n            .get('cliente')\n            .valueChanges.pipe(\n                distinctUntilChanged(),\n                debounceTime(350),\n                startWith(' ')\n            )\n            .subscribe((value) => {\n                if (typeof value == 'string') {\n                    this.getClientes(value);\n                } else {\n                    this.idCliente = value.codigo;\n                    this.getCobros();\n                }\n            });\n    }\n\n    displayFn(cliente): string {\n        return cliente && cliente.razonSocial ? cliente.razonSocial : '';\n    }\n\n    onCloseMenu(data) {\n        this.dialogRef.close(data);\n    }\n\n    onSubmit() {\n        let pago = this.ventaForm.get('pago').value;\n\n        if (pago && this.idFactura) {\n            let payload = {\n                idfactura: this.idFactura,\n                idcobro: pago,\n            };\n\n            this.facturacionService.asociarCobro(payload).subscribe({\n                next: (res: any) => {\n                    if (res.success == true) {\n                        this.alert.success(res.message);\n                        this.onCloseMenu(true);\n                    } else {\n                        this.alert.error(res.message);\n                    }\n                },\n            });\n        }\n    }\n}\n","<div\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\n        <span class=\"text-white font-bold text-lg\">Pago Asociado a Factura {{idFactura}}</span>\n        <div>\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\n                <mat-icon class=\"text-white\">close</mat-icon>\n            </button>\n        </div>\n    </div>\n    <div class=\"flex flex-col w-full h-full p-4\">\n        <form [formGroup]=\"ventaForm\">\n            <div class=\"w-full flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\"\n                        >Cliente</span\n                    >\n                    <mat-form-field class=\"w-full\">\n                        <input type=\"text\"\n                               placeholder=\"Seleccionar cliente\"\n                               matInput\n                               [matAutocomplete]=\"auto\"\n                               formControlName=\"cliente\">\n                        <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\n                          <mat-option *ngFor=\"let cliente of clientes\" [value]=\"cliente\">\n                            {{cliente.razonSocial}}\n                          </mat-option>\n                        </mat-autocomplete>\n                      </mat-form-field>\n            </div>\n            <div class=\"w-full flex flex-col\">\n                <span class=\"font-semibold text-[#323639]\">Pago</span>\n                <mat-form-field>\n                    <mat-select formControlName=\"pago\">\n                        <mat-option *ngFor=\"let cobro of cobros\" [value]=\"cobro.idcobro\">\n                            <b> N{{cobro.idcobro}} </b> - {{cobro.fecha}} <i> (${{cobro.importe_real}}) </i>\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n        </form>\n    </div>\n    <div class=\"w-full md:flex md:justify-end md:pb-6 md:px-6 mt-auto\">\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\n            [style.background-color]=\"color_primario || '' \"\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\n            <span class=\"text-white font-medium text-base\">Guardar</span>\n        </button>\n    </div>\n</div>","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { IAlertConfig } from '@shared/models/alert';\nimport { finalize, Subject, takeUntil, takeWhile, tap, timer } from 'rxjs';\nimport { EmpresaService } from '@shared/service/app/empresa.service';\nimport { IResponse } from '@shared/models/response-with-token';\nimport { FacturacionService } from '../../services/facturacion.service';\n@Component({\n    selector: 'app-calcular-unitario',\n    templateUrl: './calcular-unitario.component.html',\n    styleUrls: ['./calcular-unitario.component.scss']\n})\nexport class CalcularUnitarioComponent implements OnInit {\n    columns = ['nombre', 'activo', 'acciones'];\n    form: FormGroup;\n    title: string;\n    showAlert = false;\n    _alertConfig: IAlertConfig;\n    color_primario: string;\n    color_secundario: string;\n    default_color: string = 'bg-primary';\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\n    deposito_default = 0;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private _empresaService: EmpresaService,\n        private alert: AppAlertService,\n        private facturacionService: FacturacionService,\n        public dialogRef: MatDialogRef<CalcularUnitarioComponent>\n    ) {\n        this.title = `Calcular Precio Unitario ${this.data.descripcion}`;\n\n        // Subscribe to empresa data\n        this._empresaService.empresa$\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(empresa => {\n                this.color_primario = empresa.color_primario;\n                this.color_secundario = empresa.color_secundario;\n                this.deposito_default = empresa.deposito_default;\n            });\n    }\n\n    ngOnInit(): void {\n        // Load empresa data\n        this._empresaService.getEmpresa();\n        this.newForm();\n        this.subscribeAlert();\n    }\n\n    // Alert\n    subscribeAlert() {\n        this.alert.emitConfig.subscribe({\n            next: (config: IAlertConfig) => {\n                this.showAlert = true;\n                this._alertConfig = {\n                    ...config,\n                    appearance: 'border',\n                };\n                let time = 2;\n                timer(100, 1500)\n                    .pipe(\n                        finalize(() => {\n                            this.showAlert = false;\n                            this._alertConfig = null;\n                        }),\n                        takeWhile(() => time > 0),\n                        takeUntil(this._unsubscribeAll),\n                        tap(() => (time -= 1))\n                    )\n                    .subscribe();\n            },\n        });\n    }\n\n    newForm() {\n        this.form = new FormGroup({\n            articulo: new FormControl({ value: `${this.data.codigo_interno} | ${this.data.descripcion}`, disabled: true }, Validators.required),\n            bruto: new FormControl((''), Validators.required),\n        });\n    }\n\n    onSubmit() {\n        if (!this.form.valid) {\n            return this.alert.error('Revise Los Datos Ingresados');\n        } else {\n            const payload = {\n                idarticulo: this.data.idarticulo,\n                bruto: this.form.get('bruto').value\n            }\n\n            this.facturacionService.calcularPrecioUnitario(payload)\n                .subscribe({\n                    next: (data: IResponse<any>) => {\n                        if (data) {\n                            this.creadoExitosamente.emit();\n                            this.onCloseMenu(data);\n                        }\n                    }\n                })\n        }\n    }\n\n    onCloseMenu(data) {\n        this.dialogRef.close(data)\n    }\n}","<div\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\n        <div>\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\n                <mat-icon class=\"text-white\">close</mat-icon>\n            </button>\n        </div>\n    </div>\n    <!-- Alert -->\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\n        {{ _alertConfig.message }}\n    </fuse-alert>\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"form\">\n        <mat-form-field appearance='outline' class=\"w-full\">\n            <mat-label>Artculo</mat-label>\n            <input matInput formControlName='articulo' [value]=\"data.descripcion\">\n        </mat-form-field>\n        <mat-form-field appearance='outline' class=\" w-full\">\n            <mat-label>Bruto</mat-label>\n            <input matInput formControlName='bruto' (keydown.enter)=\"onSubmit()\">\n        </mat-form-field>\n    </form>\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\">\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\n            [style.background-color]=\"color_primario || '' \"\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\n            <span class=\"text-white font-medium text-base\">Calcular</span>\n        </button>\n    </div>\n</div>","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { EmpresaService } from '@shared/service/app/empresa.service';\nimport { FacturacionService } from '../../../services/facturacion.service';\nimport { AppAlertService } from '@shared/service/app/alert.service';\nimport { Subject, takeUntil } from 'rxjs';\n\n@Component({\n    selector: 'app-dialog-acciones',\n    templateUrl: './dialog-acciones.component.html',\n    styleUrls: ['./dialog-acciones.component.scss'],\n})\nexport class DialogAccionesComponent {\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\n    title: string;\n    color_primario: string;\n    color_secundario: string;\n    default_color: string = 'bg-primary';\n    deposito_default: number;\n    showAlert: boolean;\n    _alertConfig: any;\n    idFactura: number;\n    accion: string;\n    descripcion: string;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private _empresaService: EmpresaService,\n        private alert: AppAlertService,\n        private facturacionService: FacturacionService,\n        public dialogRef: MatDialogRef<DialogAccionesComponent>\n    ) {\n        this.title = this.data.title;\n        this.descripcion = this.data.descripcion;\n        this.idFactura = this.data.codigoFactura;\n        this.accion = this.data.accion;\n\n        // Subscribe to empresa data\n        this._empresaService.empresa$\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe((empresa) => {\n                this.color_primario = empresa.color_primario;\n                this.color_secundario = empresa.color_secundario;\n                this.deposito_default = empresa.deposito_default;\n            });\n    }\n\n    ngOnInit(): void {\n        // Load empresa data\n        this._empresaService.getEmpresa();\n    }\n\n    onCloseMenu(data) {\n        this.dialogRef.close(data);\n    }\n\n    onSubmit() {\n        switch (this.accion) {\n            case 'delete':\n                this.facturacionService\n                    .deleteFactura(this.idFactura)\n                    .subscribe({\n                        next: (res: any) => {\n                            if (res.success = true) {\n                                this.alert.success(res.message);\n                                this.onCloseMenu(true);\n                            } else {\n                                this.alert.error(res.errors);\n                            }\n                        },\n                    });\n                break;\n            case 'generar':\n                let filter = `?idfactura=${this.idFactura}`\n                this.facturacionService\n                    .generarComprobanteFactura(filter)\n                    .subscribe({\n                        next: (res: any) => {\n                            if (res.success == true) {\n                                this.alert.success(res.message);\n                                this.onCloseMenu(true);\n                            } else {\n                                this.alert.error(res.message);\n                            }\n                        },\n                    });\n                break;\n        }\n    }\n}\n","<div\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\n        <div>\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\n                <mat-icon class=\"text-white\">close</mat-icon>\n            </button>\n        </div>\n    </div>\n    <!-- Alert -->\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\n        {{ _alertConfig.message }}\n    </fuse-alert>\n    <div class=\"flex flex-col w-full h-full p-4\">\n        <div [innerHTML]=\"descripcion\" class=\"flex justify-center items-center\">\n\n        </div>\n    </div>\n    <div class=\"w-full md:flex md:justify-end md:pb-6 md:px-6 mt-auto\">\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\n            [style.background-color]=\"color_primario || '' \"\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\n            <span class=\"text-white font-medium text-base\">Confirmar</span>\n        </button>\n    </div>\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\nimport { FacturacionService } from '../services/facturacion.service';\nimport { environment } from 'environments/environment';\nimport { EmpresaService } from '@shared/service/app/empresa.service';\nimport { Subject, takeUntil } from 'rxjs';\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\nimport { AppAlertService } from '@shared/service/app/alert.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DialogAccionesComponent } from './dialog-acciones-factura/dialog-acciones/dialog-acciones.component';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { AsociarVentaComponent } from './asociar-venta/asociar-venta/asociar-venta.component';\n\n@Component({\n    selector: 'app-facturas',\n    templateUrl: './facturas.component.html',\n    styleUrls: ['./facturas.component.scss'],\n})\nexport class FacturasComponent implements OnInit {\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\n    color_primario: string;\n    color_secundario: string;\n    default_color: string = 'bg-primary';\n    column_params = [\n        'fechaEmision',\n        'tipo',\n        'num_comprobante',\n        'puntoVenta',\n        'cliente_razonsocial',\n        /* 'formaPago', */\n        'importeTotal',\n        'generada',\n        'acciones',\n    ];\n    headers = [\n        'Fecha',\n        'Tipo',\n        'Nmero',\n        'Pto. de Venta',\n        'Cliente',\n        /* 'Forma de Pago', */\n        'Total',\n        'Generada',\n        '',\n    ];\n    funcionesObjeto = null;\n    accionesObjeto = null;\n    showMenu: any;\n    filtroBusqueda: string = '';\n    filtersLike = ['descripcion'];\n    env = environment.ventas.view_fe_facturas + '?';\n    extraParams = '';\n    base64: string;\n    safeURL = null;\n    constructor(\n        private headerTextService: HeaderTextService,\n        private router: Router,\n        private facturacionService: FacturacionService,\n        private empresaService: EmpresaService,\n        private alert: AppAlertService,\n        private dialog: MatDialog,\n        private sanitizer: DomSanitizer\n    ) {\n        this.headerTextService.setTitulo(this.router);\n    }\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\n    ngOnInit(): void {\n        this.empresaService.empresa$\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe((empresa) => {\n                this.color_primario = empresa.color_primario;\n                this.color_secundario = empresa.color_secundario;\n            });\n\n        this.funcionesObjeto = [\n            {\n                iconoAccion: () => '',\n                iconoAccionado: () => '',\n                iconoDeshabilitado: () => '',\n                visible: () => false,\n            },\n        ];\n\n        this.showMenu = () => true;\n\n        this.accionesObjeto = [\n            {\n                nombre_boton: 'Editar',\n                functionName: 'editar',\n                iconoAccion: (factura) =>\n                    factura.generada == 'Si'\n                        ? 'jedstion:editar_disabled'\n                        : 'jedstion:editar',\n                iconoAccionado: () => '',\n                iconoDeshabilitado: () => '',\n                visible: () => true,\n            },\n            {\n                nombre_boton: 'Imprimir Factura',\n                functionName: 'imprimir_factura',\n                iconoAccion: (factura) =>\n                    factura.generada != 'Si'\n                        ? 'jedstion:imprimir_disabled'\n                        : 'jedstion:imprimir',\n                iconoAccionado: () => '',\n                iconoDeshabilitado: () => '',\n                visible: () => true,\n            },\n            {\n                nombre_boton: 'Asociar Cobro',\n                functionName: 'asociar_cobro',\n                iconoAccion: (factura) =>\n                    factura.idcobro\n                        ? 'jedstion:cotizar_disabled'\n                        : 'jedstion:cotizar',\n                iconoAccionado: () => '',\n                iconoDeshabilitado: () => '',\n                visible: () => true,\n            },\n            {\n                nombre_boton: 'Generar Factura',\n                functionName: 'generar_factura',\n                iconoAccion: (factura) =>\n                    factura.generada == 'Si'\n                        ? 'jedstion:generar_factura_disabled'\n                        : 'jedstion:generar_factura',\n                iconoAccionado: () => '',\n                iconoDeshabilitado: () => '',\n                visible: () => true,\n            },\n            {\n                nombre_boton: 'Eliminar',\n                functionName: 'eliminar',\n                iconoAccion: (factura) =>\n                    factura.generada == 'Si'\n                        ? 'jedstion:eliminar_disabled'\n                        : 'jedstion:eliminar',\n                iconoAccionado: () => '',\n                iconoDeshabilitado: () => '',\n                visible: () => true,\n            },\n        ];\n    }\n\n    generarAcciones(event: { name: string; params: any }) {\n        switch (event.name) {\n            case 'editar':\n                if (event.params.data.generada == 'Si') {\n                    this.alert.error(\n                        'La factura fue generada y no puede editarse'\n                    );\n                } else {\n                    this.editarFactura(event);\n                }\n                break;\n            case 'imprimir_factura':\n                if (event.params.data.generada != 'Si') {\n                    this.alert.error(\n                        'La factura no puede imprimirse porque no ha sido generada'\n                    );\n                } else {\n                    this.imprimirFactura(event);\n                }\n                break;\n            case 'asociar_cobro':\n                if (event.params.data.idcobro) {\n                    this.alert.error('La factura ya tiene un cobro asociado');\n                } else {\n                    this.asociarCobro(event);\n                }\n                break;\n            case 'generar_factura':\n                if (event.params.data.generada == 'Si') {\n                    this.alert.error('La factura ya fue generada');\n                } else {\n                    this.generarComprobanteFactura(event);\n                }\n                break;\n            case 'eliminar':\n                if (event.params.data.generada == 'Si') {\n                    this.alert.error('No puede eliminar una factura generada');\n                } else {\n                    this.deleteFactura(event);\n                }\n                break;\n        }\n    }\n\n    nuevaFactura() {\n        this.router.navigate(['facturas/nueva-factura']);\n    }\n\n    editarFactura(event) {\n        let codigoFactura = event.params.data.codigo;\n        this.router.navigate([`facturas/editar-factura/${codigoFactura}`]);\n    }\n\n    deleteFactura(event) {\n        let codigoFactura = event.params.data.codigo;\n        this.dialog\n            .open(DialogAccionesComponent, {\n                panelClass: 'ayuda-dialog',\n                data: {\n                    codigoFactura: codigoFactura,\n                    title: 'Eliminar Factura',\n                    accion: 'delete',\n                    descripcion: `<span class=\"font-semibold text-lg\">Confirma la eliminacin de la factura N ${codigoFactura}? <br>\n                    Esta operacin es irreversible. Desea continuar?</span>`,\n                },\n            })\n            .afterClosed()\n            .subscribe({\n                next: (res) => {\n                    this.tabla.eventoUpdate();\n                },\n            });\n    }\n\n    generarComprobanteFactura(event) {\n        let codigoFactura = event.params.data.codigo;\n        this.dialog\n            .open(DialogAccionesComponent, {\n                panelClass: 'ayuda-dialog',\n                data: {\n                    codigoFactura: codigoFactura,\n                    title: 'Generar Factura',\n                    accion: 'generar',\n                    descripcion: `<span class=\"font-semibold text-lg\">Confirma la generacin de la factura N ${codigoFactura}? <br>\n                    Esta operacin es irreversible. Desea continuar?</span>`,\n                },\n            })\n            .afterClosed()\n            .subscribe({\n                next: (res) => {\n                    this.tabla.eventoUpdate();\n                },\n            });\n    }\n\n    asociarCobro(event) {\n        let data = event.params.data;\n        this.dialog\n            .open(AsociarVentaComponent, {\n                data: data,\n                panelClass: 'ayuda-dialog',\n            })\n            .afterClosed()\n            .subscribe({\n                next: (res: any) => {\n                    this.tabla.eventoUpdate();\n                },\n            });\n    }\n\n    imprimirFactura(event) {\n        let data = event.params.data;\n        let filter = `?id=${data.codigo}&copia=$1`;\n        this.facturacionService.imprimirFactura(filter).subscribe({\n            next: (res: any) => {\n                this.base64 = 'data:application/pdf;base64,' + res.result;\n                this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(\n                    this.base64\n                );\n            },\n        });\n    }\n\n    cerrarIFrame() {\n        this.safeURL = null;\n    }\n}\n","<div class=\"w-full h-full flex-col p-2\" *ngIf=\"safeURL\">\n    <div class=\"flex items-center h-[10%]\">\n        <mat-icon class=\"cursor-pointer\" (click)=\"cerrarIFrame()\"> arrow_back_ios </mat-icon>\n        <span class=\"font-semibold text-[#65758c] cursor-pointer\" (click)=\"cerrarIFrame()\">\n            Cerrar\n        </span>\n    </div>\n    <iframe [src]=\"safeURL\" frameborder=\"1\" class=\"w-full h-[90%]\"></iframe>\n</div>\n<div class=\"w-full h-full flex flex-col p-2\" *ngIf=\"safeURL == null\">\n    <div class=\"w-full flex justify-end px-2\">\n        <div class=\"w-1/7 flex justify-center items-center\">\n            <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\n                (click)=\"nuevaFactura()\"\n                [style.color]=\"color_primario || '' \" class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\">\n                <div class=\"flex item-center\">\n                    <!-- SVG con fill=\"currentColor\" -->\n                    <svg id=\"note_plus\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\n                        xmlns=\"http://www.w3.org/2000/svg\">\n                        <path\n                            d=\"M15.8333 10.8333C16.4167 10.8333 16.975 10.9417 17.5 11.125V7.5L12.5 2.5H4.16667C3.24167 2.5 2.5 3.24167 2.5 4.16667V15.8333C2.5 16.7583 3.25 17.5 4.16667 17.5H11.125C10.9417 16.975 10.8333 16.4167 10.8333 15.8333C10.8333 13.075 13.075 10.8333 15.8333 10.8333ZM11.6667 3.75L16.25 8.33333H11.6667V3.75ZM19.1667 15V16.6667H16.6667V19.1667H15V16.6667H12.5V15H15V12.5H16.6667V15H19.1667Z\" />\n                    </svg>\n                    <span class=\"ml-2 text-lg mt-0.5\">Nueva Factura</span>\n                </div>\n            </button>\n        </div>\n    </div>\n    <div class=\"px-2\">\n        <!-- Tabla dinmica -->\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\" [cache]=\"false\"\n            [columnsNames]=\"headers\" [renderType]=\"'ssp'\" [columnsParams]=\"column_params\" [endpoint]=\"env\"\n            [functions]=\"funcionesObjeto\" [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\n            (functionEmitter)=\"generarAcciones($event)\" [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\"\n            [acciones]=\"accionesObjeto\" [showMenu]=\"showMenu\">\n        </app-tabla-dinamica>\n    </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\nimport { EmpresaService } from '@shared/service/app/empresa.service';\nimport {\n    debounceTime,\n    distinctUntilChanged,\n    startWith,\n    Subject,\n    takeUntil,\n} from 'rxjs';\nimport { FacturacionService } from '../../services/facturacion.service';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\nimport { AppAlertService } from '@shared/service/app/alert.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { CalcularUnitarioComponent } from '../calcular-unitario/calcular-unitario.component';\n\nconst MY_DATE_FORMATS = {\n    parse: {\n        dateInput: 'mm/dd/yyyy',\n    },\n    display: {\n        dateInput: 'dd/MM/yyyy',\n        monthYearLabel: 'MMM yyyy',\n        dateA11yLabel: 'LL',\n        monthYearA11yLabel: 'MMMM yyyy',\n    },\n};\n\n@Component({\n    selector: 'app-guardar-factura',\n    templateUrl: './guardar-factura.component.html',\n    styleUrls: ['./guardar-factura.component.scss'],\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }],\n})\nexport class GuardarFacturaComponent implements OnInit, OnDestroy {\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\n    color_primario: string;\n    color_secundario: string;\n    default_color: string = 'bg-primary';\n    fechaActual: Date = new Date();\n\n    spinner: boolean = false;\n\n    totalIVA;\n    bruto = 0;\n    subtotal: number;\n    faltaFacturarVista;\n    montoFaltaFacturar;\n    diferencia: number;\n\n    observaciones: FormControl;\n\n    clienteCobro;\n    clientes;\n    clientesSub;\n    puntosVenta: [] = [];\n    ultimoComprobanteAutorizado: number;\n    comprobantes;\n    comprobanteComboSub;\n    puntoVentaSub;\n    comprobantesAsociados: [] = [];\n    ventasAsociadas: [] = [];\n    facturaForm: FormGroup;\n\n    articulosSub;\n    articulos: [] = [];\n\n    facturaDataSource = new MatTableDataSource<any>([]);\n\n    cantidadSub;\n    precioUnitarioSub;\n    desdeCobranza: boolean;\n    idFactura: number;\n    factura;\n    isEdicion: boolean = false;\n    cobro = null;\n    idCobro: number;\n    idcliente: number;\n    columns = [\n        'detalle',\n        'cantidad',\n        'precio_unitario',\n        'subtotal',\n        'iva',\n        'total',\n        'acciones',\n    ];\n    disableGuardar: boolean;\n    constructor(\n        private router: Router,\n        private route: ActivatedRoute,\n        private textService: HeaderTextService,\n        private empresaService: EmpresaService,\n        private facturacionService: FacturacionService,\n        private alert: AppAlertService,\n        private dialog: MatDialog\n    ) {\n        this.textService.setTitulo(this.router);\n        if (this.router.url.split('/').includes('guardar-factura')) {\n            this.idCobro = Number(this.router.url.split('/')[3].split('?')[0]);\n        } else {\n            this.idCobro = null;\n        }\n        if (this.router.url.split('/').includes('editar-factura')) {\n            this.idFactura = Number(\n                this.router.url.split('/')[3].split('?')[0]\n            );\n            this.isEdicion = true;\n        }\n    }\n\n    ngOnInit(): void {\n        this.empresaService.empresa$\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe((empresa) => {\n                this.color_primario = empresa.color_primario;\n                this.color_secundario = empresa.color_secundario;\n            });\n\n        if (this.isEdicion == true) {\n            this.getDatosFactura().then((res) => {\n                this.getData().then((res) => {\n                    this.newForm().then((res) => {\n                        this.calcularImportes();\n                        this.spinner = false;\n                    });\n                });\n            });\n        } else {\n            if (this.idCobro) {\n                this.getDatosCobro().then((res) => {\n                    this.getData().then((res) => {\n                        this.newForm().then((res) => {\n                            this.spinner = false;\n                        });\n                    });\n                });\n            } else {\n                this.newForm().then((res) => {\n                    this.spinner = false;\n                });\n                this.getData();\n            }\n        }\n    }\n\n    initObservadores() {\n        this.cantidadSub = this.facturaForm\n            .get('cantidad')\n            .valueChanges.subscribe((value) => {\n                if (value > 0) {\n                    this.calcularImportes();\n                } else {\n                    this.alert.error('La cantidad no puede ser menor a 1');\n                }\n            });\n\n        this.precioUnitarioSub = this.facturaForm\n            .get('precioUnitario')\n            .valueChanges.subscribe((value) => {\n                if (value > 0) {\n                    this.calcularImportes();\n                } else {\n                    this.alert.error(\n                        'El precio unitario no puede ser menor a 1'\n                    );\n                }\n            });\n\n        this.articulosSub = this.facturaForm\n            .get('articulo')\n            .valueChanges.pipe(\n                distinctUntilChanged(),\n                debounceTime(350),\n                startWith(' ')\n            )\n            .subscribe((value) => {\n                if (typeof value == 'string') {\n                    this.getArticulos(value);\n                }\n            });\n\n        this.clientesSub = this.facturaForm\n            .get('cliente')\n            .valueChanges.pipe(distinctUntilChanged(), debounceTime(350))\n            .subscribe((value) => {\n                if (typeof value == 'string') {\n                    this.getClientes(value);\n                } else {\n                    this.idcliente = value.codigo;\n                    this.getVentasAsociadas();\n                }\n            });\n\n        this.comprobanteComboSub = this.facturaForm\n            .get('comprobante')\n            .valueChanges.subscribe((value) => {\n                if (value != String) {\n                    this.getUltimoComprobanteAurorizado();\n                }\n\n                let isFactura = value.Desc.toLowerCase()\n                    .split(' ')\n                    .includes('factura');\n                if (isFactura == true) {\n                    this.facturaForm.get('comprobanteAsociado').setValue('');\n                    this.facturaForm.get('comprobanteAsociado').disable();\n                } else {\n                    let isCredito = value.Desc.toLowerCase()\n                        .normalize('NFD')\n                        .replace(/[\\u0300-\\u036f]/g, '')\n                        .split(' ')\n                        .includes('credito');\n                    let isDebito = value.Desc.toLowerCase()\n                        .normalize('NFD')\n                        .replace(/[\\u0300-\\u036f]/g, '')\n                        .split(' ')\n                        .includes('debito');\n                    if (isCredito == true) {\n                        let filter: string = `?filter[cliente]=${this.idcliente}&filter[generada]=1&filter[comprobante_asociado]=false`;\n                        this.getComprobantesAsociados(filter);\n                    }\n\n                    if (isDebito == true) {\n                        let filter: string = `?filter[cliente]=${this.idcliente}&filter[generada]=1&filter[comprobante_asociado]=true`;\n                        this.getComprobantesAsociados(filter);\n                    }\n                    this.facturaForm.get('comprobanteAsociado').setValue('');\n                    this.facturaForm.get('comprobanteAsociado').enable();\n                }\n            });\n\n        this.puntoVentaSub = this.facturaForm\n            .get('puntoVenta')\n            .valueChanges.subscribe((value) => {\n                if (value) {\n                    this.getUltimoComprobanteAurorizado();\n                }\n            });\n    }\n\n    async getData(): Promise<void> {\n        try {\n            const resultados = await Promise.all([\n                this.getClientes(),\n                this.getDatosEmpresa(),\n                this.getArticulos(' '),\n            ]);\n        } catch (error) {\n            this.alert.error('Ocurri un error al cargar los datos');\n        }\n    }\n\n    getDatosFactura(): Promise<void> {\n        this.spinner = true;\n        return new Promise((resolve, reject) => {\n            let filter = `?id=${this.idFactura}`;\n            this.facturacionService.getDatosFactura(filter).subscribe({\n                next: (res: any) => {\n                    if (res.success == true) {\n                        this.factura = res.result.factura;\n                        this.facturaDataSource.data = res.result.items;\n                        this.facturaDataSource.data.forEach((item) => {\n                            item.total = item.cantidad * item.importe_unitario;\n                        });\n                        this.idcliente = this.factura.cliente;\n\n                        resolve();\n                    }\n                },\n            });\n        });\n    }\n\n    newForm(): Promise<void> {\n        return new Promise((resolve, reject) => {\n            this.facturaForm = new FormGroup({\n                fecha: new FormControl(\n                    this.factura ? this.factura.fechaEmision : this.fechaActual,\n                    Validators.required\n                ),\n                vencimientoPago: new FormControl(\n                    this.factura\n                        ? this.factura.fechaVencimientoPago\n                        : this.fechaActual,\n                    Validators.required\n                ),\n                fechaDesde: new FormControl(\n                    this.factura\n                        ? this.factura.fechaServicioDesde\n                        : this.fechaActual,\n                    Validators.required\n                ),\n                fechaHasta: new FormControl(\n                    this.factura\n                        ? this.factura.fechaServicioHasta\n                        : this.fechaActual,\n                    Validators.required\n                ),\n                cliente: new FormControl(''),\n                comprobante: new FormControl(\n                    this.factura ? this.factura.tipoComprobante : '',\n                    Validators.required\n                ),\n                numero: new FormControl(\n                    {\n                        value: this.factura ? this.factura.numero : '',\n                        disabled: true,\n                    },\n                    Validators.required\n                ),\n                puntoVenta: new FormControl(\n                    this.factura ? Number(this.factura.puntoVenta) : '',\n                    Validators.required\n                ),\n                tipoPago: new FormControl(\n                    this.factura ? this.factura.contado : 0,\n                    Validators.required\n                ),\n                comprobanteAsociado: new FormControl({\n                    value: this.factura\n                        ? this.factura.comprobante_asociado\n                        : '',\n                    disabled: this.factura?.comprobante_asociado ? false : true,\n                }),\n                ventaAsociada: new FormControl(\n                    this.factura ? this.factura.idventa : '',\n                    Validators.required\n                ),\n                articulo: new FormControl(''),\n                cantidad: new FormControl(''),\n                precioUnitario: new FormControl(''),\n                total: new FormControl({\n                    value: '',\n                    disabled: true,\n                }),\n                detalle: new FormControl(''),\n            });\n\n            (this.observaciones = new FormControl(\n                this.factura ? this.factura.observaciones : ''\n            )),\n                this.initObservadores();\n\n            resolve();\n        });\n    }\n\n    getUltimoComprobanteAurorizado() {\n        let tipoComprobante = this.facturaForm.get('comprobante').value.Id;\n        let puntoVenta = this.facturaForm.get('puntoVenta').value.toString();\n\n        if (tipoComprobante && puntoVenta) {\n            let payload = {\n                puntoVenta: puntoVenta,\n                tipoComprobante: tipoComprobante,\n            };\n\n            this.facturacionService\n                .getUltimoComprobanteAutorizado(payload)\n                .subscribe({\n                    next: (res: any) => {\n                        this.ultimoComprobanteAutorizado =\n                            res.result.comprobanteNro;\n                        this.facturaForm\n                            .get('numero')\n                            .setValue(this.ultimoComprobanteAutorizado);\n                    },\n                });\n        }\n    }\n\n    calcularImportes() {\n        let cantidad = this.facturaForm.get('cantidad').value;\n        let precioUnitario = this.facturaForm.get('precioUnitario').value;\n        let total = cantidad * precioUnitario;\n\n        this.facturaForm.get('total').setValue(total);\n        if (this.isEdicion == true) {\n            this.facturaDataSource.data.forEach((item) => {\n                item.subtotal = item.cantidad * item.importe_unitario;\n            });\n            this.subtotal = Number(\n                this.facturaDataSource.data.reduce(\n                    (acc, item) => acc + Number(item.subtotal),\n                    0\n                )\n            );\n\n            this.totalIVA = this.facturaDataSource.data.reduce(\n                (acc, item) => acc + Number(item.subtotal_iva),\n                0\n            );\n\n            this.bruto =\n                this.facturaDataSource.data.reduce(\n                    (acc, item) => acc + Number(item.total),\n                    0\n                ) + this.totalIVA;\n        }\n    }\n\n    calcularPrecioUnitario() {\n        const articuloSeleccionado = this.facturaForm.get('articulo').value;\n\n        if (!articuloSeleccionado) {\n            return this.alert.error('Seleccione un artculo vlido');\n        }\n\n        this.dialog\n            .open(CalcularUnitarioComponent, {\n                data: articuloSeleccionado,\n                panelClass: 'ayuda-dialog',\n            })\n            .afterClosed()\n            .subscribe({\n                next: (res) => {\n                    if (res.success == true) {\n                        this.facturaForm\n                            .get('precioUnitario')\n                            .setValue(res.result);\n                    }\n                },\n            });\n    }\n\n    displayFn(cliente): string {\n        return cliente && cliente.razonSocial ? cliente.razonSocial : '';\n    }\n    displayFnArticulos(articulo): string {\n        return articulo && articulo.descripcion ? articulo.descripcion : '';\n    }\n\n    getArticulos(value?: string) {\n        let filter: string =\n            `?sort=descripcion&pagination=1&sort=-total_stock&per-page=10&page=0&filter[tipo][in][]=1&filter[tipo][in][]=2` +\n            `&filter[descripcion][like]=${value}`;\n        //let filterBusqueda: string = `&filter[descripcion][like]=${value}`;\n        this.facturacionService.getArticulos(filter).subscribe({\n            next: (res: any) => {\n                this.articulos = res.result;\n            },\n        });\n    }\n\n    getClientes(value?) {\n        let filter;\n        if (\n            (this.isEdicion == true && this.factura) ||\n            (this.cobro && !value)\n        ) {\n            filter = `?filter[codigo]=${this.idcliente}`;\n        } else {\n            filter = value ? `?filter[razonSocial][like]=${value}` : '';\n        }\n        this.facturacionService.getClientes(filter).subscribe({\n            next: (res: any) => {\n                this.clientes = res.result;\n                if (this.cobro) {\n                    this.facturaForm.get('cliente').setValue(this.clientes[0]);\n                    this.getVentasAsociadas();\n                }\n                if (this.factura && this.isEdicion == true) {\n                    this.facturaForm.get('cliente').setValue(this.clientes[0]);\n                }\n            },\n        });\n    }\n\n    getDatosEmpresa() {\n        this.facturacionService.getDatosEmpresa().subscribe({\n            next: (res: any) => {\n                if (res.success == true) {\n                    this.comprobantes = res.result.comprobantes;\n                    let comprobantesValidos = ['factura', 'debito', 'credito'];\n                    this.comprobantes = this.comprobantes.filter(\n                        (comprobante: any) =>\n                            comprobantesValidos.some((valid: string) =>\n                                comprobante.Desc.toLowerCase()\n                                    .normalize('NFD')\n                                    .replace(/[\\u0300-\\u036f]/g, '')\n                                    .split(' ')\n                                    .includes(valid)\n                            )\n                    );\n\n                    if (this.isEdicion == true && this.factura) {\n                        let comprobanteSeleccionado = this.comprobantes.filter(\n                            (comprobante) =>\n                                comprobante.Id == this.factura.tipoComprobante\n                        );\n\n                        this.facturaForm\n                            .get('comprobante')\n                            .setValue(comprobanteSeleccionado[0]);\n                    }\n                    this.puntosVenta = res.result.puntosVenta;\n                } else {\n                    this.alert.error(res.mensaje);\n                }\n            },\n        });\n    }\n\n    getVentasAsociadas() {\n        let filter;\n        filter = `?filter[idcliente]=${this.idcliente}`;\n        this.facturacionService.getVentasAsociadas(filter).subscribe({\n            next: (res: any) => {\n                this.ventasAsociadas = res.result;\n            },\n        });\n    }\n\n    getComprobantesAsociados(value?) {\n        let filterUltimoComprobante: string =\n            value + `?filter[numero]=${this.ultimoComprobanteAutorizado}`;\n\n        this.facturacionService\n            .getComprobantesAsociados(filterUltimoComprobante)\n            .subscribe({\n                next: (res: any) => {\n                    this.comprobantesAsociados = res.result;\n\n                    if (\n                        this.isEdicion == true &&\n                        this.factura.comprobante_asociado\n                    ) {\n                        let comprobanteAsociado =\n                            this.comprobantesAsociados.filter(\n                                (comprobanteAsoc: any) =>\n                                    comprobanteAsoc.codigo ==\n                                    this.factura.comprobante_asociado\n                            );\n\n                        this.facturaForm\n                            .get('comprobanteAsociado')\n                            .setValue(comprobanteAsociado[0]);\n                    }\n                },\n            });\n    }\n\n    getDatosCobro() {\n        this.spinner = true;\n        return new Promise((resolve, reject) => {\n            let filter = `?filter[idcobro]=${this.idCobro}`;\n            this.facturacionService.getDatosCobro(filter).subscribe({\n                next: (res: any) => {\n                    this.cobro = res.result[0];\n                    this.idcliente = this.cobro.idcliente;\n                    this.faltaFacturarVista = Number(this.cobro.a_facturar); //Para mostrar en la vista\n                    this.montoFaltaFacturar = Number(this.cobro.a_facturar); //Para calculos\n                    resolve(true);\n                },\n            });\n        });\n    }\n\n    goBack() {\n        this.router.navigate(['/facturas']);\n    }\n\n    formatDate(date: Date) {\n        let fecha = new Date(date);\n        let seconds = fecha.getSeconds().toString().padStart(2, '0');\n        let minutes = fecha.getMinutes().toString().padStart(2, '0');\n        let hours = fecha.getHours().toString().padStart(2, '0');\n        let day = fecha.getDate().toString().padStart(2, '0');\n        let month = (fecha.getMonth() + 1).toString().padStart(2, '0');\n        let year = fecha.getFullYear();\n        return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    }\n\n    async removeArticulo(articulo) {\n        this.montoFaltaFacturar =\n            (await this.montoFaltaFacturar) + articulo.total;\n        this.subtotal = (await this.subtotal) - articulo.subtotal;\n        this.totalIVA = (await this.totalIVA) - articulo.importeIVA;\n        this.bruto = (await this.subtotal) + this.totalIVA;\n\n        if (this.cobro) {\n            this.faltaFacturarVista = this.montoFaltaFacturar;\n            if (this.faltaFacturarVista == 0) {\n                this.facturaForm.get('articulo').disable();\n                this.facturaForm.get('cantidad').disable();\n                this.facturaForm.get('precioUnitario').disable();\n                this.facturaForm.get('detalle').disable();\n            } else {\n                this.facturaForm.get('articulo').enable();\n                this.facturaForm.get('cantidad').enable();\n                this.facturaForm.get('precioUnitario').enable();\n                this.facturaForm.get('detalle').enable();\n            }\n        }\n\n        this.facturaDataSource.data = this.facturaDataSource.data.filter(\n            (item) => item.idarticulo != articulo.idarticulo\n        );\n    }\n\n    addArticulo() {\n        let articulo = this.facturaForm.get('articulo').value;\n        let cantidad = this.facturaForm.get('cantidad').value;\n        let precioUnitario = this.facturaForm.get('precioUnitario').value;\n        let subtotal = cantidad * precioUnitario;\n        let porcentajeIVA = Number(articulo.iva_porcentaje);\n        let subtotal_iva = (porcentajeIVA / 100) * subtotal;\n        let detalle = `${articulo.codigo_interno} - ${\n            this.facturaForm.get('detalle').value || articulo.descripcion\n        }`;\n\n        // Se formatean los numeros a 2 decimales (como dice el backendista que hace el back)\n        let totalArticulo = Number((subtotal + subtotal_iva).toFixed(2));\n\n        let diferencia = Number((Math.abs(this.faltaFacturarVista - totalArticulo)).toFixed(2));\n\n        if (this.cobro && diferencia > 10 && totalArticulo > this.faltaFacturarVista) {\n            this.alert.error(\n                'El monto total del artculo excede el monto total a facturar.'\n            );\n            return;\n        }\n\n        if (\n            this.facturaDataSource.data.some(\n                (itemTabla) => itemTabla.idarticulo == articulo.idarticulo\n            )\n        ) {\n            this.alert.error('No puede agregar el mismo artculo');\n            return;\n        }\n        if (\n            !articulo ||\n            !cantidad ||\n            !precioUnitario ||\n            !subtotal_iva ||\n            !porcentajeIVA ||\n            !subtotal ||\n            !detalle ||\n            !totalArticulo\n        ) {\n            this.alert.error('Revise los campos del artculo');\n            return;\n        }\n\n        let itemTabla = {\n            idarticulo: articulo.idarticulo,\n            cantidad: cantidad,\n            importe_unitario: precioUnitario,\n            subtotal: subtotal,\n            porcentajeIVA: porcentajeIVA,\n            subtotal_iva: subtotal_iva,\n            detalle: detalle,\n            total: totalArticulo,\n        };\n\n        this.facturaDataSource.data = [\n            ...this.facturaDataSource.data,\n            itemTabla,\n        ];\n\n        this.subtotal = this.facturaDataSource.data.reduce(\n            (acc, item) => acc + item.subtotal,\n            0\n        );\n\n        this.totalIVA = this.facturaDataSource.data.reduce(\n            (acc, item) => acc + item.subtotal_iva,\n            0\n        );\n\n        this.bruto = this.facturaDataSource.data.reduce(\n            (acc, item) => acc + item.total,\n            0\n        );\n\n        this.facturaForm.get('total').setValue('');\n        this.facturaForm.get('articulo').setValue('');\n        this.facturaForm.get('cantidad').setValue('');\n        this.facturaForm.get('precioUnitario').setValue('');\n        this.facturaForm.get('detalle').setValue('');\n        if (this.cobro) {\n            this.montoFaltaFacturar = this.montoFaltaFacturar - totalArticulo;\n\n            this.faltaFacturarVista = this.montoFaltaFacturar;\n            if (this.faltaFacturarVista == 0) {\n                this.facturaForm.get('articulo').disable();\n                this.facturaForm.get('cantidad').disable();\n                this.facturaForm.get('precioUnitario').disable();\n                this.facturaForm.get('detalle').disable();\n            } else {\n                this.facturaForm.get('articulo').enable();\n                this.facturaForm.get('cantidad').enable();\n                this.facturaForm.get('precioUnitario').enable();\n                this.facturaForm.get('detalle').enable();\n            }\n        }\n    }\n\n    onSubmit() {\n        let fechaEmision = this.formatDate(this.facturaForm.get('fecha').value);\n        let fechaVencimientoPago = this.formatDate(\n            this.facturaForm.get('vencimientoPago').value\n        );\n        let fechaDesde = this.formatDate(\n            this.facturaForm.get('fechaDesde').value\n        );\n        let fechaHasta = this.formatDate(\n            this.facturaForm.get('fechaHasta').value\n        );\n\n        if (this.faltaFacturarVista > 10) {\n            this.alert.error('La diferencia est fuera del rango permitido');\n            return;\n        }\n\n        if (this.facturaForm.valid == false) {\n            this.alert.error('Verifique los campos del formulario');\n            return;\n        }\n\n        let payload = {\n            factura: {\n                fechaEmision: fechaEmision,\n                fechaVencimientoPago: fechaVencimientoPago,\n                cliente: this.facturaForm.get('cliente').value.codigo,\n                tipoComprobante: this.facturaForm.get('comprobante').value.Id,\n                puntoVenta: this.facturaForm.get('puntoVenta').value.toString(),\n                fechaServicioDesde: fechaDesde,\n                fechaServicioHasta: fechaHasta,\n                contado: this.facturaForm.get('tipoPago').value,\n                comprobante_asociado:\n                    this.facturaForm.get('comprobanteAsociado').value.codigo ||\n                    null,\n                observaciones: this.observaciones.value || null,\n                idventa: this.facturaForm.get('ventaAsociada').value || null, // opcional\n                idcobro: this.idCobro || null,\n                //venta: null, // opcional\n                //idventapago: null, // opcional\n                //idcobroformapago: null, // opcional\n            },\n            items: this.facturaDataSource.data,\n        };\n\n        payload.items.forEach((item) => {\n            delete item.total;\n            delete item.importe_bonificado;\n            delete item.importe_total;\n            delete item.factura;\n            delete item.porcentaje_bonificado;\n            delete item.porcentajeIVA;\n            delete item.importeIVA;\n            delete item.subtotal;\n            delete item.idstkarticulo;\n            delete item.subtotal_iva;\n        });\n\n        if (this.isEdicion == true) {\n            payload.items.forEach((item) => {\n                delete item.total;\n                item.idstkarticulo != undefined\n                    ? (item.idarticulo = item.idstkarticulo)\n                    : '';\n                delete item.importe_bonificado;\n                delete item.importe_total;\n                delete item.factura;\n                delete item.porcentaje_bonificado;\n                delete item.porcentajeIVA;\n                delete item.importeIVA;\n                delete item.subtotal;\n                delete item.idstkarticulo;\n                delete item.subtotal_iva;\n            });\n\n            this.facturacionService\n                .editarFactura(payload, this.idFactura)\n                .subscribe({\n                    next: (res: any) => {\n                        if ((res.success = true)) {\n                            this.alert.success(res.mensaje);\n                            this.router.navigate(['/facturas']);\n                        } else {\n                            this.alert.error(res.mensaje);\n                        }\n                    },\n                });\n        } else {\n            this.facturacionService.createFactura(payload).subscribe({\n                next: (res: any) => {\n                    if ((res.success = true)) {\n                        this.alert.success(res.mensaje);\n                        this.router.navigate(['/facturas']);\n                    } else {\n                        this.alert.error(res.mensaje);\n                    }\n                },\n            });\n        }\n    }\n\n    ngOnDestroy(): void {}\n}\n","<div class=\"w-full h-full flex justify-center items-center\" *ngIf=\"spinner\">\n    <spinner-component *ngIf=\"spinner\"></spinner-component>\n</div>\n<div\n    class=\"w-full h-full flex flex-col px-4 py-2 overflow-y-auto inset-0 absolute\"\n    *ngIf=\"!spinner\"\n>\n    <div class=\"w-full flex justify-start items-center py-2\">\n        <div class=\"flex items-center\">\n            <mat-icon class=\"cursor-pointer\" (click)=\"goBack()\">\n                arrow_back_ios\n            </mat-icon>\n            <span\n                class=\"font-semibold text-[#65758c] cursor-pointer\"\n                (click)=\"goBack()\"\n            >\n                Volver\n            </span>\n        </div>\n    </div>\n    <form [formGroup]=\"facturaForm\" class=\"w-full flex flex-col gap-2\">\n        <div class=\"w-full flex items-center gap-4\">\n            <div class=\"flex flex-col w-2/12\">\n                <span class=\"font-semibold text-[#323639] ml-1\">Fecha</span>\n                <mat-form-field>\n                    <input\n                        matInput\n                        [matDatepicker]=\"pickerFecha\"\n                        formControlName=\"fecha\"\n                        placeholder=\"DD/MM/AAAA\"\n                    />\n                    <mat-datepicker-toggle\n                        matIconSuffix\n                        [for]=\"pickerFecha\"\n                    ></mat-datepicker-toggle>\n                    <mat-datepicker #pickerFecha></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col w-2/12\">\n                <span class=\"font-semibold text-[#323639] ml-1\"\n                    >Vto. Para el Pago</span\n                >\n                <mat-form-field>\n                    <input\n                        matInput\n                        [matDatepicker]=\"pickerPago\"\n                        formControlName=\"vencimientoPago\"\n                        placeholder=\"DD/MM/AAAA\"\n                    />\n                    <mat-datepicker-toggle\n                        matIconSuffix\n                        [for]=\"pickerPago\"\n                    ></mat-datepicker-toggle>\n                    <mat-datepicker #pickerPago></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col w-2/12\">\n                <span class=\"font-semibold text-[#323639] ml-1\"\n                    >Fecha Desde</span\n                >\n                <mat-form-field>\n                    <input\n                        matInput\n                        [matDatepicker]=\"pickerDesde\"\n                        formControlName=\"fechaDesde\"\n                        placeholder=\"DD/MM/AAAA\"\n                    />\n                    <mat-datepicker-toggle\n                        matIconSuffix\n                        [for]=\"pickerDesde\"\n                    ></mat-datepicker-toggle>\n                    <mat-datepicker #pickerDesde></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col w-2/12\">\n                <span class=\"font-semibold text-[#323639] ml-1\"\n                    >Fecha Hasta</span\n                >\n                <mat-form-field>\n                    <input\n                        matInput\n                        [matDatepicker]=\"pickerHasta\"\n                        formControlName=\"fechaHasta\"\n                        placeholder=\"DD/MM/AAAA\"\n                    />\n                    <mat-datepicker-toggle\n                        matIconSuffix\n                        [for]=\"pickerHasta\"\n                    ></mat-datepicker-toggle>\n                    <mat-datepicker #pickerHasta></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center w-4/12\">\n                <div class=\"flex flex-col w-full\">\n                    <span class=\"font-semibold text-[#323639] ml-1\"\n                        >Cliente</span\n                    >\n                    <mat-form-field class=\"w-full\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Seleccionar cliente\"\n                            matInput\n                            [matAutocomplete]=\"auto\"\n                            formControlName=\"cliente\"\n                        />\n                        <mat-autocomplete\n                            #auto=\"matAutocomplete\"\n                            [displayWith]=\"displayFn\"\n                        >\n                            <mat-option\n                                *ngFor=\"let cliente of clientes\"\n                                [value]=\"cliente\"\n                            >\n                                {{ cliente.razonSocial }}\n                            </mat-option>\n                        </mat-autocomplete>\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n        <div class=\"w-full items-center flex gap-4 pb-2\">\n            <div class=\"w-4/12\">\n                <span class=\"font-semibold text-lg\"\n                    >Razn Social:\n                    {{ facturaForm.get(\"cliente\").value.razonSocial }}</span\n                >\n            </div>\n            <div class=\"w-4/12\">\n                <span class=\"font-semibold text-lg\"\n                    >Domicilio:\n                    {{\n                        facturaForm.get(\"cliente\").value.domicilioFiscal ||\n                            facturaForm.get(\"cliente\").value.direccion\n                    }}</span\n                >\n            </div>\n            <div class=\"w-2/12\">\n                <span class=\"font-semibold text-lg\"\n                    >CUIT:\n                    {{\n                        facturaForm.get(\"cliente\").value.Cuit != \"null\" &&\n                        facturaForm.get(\"cliente\").value.Cuit != null\n                            ? facturaForm.get(\"cliente\").value.Cuit\n                            : \"-\"\n                    }}</span\n                >\n            </div>\n            <div class=\"w-2/12\">\n                <span class=\"font-semibold text-lg\"\n                    >IVA:\n                    {{\n                        facturaForm.get(\"cliente\").value\n                            .condicioniva_descripcion\n                    }}</span\n                >\n            </div>\n        </div>\n        <div class=\"w-full flex gap-4 mt-2\">\n            <div class=\"w-4/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\"\n                    >Comprobante</span\n                >\n                <mat-form-field>\n                    <mat-select\n                        formControlName=\"comprobante\"\n                        placeholder=\"Seleccionar comprobante\"\n                    >\n                        <mat-option\n                            *ngFor=\"let comprobante of comprobantes\"\n                            [value]=\"comprobante\"\n                        >\n                            {{ comprobante.Desc }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class=\"w-3/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\"\n                    >Pto. de Venta</span\n                >\n                <mat-form-field>\n                    <mat-select\n                        formControlName=\"puntoVenta\"\n                        placeholder=\"Seleccionar punto de venta\"\n                    >\n                        <mat-option\n                            *ngFor=\"let puntoVenta of puntosVenta\"\n                            [value]=\"puntoVenta.Nro\"\n                        >\n                            {{ puntoVenta.Nro }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class=\"w-2/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\">Nmero</span>\n                <mat-form-field>\n                    <input matInput type=\"number\" formControlName=\"numero\" />\n                </mat-form-field>\n            </div>\n            <div class=\"w-3/12 flex justify-center items-center px-3\">\n                <mat-radio-group\n                    class=\"w-full flex items-center gap-2\"\n                    formControlName=\"tipoPago\"\n                >\n                    <mat-radio-button [value]=\"1\">Contado</mat-radio-button>\n                    <mat-radio-button [value]=\"0\"\n                        >Cuenta Corriente</mat-radio-button\n                    >\n                </mat-radio-group>\n            </div>\n        </div>\n        <div class=\"w-2/3 flex gap-4\">\n            <div class=\"w-1/2 flex flex-col\">\n                <span class=\"font-semibold text-[#323639]\"\n                    >Comprobante Asociado</span\n                >\n                <mat-form-field>\n                    <mat-select formControlName=\"comprobanteAsociado\">\n                        <mat-option\n                            *ngFor=\"\n                                let comprobanteAsociado of comprobantesAsociados\n                            \"\n                            [value]=\"comprobanteAsociado\"\n                        >\n                            {{ comprobanteAsociado.num_comprobante }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class=\"w-1/2 flex flex-col\">\n                <span class=\"font-semibold text-[#323639]\">Venta Asociada</span>\n                <mat-form-field>\n                    <mat-select formControlName=\"ventaAsociada\">\n                        <mat-option\n                            *ngFor=\"let ventaAsociada of ventasAsociadas\"\n                            [value]=\"ventaAsociada.idventa\"\n                        >\n                            {{\n                                ventaAsociada.cliente +\n                                    \" - \" +\n                                    ventaAsociada.fecha +\n                                    \"($\" +\n                                    ventaAsociada.importe_total +\n                                    \")\"\n                            }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"w-full flex gap-4\">\n            <div class=\"w-3/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\">Artculo</span>\n                <mat-form-field class=\"w-full\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Seleccionar artculo\"\n                        matInput\n                        [matAutocomplete]=\"autoArticulo\"\n                        formControlName=\"articulo\"\n                    />\n                    <mat-autocomplete\n                        #autoArticulo=\"matAutocomplete\"\n                        [displayWith]=\"displayFnArticulos\"\n                    >\n                        <mat-option\n                            *ngFor=\"let articulo of articulos\"\n                            [value]=\"articulo\"\n                        >\n                            {{ articulo.descripcion }}\n                        </mat-option>\n                    </mat-autocomplete>\n                </mat-form-field>\n            </div>\n            <div class=\"w-3/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\">Cantidad</span>\n                <mat-form-field>\n                    <input\n                        matInput\n                        type=\"number\"\n                        formControlName=\"cantidad\"\n                        placeholder=\"Ingresar cantidad\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"w-3/12 flex gap-3\">\n                <div class=\"w-10/12 flex flex-col\">\n                    <span class=\"font-semibold text-[#323639] ml-1\"\n                        >Precio Unitario</span\n                    >\n                    <mat-form-field>\n                        <input\n                            matInput\n                            type=\"number\"\n                            formControlName=\"precioUnitario\"\n                            placeholder=\"Ingresar precio unitario\"\n                        />\n                        <mat-hint class=\"ml-2\">*Sin IVA</mat-hint>\n                    </mat-form-field>\n                </div>\n                <div class=\"w-2/12 flex justify-center items-center\">\n                    <button\n                        mat-icon-button\n                        [style.background-color]=\"color_primario || ''\"\n                        (click)=\"calcularPrecioUnitario()\"\n                    >\n                        <mat-icon\n                            svgIcon=\"jedstion:cotizar\"\n                            class=\"icon-size-[40px]\"\n                        ></mat-icon>\n                    </button>\n                </div>\n            </div>\n            <div class=\"w-3/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\">Total</span>\n                <mat-form-field>\n                    <input matInput type=\"number\" formControlName=\"total\" />\n                    <span matTextPrefix>$&nbsp;</span>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"w-full flex items-center\">\n            <div class=\"w-11/12 flex flex-col\">\n                <span class=\"font-semibold text-[#323639] ml-1\">Detalle</span>\n                <mat-form-field>\n                    <input\n                        matInput\n                        formControlName=\"detalle\"\n                        placeholder=\"Ingresar detalle\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"w-1/12 flex justify-center items-center\">\n                <button\n                    mat-icon-button\n                    [style.background-color]=\"color_primario || ''\"\n                    (click)=\"addArticulo()\"\n                >\n                    <mat-icon\n                        svgIcon=\"jedstion:agregar\"\n                        class=\"icon-size-[40px]\"\n                    ></mat-icon>\n                </button>\n            </div>\n        </div>\n    </form>\n    <div class=\"w-full rounded-br-md drop-shadow-lg\">\n        <table mat-table [dataSource]=\"facturaDataSource\" class=\"w-full\">\n            <ng-container matColumnDef=\"detalle\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white rounded-tl-md\"\n                    [style.background-color]=\"color_primario || ''\"\n                >\n                    Detalle\n                </th>\n                <td mat-cell *matCellDef=\"let element\">\n                    {{ element.detalle }}\n                </td>\n            </ng-container>\n            <ng-container matColumnDef=\"cantidad\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white\"\n                    [style.background-color]=\"color_primario || ''\"\n                >\n                    Cantidad\n                </th>\n                <td mat-cell *matCellDef=\"let element\">\n                    {{ element.cantidad }}\n                </td>\n            </ng-container>\n            <ng-container matColumnDef=\"precio_unitario\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white\"\n                    [style.background-color]=\"color_primario || ''\"\n                >\n                    Precio Unitario\n                </th>\n                <td mat-cell *matCellDef=\"let element\">\n                    {{ element.importe_unitario | number : \"1.2-2\" }}\n                </td>\n            </ng-container>\n            <ng-container matColumnDef=\"subtotal\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white\"\n                    [style.background-color]=\"color_primario || ''\"\n                >\n                    Subtotal\n                </th>\n                <td mat-cell *matCellDef=\"let element\">\n                    {{ element.subtotal | number : \"1.2-2\" }}\n                </td>\n            </ng-container>\n            <ng-container matColumnDef=\"iva\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white\"\n                    [style.background-color]=\"color_primario || ''\"\n                >\n                    IVA\n                </th>\n                <td mat-cell *matCellDef=\"let element\">\n                    {{\n                        element.subtotal_iva > 0\n                            ? \"$\" + (element.subtotal_iva | number : \"1.2-2\")\n                            : \"\"\n                    }}\n                    {{\n                        element.importeIVA > 0 && element.porcentajeIVA\n                            ? \"(\" +\n                              (element.porcentajeIVA | number : \"1.2-2\") +\n                              \"%\" +\n                              \")\"\n                            : \"\"\n                    }}\n                </td>\n            </ng-container>\n            <ng-container matColumnDef=\"total\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white\"\n                    [style.background-color]=\"color_primario || ''\"\n                >\n                    Total\n                </th>\n                <td mat-cell *matCellDef=\"let element\">\n                    {{ element.total | number : \"1.2-2\" }}\n                </td>\n            </ng-container>\n            <ng-container matColumnDef=\"acciones\">\n                <th\n                    mat-header-cell\n                    *matHeaderCellDef\n                    class=\"text-white rounded-tr-md\"\n                    [style.background-color]=\"color_primario || ''\"\n                ></th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div\n                        class=\"flex justify-center\"\n                        *ngIf=\"element.acciones != ''\"\n                    >\n                        <mat-icon\n                            class=\"cursor-pointer hover:bg-gray-200 p-5 rounded-full\"\n                            [style.color]=\"color_primario || ''\"\n                            (click)=\"removeArticulo(element)\"\n                        >\n                            delete\n                        </mat-icon>\n                    </div>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"columns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: columns\"></tr>\n        </table>\n    </div>\n    <div class=\"w-full flex items-center gap-4 pt-4\">\n        <div class=\"flex flex-col w-full\">\n            <span class=\"font-semibold text-[#323639] ml-1\"\n                >Observaciones</span\n            >\n            <mat-form-field>\n                <input\n                    matInput\n                    [formControl]=\"observaciones\"\n                    placeholder=\"Ingresar observaciones\"\n                />\n            </mat-form-field>\n        </div>\n    </div>\n    <div class=\"w-full flex justify-end items-center\">\n        <div class=\"w-1/3 flex flex-col p-2 gap-1\">\n            <span class=\"font-semibold text-lg\">\n                Subtotal: {{ subtotal != 0 && subtotal != undefined ? \"$\" : \"\"\n                }}{{ subtotal != 0 ? (subtotal | number : \"1.2-2\") : '' }}\n            </span>\n            <span class=\"font-semibold text-lg\"\n                >IVA: {{ totalIVA > 0 ? \"$\" : \"\"\n                }}{{ totalIVA | number : \"1.2-2\" }}</span\n            >\n            <span class=\"font-semibold text-lg\"\n                >Bruto:{{ bruto > 0 ? \"$\" : \"\" }}\n                {{ bruto != 0 ? (bruto | number : \"1.2-2\") : '' }}</span\n            >\n            <span class=\"font-semibold text-lg\" *ngIf=\"cobro\"\n                >Falta Facturar:\n                {{\n                    faltaFacturarVista != 0 && faltaFacturarVista != undefined\n                        ? \"$\"\n                        : \"\"\n                }}{{ faltaFacturarVista | number : \"1.2-2\" }}</span\n            >\n        </div>\n    </div>\n    <div class=\"w-full flex justify-end items-center pt-4\">\n        <button\n            mat-flat-button\n            (click)=\"onSubmit()\"\n            [disabled]=\"faltaFacturarVista > 10 || bruto == 0 && cobro\"\n            class=\"rounded-md text-white\"\n            [style.background-color]=\"color_primario || ''\"\n            [ngClass]=\"{ 'bg-gray-200': faltaFacturarVista > 10 || bruto == 0 && cobro}\"\n        >\n            Guardar\n        </button>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule, DatePipe } from '@angular/common';\nimport { GuardarFacturaComponent } from './components/guardar-factura/guardar-factura.component';\nimport { Route, RouterModule } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { FuseAlertComponent } from '@fuse/components/alert';\nimport { TablaDinamicaModule } from '@shared/components/tabla-dinamica/tabla-dinamica.module';\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\nimport { AppAlertService } from '@shared/service/app/alert.service';\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\nimport { FacturacionService } from './services/facturacion.service';\nimport { FacturasComponent } from './components/facturas.component';\nimport { CalcularUnitarioComponent } from './components/calcular-unitario/calcular-unitario.component';\nimport { DialogAccionesComponent } from './components/dialog-acciones-factura/dialog-acciones/dialog-acciones.component';\nimport { AsociarVentaComponent } from './components/asociar-venta/asociar-venta/asociar-venta.component';\n\nconst routes: Route[] = [\n    { path: '', component: FacturasComponent },\n    { path: 'guardar-factura/:id', component: GuardarFacturaComponent },\n    { path: 'nueva-factura', component: GuardarFacturaComponent },\n    { path: 'editar-factura/:id', component: GuardarFacturaComponent },\n];\n\n@NgModule({\n    declarations: [\n        FacturasComponent,\n        GuardarFacturaComponent,\n        CalcularUnitarioComponent,\n        DialogAccionesComponent,\n        AsociarVentaComponent,\n    ],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(routes),\n        MatTableModule,\n        MatButtonModule,\n        MatSelectModule,\n        MatFormFieldModule,\n        ReactiveFormsModule,\n        MatInputModule,\n        MatIconModule,\n        FuseAlertComponent,\n        MatTooltipModule,\n        MatAutocompleteModule,\n        MatToolbarModule,\n        MatCheckboxModule,\n        MatSortModule,\n        TablaDinamicaModule,\n        MatDialogModule,\n        MatRadioModule,\n        MatDatepickerModule,\n    ],\n    exports: [RouterModule],\n    providers: [\n        JedsMenuService,\n        AppAlertService,\n        DatePipe,\n        FuseConfirmationService,\n        FacturacionService,\n    ],\n})\nexport class FacturacionModule {}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'environments/environment';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class FacturacionService {\n    constructor(private http: HttpClient) {}\n\n    calcularPrecioUnitario(payload) {\n        return this.http.post<any>(\n            `${environment.ventas.vta_venta_calcular_unitario}`,\n            payload\n        );\n    }\n\n    getClientes(filter: string) {\n        return this.http.get(environment.administracion.clientes + filter);\n    }\n\n    getDatosEmpresa() {\n        return this.http.get(environment.ventas.get_datos_empresa);\n    }\n\n    getVentasAsociadas(filter: string) {\n        return this.http.get(environment.ventas.view_vta_ventas + filter);\n    }\n\n    getArticulos(filter: string) {\n        return this.http.get(environment.stock.view_articulos + filter);\n    }\n\n    getComprobantesAsociados(filter: string) {\n        return this.http.get(environment.ventas.view_fe_facturas + filter);\n    }\n\n    getUltimoComprobanteAutorizado(payload) {\n        return this.http.post(\n            environment.ventas.ultimo_comprobante_autorizado,\n            payload\n        );\n    }\n\n    getFacturas(filter: string) {\n        return this.http.get(environment.ventas.view_fe_facturas + filter);\n    }\n\n    getDatosFactura(filter: string) {\n        return this.http.get(environment.ventas.get_datos_factura + filter);\n    }\n\n    createFactura(payload) {\n        return this.http.post(environment.ventas.fe_facturas, payload);\n    }\n\n    editarFactura(payload, idFactura) {\n        return this.http.put(\n            environment.ventas.fe_facturas + '/' + idFactura,\n            payload\n        );\n    }\n\n    deleteFactura(codigoFactura: number) {\n        return this.http.delete(\n            environment.ventas.fe_facturas + '/' + codigoFactura\n        );\n    }\n\n    generarComprobanteFactura(filter: string) {\n        return this.http.get(\n            environment.ventas.generar_comprobante_factura + filter\n        );\n    }\n\n    imprimirFactura(filter) {\n        return this.http.get(\n            environment.ventas.reporte_comprobante_pdf + filter\n        );\n    }\n\n    getDatosCobro(filter: string) {\n        return this.http.get(environment.ventas.view_vta_cobros + filter);\n    }\n\n    asociarCobro(payload) {\n        return this.http.post(environment.ventas.asociar_cobro, payload);\n    }\n}\n"],"names":["FormControl","FormGroup","MAT_DIALOG_DATA","debounceTime","distinctUntilChanged","startWith","Subject","takeUntil","i0","elementStart","text","elementEnd","property","cliente_r3","advance","textInterpolate1","razonSocial","cobro_r4","idcobro","fecha","importe_real","AsociarVentaComponent","constructor","data","_empresaService","dialogRef","facturacionService","alert","_unsubscribeAll","default_color","idFactura","codigo","empresa$","pipe","subscribe","empresa","color_primario","color_secundario","ngOnInit","getEmpresa","getClientes","newForm","value","filter","next","res","clientes","result","getCobros","idCliente","getDatosCobro","cobros","ventaForm","get","enable","cliente","pago","disabled","initObservadores","clientesSub","valueChanges","displayFn","onCloseMenu","close","onSubmit","payload","idfactura","asociarCobro","success","message","error","directiveInject","i1","EmpresaService","i2","MatDialogRef","i3","FacturacionService","i4","AppAlertService","selectors","decls","vars","consts","template","AsociarVentaComponent_Template","rf","ctx","listener","AsociarVentaComponent_Template_button_click_5_listener","element","template","AsociarVentaComponent_mat_option_17_Template","AsociarVentaComponent_mat_option_23_Template","AsociarVentaComponent_Template_button_click_25_listener","classMap","styleProp","_r0","EventEmitter","Validators","finalize","takeWhile","tap","timer","ctx_r0","_alertConfig","type","showAlert","CalcularUnitarioComponent","columns","creadoExitosamente","editadoExitosamente","deposito_default","title","descripcion","subscribeAlert","emitConfig","config","appearance","time","form","articulo","codigo_interno","required","bruto","valid","idarticulo","calcularPrecioUnitario","emit","outputs","CalcularUnitarioComponent_Template","CalcularUnitarioComponent_Template_button_click_5_listener","CalcularUnitarioComponent_fuse_alert_8_Template","CalcularUnitarioComponent_Template_input_keydown_enter_17_listener","CalcularUnitarioComponent_Template_button_click_19_listener","textInterpolate","DialogAccionesComponent","codigoFactura","accion","deleteFactura","errors","generarComprobanteFactura","DialogAccionesComponent_Template","DialogAccionesComponent_Template_button_click_5_listener","DialogAccionesComponent_fuse_alert_8_Template","DialogAccionesComponent_Template_button_click_12_listener","sanitizeHtml","environment","TablaDinamicaComponent","FacturasComponent_div_0_Template_mat_icon_click_2_listener","restoreView","_r3","ctx_r2","nextContext","resetView","cerrarIFrame","FacturasComponent_div_0_Template_span_click_4_listener","ctx_r4","safeURL","sanitizeResourceUrl","FacturasComponent_div_1_Template_button_click_3_listener","_r6","ctx_r5","nuevaFactura","namespaceSVG","namespaceHTML","FacturasComponent_div_1_Template_app_tabla_dinamica_functionEmitter_10_listener","$event","ctx_r7","generarAcciones","ctx_r1","headers","column_params","env","funcionesObjeto","filtersLike","extraParams","accionesObjeto","showMenu","FacturasComponent","headerTextService","router","empresaService","dialog","sanitizer","filtroBusqueda","ventas","view_fe_facturas","setTitulo","iconoAccion","iconoAccionado","iconoDeshabilitado","visible","nombre_boton","functionName","factura","generada","event","name","params","editarFactura","imprimirFactura","navigate","open","panelClass","afterClosed","tabla","eventoUpdate","base64","bypassSecurityTrustResourceUrl","HeaderTextService","Router","i5","i6","MatDialog","i7","DomSanitizer","viewQuery","FacturasComponent_Query","FacturasComponent_div_0_Template","FacturasComponent_div_1_Template","MatTableDataSource","MAT_DATE_FORMATS","GuardarFacturaComponent_div_0_spinner_component_1_Template","spinner","cliente_r32","comprobante_r33","Desc","puntoVenta_r34","Nro","comprobanteAsociado_r35","num_comprobante","ventaAsociada_r36","idventa","importe_total","articulo_r37","ctx_r15","element_r38","detalle","ctx_r17","element_r39","cantidad","ctx_r19","pipeBind2","element_r40","importe_unitario","ctx_r21","element_r41","subtotal","ctx_r23","textInterpolate2","element_r42","subtotal_iva","importeIVA","porcentajeIVA","ctx_r25","element_r43","total","ctx_r27","GuardarFacturaComponent_div_1_td_163_div_1_Template_mat_icon_click_1_listener","_r48","element_r44","$implicit","ctx_r46","removeArticulo","ctx_r45","GuardarFacturaComponent_div_1_td_163_div_1_Template","acciones","ctx_r31","faltaFacturarVista","undefined","GuardarFacturaComponent_div_1_Template_mat_icon_click_3_listener","_r51","ctx_r50","goBack","GuardarFacturaComponent_div_1_Template_span_click_5_listener","ctx_r52","GuardarFacturaComponent_div_1_mat_option_49_Template","GuardarFacturaComponent_div_1_mat_option_69_Template","GuardarFacturaComponent_div_1_mat_option_75_Template","GuardarFacturaComponent_div_1_mat_option_93_Template","GuardarFacturaComponent_div_1_mat_option_99_Template","GuardarFacturaComponent_div_1_mat_option_108_Template","GuardarFacturaComponent_div_1_Template_button_click_123_listener","ctx_r53","GuardarFacturaComponent_div_1_Template_button_click_139_listener","ctx_r54","addArticulo","elementContainerStart","GuardarFacturaComponent_div_1_th_144_Template","GuardarFacturaComponent_div_1_td_145_Template","elementContainerEnd","GuardarFacturaComponent_div_1_th_147_Template","GuardarFacturaComponent_div_1_td_148_Template","GuardarFacturaComponent_div_1_th_150_Template","GuardarFacturaComponent_div_1_td_151_Template","GuardarFacturaComponent_div_1_th_153_Template","GuardarFacturaComponent_div_1_td_154_Template","GuardarFacturaComponent_div_1_th_156_Template","GuardarFacturaComponent_div_1_td_157_Template","GuardarFacturaComponent_div_1_th_159_Template","GuardarFacturaComponent_div_1_td_160_Template","GuardarFacturaComponent_div_1_th_162_Template","GuardarFacturaComponent_div_1_td_163_Template","GuardarFacturaComponent_div_1_tr_164_Template","GuardarFacturaComponent_div_1_tr_165_Template","GuardarFacturaComponent_div_1_span_183_Template","GuardarFacturaComponent_div_1_Template_button_click_185_listener","ctx_r55","facturaForm","_r4","_r5","_r7","domicilioFiscal","direccion","Cuit","condicioniva_descripcion","comprobantes","puntosVenta","comprobantesAsociados","ventasAsociadas","_r13","displayFnArticulos","articulos","facturaDataSource","observaciones","totalIVA","cobro","pureFunction1","_c0","MY_DATE_FORMATS","parse","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","GuardarFacturaComponent","route","textService","fechaActual","Date","isEdicion","url","split","includes","idCobro","Number","getDatosFactura","then","getData","calcularImportes","cantidadSub","precioUnitarioSub","articulosSub","getArticulos","idcliente","getVentasAsociadas","comprobanteComboSub","String","getUltimoComprobanteAurorizado","isFactura","toLowerCase","setValue","disable","isCredito","normalize","replace","isDebito","getComprobantesAsociados","puntoVentaSub","_this","_asyncToGenerator","resultados","Promise","all","getDatosEmpresa","resolve","reject","items","forEach","item","fechaEmision","vencimientoPago","fechaVencimientoPago","fechaDesde","fechaServicioDesde","fechaHasta","fechaServicioHasta","comprobante","tipoComprobante","numero","puntoVenta","tipoPago","contado","comprobanteAsociado","comprobante_asociado","ventaAsociada","precioUnitario","Id","toString","getUltimoComprobanteAutorizado","ultimoComprobanteAutorizado","comprobanteNro","reduce","acc","articuloSeleccionado","comprobantesValidos","some","comprobanteSeleccionado","mensaje","filterUltimoComprobante","comprobanteAsoc","a_facturar","montoFaltaFacturar","formatDate","date","seconds","getSeconds","padStart","minutes","getMinutes","hours","getHours","day","getDate","month","getMonth","year","getFullYear","_this2","iva_porcentaje","totalArticulo","toFixed","diferencia","Math","abs","itemTabla","importe_bonificado","porcentaje_bonificado","idstkarticulo","createFactura","ngOnDestroy","ActivatedRoute","features","ProvidersFeature","provide","useValue","GuardarFacturaComponent_Template","GuardarFacturaComponent_div_0_Template","GuardarFacturaComponent_div_1_Template","CommonModule","DatePipe","RouterModule","ReactiveFormsModule","MatAutocompleteModule","MatButtonModule","MatCheckboxModule","MatDatepickerModule","MatDialogModule","MatFormFieldModule","MatIconModule","MatInputModule","MatRadioModule","MatSelectModule","MatSortModule","MatTableModule","MatToolbarModule","MatTooltipModule","FuseAlertComponent","TablaDinamicaModule","FuseConfirmationService","JedsMenuService","routes","path","component","FacturacionModule","imports","forChild","declarations","exports","http","post","vta_venta_calcular_unitario","administracion","get_datos_empresa","view_vta_ventas","stock","view_articulos","ultimo_comprobante_autorizado","getFacturas","get_datos_factura","fe_facturas","put","delete","generar_comprobante_factura","reporte_comprobante_pdf","view_vta_cobros","asociar_cobro","inject","HttpClient","factory","fac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}