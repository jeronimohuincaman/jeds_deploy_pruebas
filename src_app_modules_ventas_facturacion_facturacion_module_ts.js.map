{"version":3,"file":"src_app_modules_ventas_facturacion_facturacion_module_ts.js","mappings":"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","sources":["./src/app/modules/ventas/facturacion/components/calcular-unitario/calcular-unitario.component.ts","./src/app/modules/ventas/facturacion/components/calcular-unitario/calcular-unitario.component.html","./src/app/modules/ventas/facturacion/components/dialog-acciones-factura/dialog-acciones/dialog-acciones.component.ts","./src/app/modules/ventas/facturacion/components/dialog-acciones-factura/dialog-acciones/dialog-acciones.component.html","./src/app/modules/ventas/facturacion/components/facturas.component.ts","./src/app/modules/ventas/facturacion/components/facturas.component.html","./src/app/modules/ventas/facturacion/components/guardar-factura/guardar-factura.component.ts","./src/app/modules/ventas/facturacion/components/guardar-factura/guardar-factura.component.html","./src/app/modules/ventas/facturacion/facturacion.module.ts","./src/app/modules/ventas/facturacion/services/facturacion.service.ts"],"sourcesContent":["import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { finalize, Subject, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\nimport { FacturacionService } from '../../services/facturacion.service';\r\n@Component({\r\n    selector: 'app-calcular-unitario',\r\n    templateUrl: './calcular-unitario.component.html',\r\n    styleUrls: ['./calcular-unitario.component.scss']\r\n})\r\nexport class CalcularUnitarioComponent implements OnInit {\r\n    columns = ['nombre', 'activo', 'acciones'];\r\n    form: FormGroup;\r\n    title: string;\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    deposito_default = 0;\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _empresaService: EmpresaService,\r\n        private alert: AppAlertService,\r\n        private facturacionService: FacturacionService,\r\n        public dialogRef: MatDialogRef<CalcularUnitarioComponent>\r\n    ) {\r\n        this.title = `Calcular Precio Unitario ${this.data.descripcion}`;\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n                this.deposito_default = empresa.deposito_default;\r\n            });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.subscribeAlert();\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            articulo: new FormControl({ value: `${this.data.codigo_interno} | ${this.data.descripcion}`, disabled: true }, Validators.required),\r\n            bruto: new FormControl((''), Validators.required),\r\n        });\r\n    }\r\n\r\n    onSubmit() {\r\n        if (!this.form.valid) {\r\n            return this.alert.error('Revise Los Datos Ingresados');\r\n        } else {\r\n            const payload = {\r\n                idarticulo: this.data.idarticulo,\r\n                bruto: this.form.get('bruto').value\r\n            }\r\n\r\n            this.facturacionService.calcularPrecioUnitario(payload)\r\n                .subscribe({\r\n                    next: (data: IResponse<any>) => {\r\n                        if (data) {\r\n                            this.creadoExitosamente.emit();\r\n                            this.onCloseMenu(data);\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    onCloseMenu(data) {\r\n        this.dialogRef.close(data)\r\n    }\r\n}","<div\r\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"form\">\r\n        <mat-form-field appearance='outline' class=\"w-full\">\r\n            <mat-label>Artículo</mat-label>\r\n            <input matInput formControlName='articulo' [value]=\"data.descripcion\">\r\n        </mat-form-field>\r\n        <mat-form-field appearance='outline' class=\" w-full\">\r\n            <mat-label>Bruto</mat-label>\r\n            <input matInput formControlName='bruto' (keydown.enter)=\"onSubmit()\">\r\n        </mat-form-field>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\">\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Calcular</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { FacturacionService } from '../../../services/facturacion.service';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { Subject, takeUntil } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-dialog-acciones',\r\n    templateUrl: './dialog-acciones.component.html',\r\n    styleUrls: ['./dialog-acciones.component.scss'],\r\n})\r\nexport class DialogAccionesComponent {\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    title: string;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    deposito_default: number;\r\n    showAlert: boolean;\r\n    _alertConfig: any;\r\n    idFactura: number;\r\n    accion: string;\r\n    descripcion: string;\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _empresaService: EmpresaService,\r\n        private alert: AppAlertService,\r\n        private facturacionService: FacturacionService,\r\n        public dialogRef: MatDialogRef<DialogAccionesComponent>\r\n    ) {\r\n        this.title = this.data.title;\r\n        this.descripcion = this.data.descripcion;\r\n        this.idFactura = this.data.codigoFactura;\r\n        this.accion = this.data.accion;\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((empresa) => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n                this.deposito_default = empresa.deposito_default;\r\n            });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n    }\r\n\r\n    onCloseMenu(data) {\r\n        this.dialogRef.close(data)\r\n    }\r\n\r\n    onSubmit() {\r\n      switch(this.accion){\r\n        case \"delete\":\r\n          this.facturacionService.deleteFactura(this.idFactura).subscribe({\r\n            next: (res) => {\r\n              console.log(res)\r\n            }\r\n          })\r\n          break;\r\n          case \"generar\":\r\n            console.log(\"generar\")\r\n          this.facturacionService.generarFactura(this.idFactura)\r\n          break;\r\n      }\r\n    }\r\n}\r\n","<div\r\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <div class=\"flex flex-col w-full h-full p-4\">\r\n        <div [innerHTML]=\"descripcion\" class=\"flex justify-center items-center\">\r\n\r\n        </div>\r\n    </div>\r\n    <div class=\"w-full md:flex md:justify-end md:pb-6 md:px-6 mt-auto\">\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Confirmar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { FacturacionService } from '../services/facturacion.service';\r\nimport { environment } from 'environments/environment';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { Subject, takeUntil } from 'rxjs';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DialogAccionesComponent } from './dialog-acciones-factura/dialog-acciones/dialog-acciones.component';\r\n\r\n@Component({\r\n    selector: 'app-facturas',\r\n    templateUrl: './facturas.component.html',\r\n    styleUrls: ['./facturas.component.scss'],\r\n})\r\nexport class FacturasComponent implements OnInit {\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    column_params = [\r\n        'fechaEmision',\r\n        'tipo',\r\n        'num_comprobante',\r\n        'puntoVenta',\r\n        'cliente_razonsocial',\r\n        /* 'formaPago', */\r\n        'importeTotal',\r\n        'generada',\r\n        'acciones',\r\n    ];\r\n    headers = [\r\n        'Fecha',\r\n        'Tipo',\r\n        'Número',\r\n        'Pto. de Venta',\r\n        'Cliente',\r\n        /* 'Forma de Pago', */\r\n        'Total',\r\n        'Generada',\r\n        '',\r\n    ];\r\n    funcionesObjeto = null;\r\n    accionesObjeto = null;\r\n    showMenu: any;\r\n    filtroBusqueda: string = '';\r\n    filtersLike = ['descripcion'];\r\n    env = environment.ventas.view_fe_facturas + '?';\r\n    extraParams = '';\r\n    constructor(\r\n        private headerTextService: HeaderTextService,\r\n        private router: Router,\r\n        private facturacionService: FacturacionService,\r\n        private empresaService: EmpresaService,\r\n        private alert: AppAlertService,\r\n        private dialog: MatDialog\r\n    ) {\r\n        this.headerTextService.setTitulo(this.router);\r\n    }\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n    ngOnInit(): void {\r\n        this.empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((empresa) => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n\r\n        this.funcionesObjeto = [\r\n            {\r\n                iconoAccion: () => '',\r\n                iconoAccionado: () => '',\r\n                iconoDeshabilitado: () => '',\r\n                visible: () => false,\r\n            },\r\n        ];\r\n\r\n        this.showMenu = () => true;\r\n\r\n        this.accionesObjeto = [\r\n            /* {\r\n                    nombre_boton: \"Editar\",\r\n                    functionName: 'editar',\r\n                    iconoAccion: () => 'jedstion:editar',\r\n                    iconoAccionado: () => '',\r\n                    iconoDeshabilitado: () => '',\r\n                    visible: () => true\r\n                }, */\r\n            {\r\n                nombre_boton: 'Imprimir Factura',\r\n                functionName: 'imprimir_factura',\r\n                iconoAccion: () => 'jedstion:imprimir',\r\n                iconoAccionado: () => '',\r\n                iconoDeshabilitado: () => '',\r\n                visible: () => true,\r\n            },\r\n            {\r\n                nombre_boton: 'Asociar Cobro',\r\n                functionName: 'asociar_cobro',\r\n                iconoAccion: () => 'jedstion:cotizar',\r\n                iconoAccionado: () => '',\r\n                iconoDeshabilitado: () => '',\r\n                visible: () => true,\r\n            },\r\n            {\r\n                nombre_boton: 'Generar Factura',\r\n                functionName: 'generar_factura',\r\n                iconoAccion: (factura) => factura.generada == 'Si' ? 'jedstion:generar_factura_disabled' : 'jedstion:generar_factura',\r\n                iconoAccionado: () => '',\r\n                iconoDeshabilitado: () => '',\r\n                visible: () => true,\r\n            },\r\n            {\r\n                nombre_boton: 'Eliminar',\r\n                functionName: 'eliminar',\r\n                iconoAccion: (factura) => factura.generada == 'Si' ? 'jedstion:eliminar_disabled' : 'jedstion:eliminar',\r\n                iconoAccionado: () => '',\r\n                iconoDeshabilitado: () => '',\r\n                visible: () => true,\r\n            },\r\n        ];\r\n    }\r\n\r\n    generarAcciones(event: { name: string; params: any }) {\r\n        switch (event.name) {\r\n            case 'imprimir_factura':\r\n                this.imprimirFactura(event);\r\n                break;\r\n            case 'asociar_cobro':\r\n                this.asociarCobro(event);\r\n                break;\r\n            case 'generar_factura':\r\n                if(event.params.data.generada == 'Si'){\r\n                    this.alert.error(\"La factura ya fue generada\")\r\n                } else {\r\n                    this.generarFactura(event);\r\n                }\r\n                break;\r\n            case 'eliminar':\r\n                if(event.params.data.generada == 'Si'){\r\n                    this.alert.error(\"No puede eliminar una factura generada\")\r\n                } else {\r\n                    this.deleteFactura(event);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    nuevaFactura() {\r\n        this.router.navigate(['facturas/nueva-factura']);\r\n    }\r\n\r\n    deleteFactura(event) {\r\n        /* let codigoFactura = event.params.data.codigo;\r\n        this.dialog\r\n            .open(DialogAccionesComponent, {\r\n                panelClass: 'ayuda-dialog',\r\n                data: {\r\n                    codigoFactura: codigoFactura,\r\n                    title: 'Eliminar Factura',\r\n                    accion: \"delete\",\r\n                    descripcion: `<span class=\"font-semibold text-lg\">¿Confirma la eliminación de la factura N° ${codigoFactura}? <br>\r\n                    Esta operación es irreversible. ¿Desea continuar?</span>`\r\n                },\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (res) => {},\r\n            }); */\r\n    }\r\n\r\n    generarFactura(event) {\r\n        /* let codigoFactura = event.params.data.codigo;\r\n        this.dialog\r\n            .open(DialogAccionesComponent, {\r\n                panelClass: 'ayuda-dialog',\r\n                data: {\r\n                    codigoFactura: codigoFactura,\r\n                    title: 'Generar Factura',\r\n                    accion: \"generar\",\r\n                    descripcion: `<span class=\"font-semibold text-lg\">¿Confirma la generación de la factura N° ${codigoFactura}? <br>\r\n                    Esta operación es irreversible. ¿Desea continuar?</span>`\r\n                },\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (res) => {},\r\n            }); */\r\n    }\r\n\r\n    asociarCobro(event) {}\r\n\r\n    imprimirFactura(event) {\r\n        /* let data = event.params.data;\r\n        let filter = `?id=${data.codigo}&copia=$1`;\r\n        this.facturacionService.imprimirFactura(filter).subscribe({\r\n            next: (res) => {\r\n                console.log(res);\r\n            },\r\n        }); */\r\n    }\r\n}\r\n","<div class=\"w-full h-full flex flex-col p-2\">\r\n    <div class=\"w-full flex justify-end px-2\">\r\n        <div class=\"w-1/7 flex justify-center items-center\">\r\n            <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n                (click)=\"nuevaFactura()\"\r\n                [style.color]=\"color_primario || '' \" class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\">\r\n                <div class=\"flex item-center\">\r\n                    <!-- SVG con fill=\"currentColor\" -->\r\n                    <svg id=\"note_plus\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path\r\n                            d=\"M15.8333 10.8333C16.4167 10.8333 16.975 10.9417 17.5 11.125V7.5L12.5 2.5H4.16667C3.24167 2.5 2.5 3.24167 2.5 4.16667V15.8333C2.5 16.7583 3.25 17.5 4.16667 17.5H11.125C10.9417 16.975 10.8333 16.4167 10.8333 15.8333C10.8333 13.075 13.075 10.8333 15.8333 10.8333ZM11.6667 3.75L16.25 8.33333H11.6667V3.75ZM19.1667 15V16.6667H16.6667V19.1667H15V16.6667H12.5V15H15V12.5H16.6667V15H19.1667Z\" />\r\n                    </svg>\r\n                    <span class=\"ml-2 text-lg mt-0.5\">Nueva Factura</span>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"px-2\">\r\n        <!-- Tabla dinámica -->\r\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\" [cache]=\"false\"\r\n            [columnsNames]=\"headers\" [renderType]=\"'ssp'\" [columnsParams]=\"column_params\" [endpoint]=\"env\"\r\n            [functions]=\"funcionesObjeto\" [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\r\n            (functionEmitter)=\"generarAcciones($event)\" [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\"\r\n            [acciones]=\"accionesObjeto\" [showMenu]=\"showMenu\">\r\n        </app-tabla-dinamica>\r\n    </div>\r\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport {\r\n    debounceTime,\r\n    distinctUntilChanged,\r\n    startWith,\r\n    Subject,\r\n    takeUntil,\r\n} from 'rxjs';\r\nimport { FacturacionService } from '../../services/facturacion.service';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { CalcularUnitarioComponent } from '../calcular-unitario/calcular-unitario.component';\r\n\r\nconst MY_DATE_FORMATS = {\r\n    parse: {\r\n        dateInput: 'mm/dd/yyyy',\r\n    },\r\n    display: {\r\n        dateInput: 'dd/MM/yyyy',\r\n        monthYearLabel: 'MMM yyyy',\r\n        dateA11yLabel: 'LL',\r\n        monthYearA11yLabel: 'MMMM yyyy',\r\n    },\r\n};\r\n\r\n@Component({\r\n    selector: 'app-guardar-factura',\r\n    templateUrl: './guardar-factura.component.html',\r\n    styleUrls: ['./guardar-factura.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }],\r\n})\r\nexport class GuardarFacturaComponent implements OnInit, OnDestroy {\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    fechaActual: Date = new Date();\r\n\r\n    spinner: boolean = false;\r\n\r\n    subtotal: number;\r\n    faltaFacturarVista;\r\n    montoFaltaFacturar;\r\n\r\n    clienteCobro;\r\n    clientes: [] = [];\r\n    clientesSub;\r\n    puntosVenta: [] = [];\r\n    comprobantes;\r\n    comprobanteComboSub;\r\n    comprobantesAsociados: [] = [];\r\n    ventasAsociadas: [] = [];\r\n    facturaForm: FormGroup;\r\n\r\n    articulosSub;\r\n    articulos: [] = [];\r\n\r\n    facturaDataSource = new MatTableDataSource<any>([\r\n        {\r\n            idarticulo: '',\r\n            cantidad: '',\r\n            importe_unitario: '',\r\n            detalle: '',\r\n        },\r\n        {\r\n            idarticulo: '',\r\n            cantidad: '',\r\n            importe_unitario: '',\r\n            detalle: '',\r\n        },\r\n        {\r\n            idarticulo: '',\r\n            cantidad: '',\r\n            importe_unitario: '',\r\n            detalle: '',\r\n        },\r\n    ]);\r\n\r\n    cantidadSub;\r\n    precioUnitarioSub;\r\n    desdeCobranza: boolean;\r\n    idFactura: number;\r\n    factura;\r\n    cobro = null;\r\n    idCobro: number;\r\n    idcliente: number;\r\n    columns = ['detalle', 'cantidad', 'precio_unitario', 'total', 'acciones'];\r\n    constructor(\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private textService: HeaderTextService,\r\n        private empresaService: EmpresaService,\r\n        private facturacionService: FacturacionService,\r\n        private alert: AppAlertService,\r\n        private dialog: MatDialog\r\n    ) {\r\n        this.textService.setTitulo(this.router);\r\n        if (this.router.url.split('/').includes('guardar-factura')) {\r\n            this.idCobro = Number(this.router.url.split('/')[3].split('?')[0]);\r\n        } else {\r\n            this.idCobro = null;\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((empresa) => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n\r\n            if(this.idCobro){\r\n                this.getDatosCobro().then((res) => {\r\n                    this.getData().then((res) => {\r\n                        this.newForm();\r\n                    });\r\n                });\r\n            } else {\r\n                this.newForm();\r\n                this.getData();\r\n            }\r\n    }\r\n\r\n    initObservadores() {\r\n        this.cantidadSub = this.facturaForm\r\n            .get('cantidad')\r\n            .valueChanges.subscribe((value) => {\r\n                if (value > 0) {\r\n                    this.calcularImportes();\r\n                } else {\r\n                    this.alert.error('La cantidad no puede ser menor a 1');\r\n                }\r\n            });\r\n        this.precioUnitarioSub = this.facturaForm\r\n            .get('precioUnitario')\r\n            .valueChanges.subscribe((value) => {\r\n                if (value > 0) {\r\n                    this.calcularImportes();\r\n                } else {\r\n                    this.alert.error(\r\n                        'El precio unitario no puede ser menor a 1'\r\n                    );\r\n                }\r\n            });\r\n\r\n        this.articulosSub = this.facturaForm\r\n            .get('articulo')\r\n            .valueChanges.pipe(\r\n                distinctUntilChanged(),\r\n                debounceTime(350),\r\n                startWith(' ')\r\n            )\r\n            .subscribe((value) => {\r\n                if (typeof value == 'string') {\r\n                    this.getArticulos(value);\r\n                }\r\n            });\r\n\r\n        this.clientesSub = this.facturaForm\r\n            .get('cliente')\r\n            .valueChanges.pipe(\r\n                distinctUntilChanged(),\r\n                debounceTime(350),\r\n                startWith(' ')\r\n            )\r\n            .subscribe((value) => {\r\n                if (typeof value == 'string') {\r\n                    this.getClientes(value);\r\n                } else {\r\n                    this.idcliente = value.codigo;\r\n                    this.getVentasAsociadas();\r\n                }\r\n            });\r\n\r\n        this.comprobanteComboSub = this.facturaForm\r\n            .get('comprobante')\r\n            .valueChanges.subscribe((value) => {\r\n                let isFactura = value.Desc.toLowerCase()\r\n                    .split(' ')\r\n                    .includes('factura');\r\n                if (isFactura == true) {\r\n                    this.facturaForm.get('comprobanteAsociado').setValue('');\r\n                    this.facturaForm.get('comprobanteAsociado').disable();\r\n                } else {\r\n                    let isCredito = value.Desc.toLowerCase()\r\n                        .normalize('NFD')\r\n                        .replace(/[\\u0300-\\u036f]/g, '')\r\n                        .split(' ')\r\n                        .includes('credito');\r\n                    let isDebito = value.Desc.toLowerCase()\r\n                        .normalize('NFD')\r\n                        .replace(/[\\u0300-\\u036f]/g, '')\r\n                        .split(' ')\r\n                        .includes('debito');\r\n                    if (isCredito == true) {\r\n                        let filter: string = `?filter[cliente]=${this.idcliente}&filter[generada]=1&filter[comprobante_asociado]=false`;\r\n                        this.getComprobantesAsociados(filter);\r\n                    }\r\n\r\n                    if (isDebito == true) {\r\n                        let filter: string = `?filter[cliente]=${this.idcliente}&filter[generada]=1&filter[comprobante_asociado]=true`;\r\n                        this.getComprobantesAsociados(filter);\r\n                    }\r\n                    this.facturaForm.get('comprobanteAsociado').setValue('');\r\n                    this.facturaForm.get('comprobanteAsociado').enable();\r\n                }\r\n            });\r\n    }\r\n\r\n    async getData(): Promise<void> {\r\n        try {\r\n            const resultados = await Promise.all([\r\n                this.getClientes(),\r\n                this.getDatosEmpresa(),\r\n                this.getArticulos(),\r\n            ]);\r\n        } catch (error) {\r\n            this.alert.error('Ocurrió un error al cargar los datos');\r\n        }\r\n    }\r\n\r\n    newForm() {\r\n        this.facturaForm = new FormGroup({\r\n            fecha: new FormControl(this.fechaActual),\r\n            vencimientoPago: new FormControl(),\r\n            fechaDesde: new FormControl(),\r\n            fechaHasta: new FormControl(),\r\n            cliente: new FormControl(this.clienteCobro ? this.clienteCobro : ''),\r\n            comprobante: new FormControl(''),\r\n            numero: new FormControl(''),\r\n            puntoVenta: new FormControl(''),\r\n            tipoPago: new FormControl(0),\r\n            comprobanteAsociado: new FormControl(''),\r\n            ventaAsociada: new FormControl(''),\r\n            articulo: new FormControl(''),\r\n            cantidad: new FormControl(''),\r\n            precioUnitario: new FormControl(''),\r\n            total: new FormControl({\r\n                value: '',\r\n                disabled: true,\r\n            }),\r\n            detalle: new FormControl(''),\r\n            observaciones: new FormControl(''),\r\n        });\r\n\r\n        this.initObservadores();\r\n\r\n        this.spinner = false;\r\n    }\r\n\r\n    calcularImportes() {\r\n        let cantidad = this.facturaForm.get('cantidad').value;\r\n        let precioUnitario = this.facturaForm.get('precioUnitario').value;\r\n        let total = cantidad * precioUnitario;\r\n\r\n        this.facturaForm.get('total').setValue(total);\r\n\r\n        if(total > this.faltaFacturarVista){\r\n            this.alert.error(\"El total del articulo no puede ser mayor al monto a facturar\")\r\n        }\r\n    }\r\n\r\n    calcularPrecioUnitario() {\r\n        const articuloSeleccionado = this.facturaForm.get('articulo').value;\r\n\r\n        if (!articuloSeleccionado) {\r\n            return this.alert.error('Seleccione un artículo válido');\r\n        }\r\n\r\n        this.dialog\r\n            .open(CalcularUnitarioComponent, {\r\n                data: articuloSeleccionado,\r\n                panelClass: 'ayuda-dialog',\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (res) => {\r\n                    if (res.success == true) {\r\n                        this.facturaForm\r\n                            .get('precioUnitario')\r\n                            .setValue(res.result);\r\n                    }\r\n                },\r\n            });\r\n    }\r\n\r\n    displayFn(cliente): string {\r\n        return cliente && cliente.razonSocial ? cliente.razonSocial : '';\r\n    }\r\n    displayFnArticulos(articulo): string {\r\n        return articulo && articulo.descripcion ? articulo.descripcion : '';\r\n    }\r\n\r\n    getArticulos(value?: string) {\r\n        let filter: string = `?sort=descripcion&pagination=1&sort=-total_stock&per-page=10&page=0&filter[tipo][in][]=1&filter[tipo][in][]=2`;\r\n        let filterBusqueda: string = `&filter[descripcion][like]=${value}`;\r\n        this.facturacionService.getArticulos(filter, filterBusqueda).subscribe({\r\n            next: (res: any) => {\r\n                this.articulos = res.result;\r\n            },\r\n        });\r\n    }\r\n\r\n    getClientes(value?) {\r\n        let filter: string = value ? `?filter[razonSocial][like]=${value}` : '';\r\n        this.facturacionService.getClientes(filter).subscribe({\r\n            next: (res: any) => {\r\n                this.clientes = res.result;\r\n                this.clienteCobro = this.clientes.filter((cliente: any) => cliente.idcliente == this.idcliente);\r\n                if(this.cobro){\r\n                    this.getVentasAsociadas();\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    getDatosEmpresa() {\r\n        this.facturacionService.getDatosEmpresa().subscribe({\r\n            next: (res: any) => {\r\n                if (res.success == true) {\r\n                    this.comprobantes = res.result.comprobantes;\r\n                    let comprobantesValidos = ['factura', 'debito', 'credito'];\r\n                    this.comprobantes = this.comprobantes.filter(\r\n                        (comprobante: any) =>\r\n                            comprobantesValidos.some((valid: string) =>\r\n                                comprobante.Desc.toLowerCase()\r\n                                    .normalize('NFD')\r\n                                    .replace(/[\\u0300-\\u036f]/g, '')\r\n                                    .split(' ')\r\n                                    .includes(valid)\r\n                            )\r\n                    );\r\n                    this.puntosVenta = res.result.puntosVenta;\r\n                } else {\r\n                    this.alert.error(res.mensaje);\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    getVentasAsociadas() {\r\n        let filter: string = `?filter[idcliente]=${this.idcliente}`;\r\n        this.facturacionService.getVentasAsociadas(filter).subscribe({\r\n            next: (res: any) => {\r\n                this.ventasAsociadas = res.result;\r\n            },\r\n        });\r\n    }\r\n\r\n    getComprobantesAsociados(value) {\r\n        let filter: string = value;\r\n        this.facturacionService.getComprobantesAsociados(filter).subscribe({\r\n            next: (res: any) => {\r\n                this.comprobantesAsociados = res.result;\r\n            },\r\n        });\r\n    }\r\n\r\n    getDatosCobro() {\r\n        this.spinner = true;\r\n        return new Promise((resolve, reject) => {\r\n            let filter = `?filter[idcobro]=${this.idCobro}`;\r\n            this.facturacionService.getDatosCobro(filter).subscribe({\r\n                next: (res: any) => {\r\n                    this.cobro = res.result[0];\r\n                    this.idcliente = this.cobro.idcliente;\r\n                    this.faltaFacturarVista = Number(this.cobro.a_facturar); //Para mostrar en la vista\r\n                    this.montoFaltaFacturar = Number(this.cobro.a_facturar); //Para calculos\r\n                    resolve(true);\r\n                },\r\n            });\r\n        });\r\n    }\r\n\r\n    goBack() {\r\n        this.router.navigate(['/cobranzas']);\r\n    }\r\n\r\n    formatDate(date: Date) {\r\n        let fecha = new Date(date);\r\n        let seconds = fecha.getSeconds().toString().padStart(2, '0');\r\n        let minutes = fecha.getMinutes().toString().padStart(2, '0');\r\n        let hours = fecha.getHours().toString().padStart(2, '0');\r\n        let day = fecha.getDate().toString().padStart(2, '0');\r\n        let month = (fecha.getMonth() + 1).toString().padStart(2, '0');\r\n        let year = fecha.getFullYear();\r\n        return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\r\n    }\r\n\r\n    removeArticulo(articulo) {\r\n        this.subtotal = this.subtotal - articulo.total;\r\n        this.montoFaltaFacturar = this.montoFaltaFacturar + articulo.total;\r\n\r\n        if(this.cobro){\r\n            this.faltaFacturarVista =\r\n            Math.round(this.montoFaltaFacturar * 100) / 100;\r\n            if (this.faltaFacturarVista == 0) {\r\n                this.facturaForm.get('articulo').disable();\r\n                this.facturaForm.get('cantidad').disable();\r\n                this.facturaForm.get('precioUnitario').disable();\r\n                this.facturaForm.get('detalle').disable();\r\n            } else {\r\n                this.facturaForm.get('articulo').enable();\r\n                this.facturaForm.get('cantidad').enable();\r\n                this.facturaForm.get('precioUnitario').enable();\r\n                this.facturaForm.get('detalle').enable();\r\n            }\r\n        }\r\n\r\n        this.facturaDataSource.data = this.facturaDataSource.data.filter(\r\n            (item) => item.idarticulo != articulo.idarticulo\r\n        );\r\n\r\n        if (this.facturaDataSource.data.length == 0) {\r\n            this.facturaDataSource.data = [\r\n                {\r\n                    idarticulo: '',\r\n                    cantidad: '',\r\n                    importe_unitario: '',\r\n                    detalle: '',\r\n                },\r\n                {\r\n                    idarticulo: '',\r\n                    cantidad: '',\r\n                    importe_unitario: '',\r\n                    detalle: '',\r\n                },\r\n                {\r\n                    idarticulo: '',\r\n                    cantidad: '',\r\n                    importe_unitario: '',\r\n                    detalle: '',\r\n                },\r\n            ];\r\n        }\r\n\r\n    }\r\n\r\n    addArticulo() {\r\n        let articulo = this.facturaForm.get('articulo').value;\r\n        let cantidad = this.facturaForm.get('cantidad').value;\r\n        let precioUnitario = this.facturaForm.get('precioUnitario').value;\r\n        let detalle = `${articulo.codigo_interno} - ${\r\n            this.facturaForm.get('detalle').value || articulo.descripcion\r\n        }`;\r\n        let totalArticulo = cantidad * precioUnitario;\r\n\r\n        if (\r\n            this.facturaDataSource.data.some(\r\n                (itemTabla) => itemTabla.idarticulo == articulo.idarticulo\r\n            )\r\n        ) {\r\n            this.alert.error('No puede agregar el mismo articulo');\r\n        } else {\r\n            if (totalArticulo > this.faltaFacturarVista) {\r\n                this.alert.error(\r\n                    'El total del artículo no puede ser mayor al monto a facturar'\r\n                );\r\n            } else {\r\n                if (\r\n                    articulo &&\r\n                    cantidad &&\r\n                    precioUnitario &&\r\n                    detalle &&\r\n                    totalArticulo\r\n                ) {\r\n                    this.facturaDataSource.data =\r\n                        this.facturaDataSource.data.filter(\r\n                            (articulo) => articulo.idarticulo != ''\r\n                        );\r\n                    let itemTabla = {\r\n                        idarticulo: articulo.idarticulo,\r\n                        cantidad: cantidad,\r\n                        importe_unitario: precioUnitario,\r\n                        detalle: detalle,\r\n                        total: totalArticulo,\r\n                    };\r\n\r\n                    this.facturaDataSource.data = [\r\n                        ...this.facturaDataSource.data,\r\n                        itemTabla,\r\n                    ];\r\n\r\n                    this.subtotal = this.facturaDataSource.data.reduce(\r\n                        (acc, item) => acc + item.total,\r\n                        0\r\n                    );\r\n\r\n                    this.facturaForm.get('total').setValue('');\r\n                    this.facturaForm.get('articulo').setValue('');\r\n                    this.facturaForm.get('cantidad').setValue('');\r\n                    this.facturaForm.get('precioUnitario').setValue('');\r\n                    this.facturaForm.get('detalle').setValue('');\r\n                    if(this.cobro){\r\n                        this.montoFaltaFacturar =\r\n                            this.montoFaltaFacturar - totalArticulo;\r\n    \r\n                        this.faltaFacturarVista =\r\n                            Math.round(this.montoFaltaFacturar * 100) / 100;\r\n                            if (this.faltaFacturarVista == 0) {\r\n                                this.facturaForm.get('articulo').disable();\r\n                                this.facturaForm.get('cantidad').disable();\r\n                                this.facturaForm.get('precioUnitario').disable();\r\n                                this.facturaForm.get('detalle').disable();\r\n                            } else {\r\n                                this.facturaForm.get('articulo').enable();\r\n                                this.facturaForm.get('cantidad').enable();\r\n                                this.facturaForm.get('precioUnitario').enable();\r\n                                this.facturaForm.get('detalle').enable();\r\n                            }\r\n                    }\r\n                } else {\r\n                    this.alert.error('Revise los campos del artículo');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onSubmit() {\r\n        let fechaEmision = this.formatDate(this.facturaForm.get('fecha').value);\r\n        let fechaVencimientoPago = this.formatDate(\r\n            this.facturaForm.get('vencimientoPago').value\r\n        );\r\n        let fechaDesde = this.formatDate(\r\n            this.facturaForm.get('fechaDesde').value\r\n        );\r\n        let fechaHasta = this.formatDate(\r\n            this.facturaForm.get('fechaHasta').value\r\n        );\r\n\r\n        if (this.facturaForm.valid) {\r\n            let payload = {\r\n                factura: {\r\n                    fechaEmision: fechaEmision,\r\n                    fechaVencimientoPago: fechaVencimientoPago,\r\n                    cliente: this.facturaForm.get('cliente').value.codigo,\r\n                    tipoComprobante:\r\n                        this.facturaForm.get('comprobante').value.Id,\r\n                    puntoVenta: this.facturaForm\r\n                        .get('puntoVenta')\r\n                        .value.toString(),\r\n                    fechaServicioDesde: fechaDesde,\r\n                    fechaServicioHasta: fechaHasta,\r\n                    contado: this.facturaForm.get('tipoPago').value,\r\n                    comprobante_asociado:\r\n                        this.facturaForm.get('comprobanteAsociado').value.codigo ||\r\n                        null,\r\n                    observaciones:\r\n                        this.facturaForm.get('observaciones').value || null,\r\n                    //idventa: 232, // opcional\r\n                    //venta: null, // opcional\r\n                    //idventapago: null, // opcional\r\n                    //idcobroformapago: null, // opcional\r\n                },\r\n                items: this.facturaDataSource.data,\r\n            };\r\n\r\n            this.facturacionService.createFactura(payload).subscribe({\r\n                next: (res: any) => {\r\n                    if(res.success = true){\r\n                        this.router.navigate(['/facturas'])\r\n                    }\r\n                },\r\n            });\r\n        } else {\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {}\r\n}\r\n","<div class=\"w-full h-full flex justify-center items-center\" *ngIf=\"spinner\">\r\n    <spinner-component *ngIf=\"spinner\"></spinner-component>\r\n</div>\r\n<div class=\"w-full h-full flex flex-col px-4 py-2 overflow-y-auto inset-0 absolute\" *ngIf=\"!spinner\">\r\n    <div class=\"w-full flex justify-start items-center py-2\">\r\n        <div class=\"flex items-center\">\r\n            <mat-icon class=\"cursor-pointer\" (click)=\"goBack()\"> arrow_back_ios </mat-icon>\r\n            <span class=\"font-semibold text-[#65758c] cursor-pointer\" (click)=\"goBack()\">\r\n                Volver\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <form [formGroup]=\"facturaForm\" class=\"w-full flex flex-col gap-2\">\r\n        <div class=\"w-full flex items-center gap-4\">\r\n            <div class=\"flex flex-col w-2/12\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Fecha</span>\r\n                <mat-form-field>\r\n                  <input matInput [matDatepicker]=\"pickerFecha\" formControlName=\"fecha\" placeholder=\"DD/MM/AAAA\">\r\n                  <mat-datepicker-toggle matIconSuffix [for]=\"pickerFecha\"></mat-datepicker-toggle>\r\n                  <mat-datepicker #pickerFecha></mat-datepicker>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"flex flex-col w-2/12\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\"\r\n                    >Vto. Para el Pago</span\r\n                >\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"pickerPago\" formControlName=\"vencimientoPago\" placeholder=\"DD/MM/AAAA\">\r\n                    <mat-datepicker-toggle matIconSuffix [for]=\"pickerPago\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #pickerPago></mat-datepicker>\r\n                  </mat-form-field>\r\n            </div>\r\n            <div class=\"flex flex-col w-2/12\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\"\r\n                    >Fecha Desde</span\r\n                >\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"pickerDesde\" formControlName=\"fechaDesde\" placeholder=\"DD/MM/AAAA\">\r\n                    <mat-datepicker-toggle matIconSuffix [for]=\"pickerDesde\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #pickerDesde></mat-datepicker>\r\n                  </mat-form-field>\r\n            </div>\r\n            <div class=\"flex flex-col w-2/12\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\"\r\n                    >Fecha Hasta</span\r\n                >\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"pickerHasta\" formControlName=\"fechaHasta\" placeholder=\"DD/MM/AAAA\">\r\n                    <mat-datepicker-toggle matIconSuffix [for]=\"pickerHasta\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #pickerHasta></mat-datepicker>\r\n                  </mat-form-field>\r\n            </div>\r\n            <div class=\"flex items-center w-4/12\">\r\n                <div class=\"flex flex-col w-full\">\r\n                    <span class=\"font-semibold text-[#323639] ml-1\"\r\n                        >Cliente</span\r\n                    >\r\n                    <mat-form-field class=\"w-full\">\r\n                        <input type=\"text\"\r\n                               placeholder=\"Seleccionar cliente\"\r\n                               matInput\r\n                               [matAutocomplete]=\"auto\"\r\n                               formControlName=\"cliente\">\r\n                        <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n                          <mat-option *ngFor=\"let cliente of clientes\" [value]=\"cliente\">\r\n                            {{cliente.razonSocial}}\r\n                          </mat-option>\r\n                        </mat-autocomplete>\r\n                      </mat-form-field>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full items-center flex gap-4 pb-2\">\r\n            <div class=\"w-4/12\">\r\n                <span class=\"font-semibold text-lg\">Razón Social: {{facturaForm.get(\"cliente\").value.razonSocial}}</span>\r\n            </div>\r\n            <div class=\"w-4/12\">\r\n                <span class=\"font-semibold text-lg\">Domicilio: {{facturaForm.get(\"cliente\").value.domicilioFiscal || facturaForm.get(\"cliente\").value.direccion}}</span>\r\n            </div>\r\n            <div class=\"w-2/12\">\r\n                <span class=\"font-semibold text-lg\">CUIT: {{facturaForm.get(\"cliente\").value.Cuit != \"null\" && facturaForm.get(\"cliente\").value.Cuit != null ? facturaForm.get(\"cliente\").value.Cuit : \"-\"}}</span>\r\n            </div>\r\n            <div class=\"w-2/12\">\r\n                <span class=\"font-semibold text-lg\">IVA: {{facturaForm.get(\"cliente\").value.condicioniva_descripcion}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full flex gap-4 mt-2\">\r\n            <div class=\"w-4/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\"\r\n                    >Comprobante</span\r\n                >\r\n                <mat-form-field>\r\n                    <mat-select formControlName=\"comprobante\" placeholder=\"Seleccionar comprobante\">\r\n                        <mat-option *ngFor=\"let comprobante of comprobantes\" [value]=\"comprobante\">\r\n                            {{comprobante.Desc}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"w-3/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Número</span>\r\n                <mat-form-field >\r\n                    <input matInput type=\"number\" formControlName=\"numero\"/>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"w-2/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\"\r\n                    >Pto. de Venta</span\r\n                >\r\n                <mat-form-field >\r\n                    <mat-select formControlName=\"puntoVenta\" placeholder=\"Seleccionar punto de venta\">\r\n                        <mat-option *ngFor=\"let puntoVenta of puntosVenta\" [value]=\"puntoVenta.Nro\">\r\n                            {{puntoVenta.EmisionTipo}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"w-3/12 flex justify-center items-center px-3\">\r\n                <mat-radio-group class=\"w-full flex items-center gap-2\" formControlName=\"tipoPago\">\r\n                    <mat-radio-button [value]=\"1\">Contado</mat-radio-button>\r\n                    <mat-radio-button [value]=\"0\">Cuenta Corriente</mat-radio-button>\r\n                </mat-radio-group>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-2/3 flex gap-4\">\r\n            <div class=\"w-1/2 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639]\"\r\n                    >Comprobante Asociado</span\r\n                >\r\n                <mat-form-field >\r\n                    <mat-select formControlName=\"comprobanteAsociado\">\r\n                        <mat-option *ngFor=\"let comprobanteAsociado of comprobantesAsociados\" [value]=\"comprobanteAsociado\">\r\n                            {{comprobanteAsociado.num_comprobante}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"w-1/2 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639]\">Venta Asociada</span>\r\n                <mat-form-field>\r\n                    <mat-select formControlName=\"ventaAsociada\">\r\n                        <mat-option *ngFor=\"let ventaAsociada of ventasAsociadas\" [value]=\"ventaAsociada.idventa\">\r\n                            {{ventaAsociada.cliente + \" - \" + ventaAsociada.fecha + \"($\" + ventaAsociada.importe_total + \")\"}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full flex gap-4\">\r\n            <div class=\"w-3/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Artículo</span>\r\n                <mat-form-field class=\"w-full\">\r\n                    <input type=\"text\"\r\n                           placeholder=\"Seleccionar artículo\"\r\n                           matInput\r\n                           [matAutocomplete]=\"autoArticulo\"\r\n                           formControlName=\"articulo\">\r\n                    <mat-autocomplete #autoArticulo=\"matAutocomplete\" [displayWith]=\"displayFnArticulos\">\r\n                      <mat-option *ngFor=\"let articulo of articulos\" [value]=\"articulo\">\r\n                        {{articulo.descripcion}}\r\n                      </mat-option>\r\n                    </mat-autocomplete>\r\n                  </mat-form-field>\r\n            </div>\r\n            <div class=\"w-3/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Cantidad</span>\r\n                <mat-form-field >\r\n                    <input matInput type=\"number\" formControlName=\"cantidad\" placeholder=\"Ingresar cantidad\"/>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"w-3/12 flex gap-3\">\r\n                <div class=\"w-10/12 flex flex-col\">\r\n                    <span class=\"font-semibold text-[#323639] ml-1\">Precio Unitario</span>\r\n                    <mat-form-field >\r\n                        <input matInput type=\"number\" formControlName=\"precioUnitario\" placeholder=\"Ingresar precio unitario\"/>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class=\"w-2/12 flex justify-center items-center\">\r\n                    <button mat-icon-button [style.background-color]=\"color_primario || ''\" (click)=\"calcularPrecioUnitario()\">\r\n                        <mat-icon svgIcon=\"jedstion:cotizar\" class=\"icon-size-[40px]\"></mat-icon>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"w-3/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Total</span>\r\n                <mat-form-field >\r\n                    <input matInput type=\"number\" formControlName=\"total\"/>\r\n                    <span matTextPrefix>$&nbsp;</span>\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full flex items-center\">\r\n            <div class=\"w-11/12 flex flex-col\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Detalle</span>\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"detalle\" placeholder=\"Ingresar detalle\"/>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"w-1/12 flex justify-center items-center\">\r\n                <button mat-icon-button [style.background-color]=\"color_primario || ''\" (click)=\"addArticulo()\">\r\n                    <mat-icon svgIcon=\"jedstion:agregar\" class=\"icon-size-[40px]\"></mat-icon>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full flex items-center gap-4\">\r\n            <div class=\"flex flex-col w-full\">\r\n                <span class=\"font-semibold text-[#323639] ml-1\">Observaciones</span>\r\n                <mat-form-field >\r\n                    <input matInput formControlName=\"observaciones\" placeholder=\"Ingresar observaciones\"/>\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    <div class=\"w-full rounded-br-md\">\r\n        <table mat-table [dataSource]=\"facturaDataSource\" class=\"w-full\">\r\n            <ng-container matColumnDef=\"detalle\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"text-white rounded-tl-md\" [style.background-color]=\"color_primario || ''\"> Detalle </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    {{element.detalle}}\r\n                </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"cantidad\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"text-white\" [style.background-color]=\"color_primario || ''\"> Cantidad </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    {{element.cantidad}}\r\n                </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"precio_unitario\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"text-white\" [style.background-color]=\"color_primario || ''\"> Precio Unitario </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    {{element.importe_unitario}}\r\n                </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"total\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"text-white\" [style.background-color]=\"color_primario || ''\"> Total </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    {{element.total}}\r\n                </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"text-white rounded-tr-md\" [style.background-color]=\"color_primario || ''\"> </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    <div class=\"flex justify-center\" *ngIf=\"element.acciones != ''\">\r\n                        <mat-icon class=\"cursor-pointer hover:bg-gray-200 p-5 rounded-full\" [style.color]=\"color_primario || ''\" (click)=\"removeArticulo(element)\">\r\n                            delete\r\n                        </mat-icon>\r\n                    </div>\r\n                </td>\r\n            </ng-container>\r\n            \r\n            <tr mat-header-row *matHeaderRowDef=\"columns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: columns;\"></tr>\r\n        </table>\r\n    </div>\r\n    <div class=\"w-full flex justify-end items-center\">\r\n        <div class=\"w-1/3 flex flex-col p-2 gap-1\">\r\n            <span class=\"font-semibold text-lg\">Subtotal: {{subtotal != 0 && subtotal != undefined ? '$' : ''}}{{subtotal || 0}}</span>\r\n            <span class=\"font-semibold text-lg\" *ngIf=\"cobro\">Falta Facturar: {{faltaFacturarVista != 0 && faltaFacturarVista != undefined  ? '$' : ''}}{{faltaFacturarVista || 0}}</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"w-full flex justify-end items-center pt-4\">\r\n        <button mat-flat-button (click)=\"onSubmit()\" class=\"rounded-md text-white\" [style.background-color]=\"color_primario || ''\">\r\n            Guardar\r\n        </button>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { GuardarFacturaComponent } from './components/guardar-factura/guardar-factura.component';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { FuseAlertComponent } from '@fuse/components/alert';\r\nimport { TablaDinamicaModule } from '@shared/components/tabla-dinamica/tabla-dinamica.module';\r\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { FacturacionService } from './services/facturacion.service';\r\nimport { FacturasComponent } from './components/facturas.component';\r\nimport { CalcularUnitarioComponent } from './components/calcular-unitario/calcular-unitario.component';\r\nimport { DialogAccionesComponent } from './components/dialog-acciones-factura/dialog-acciones/dialog-acciones.component';\r\n\r\nconst routes: Route[] = [\r\n    { path: '', component: FacturasComponent },\r\n    { path: 'guardar-factura/:id', component: GuardarFacturaComponent },\r\n    { path: 'nueva-factura', component: GuardarFacturaComponent },\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        FacturasComponent,\r\n        GuardarFacturaComponent,\r\n        CalcularUnitarioComponent,\r\n        DialogAccionesComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        MatTableModule,\r\n        MatButtonModule,\r\n        MatSelectModule,\r\n        MatFormFieldModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        FuseAlertComponent,\r\n        MatTooltipModule,\r\n        MatAutocompleteModule,\r\n        MatToolbarModule,\r\n        MatCheckboxModule,\r\n        MatSortModule,\r\n        TablaDinamicaModule,\r\n        MatDialogModule,\r\n        MatRadioModule,\r\n        MatDatepickerModule,\r\n    ],\r\n    exports: [RouterModule],\r\n    providers: [\r\n        JedsMenuService,\r\n        AppAlertService,\r\n        DatePipe,\r\n        FuseConfirmationService,\r\n        FacturacionService,\r\n    ],\r\n})\r\nexport class FacturacionModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'environments/environment';\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class FacturacionService {\r\n    constructor(private http: HttpClient) {}\r\n\r\n    calcularPrecioUnitario(payload) {\r\n        return this.http.post<any>(\r\n            `${environment.ventas.vta_venta_calcular_unitario}`,\r\n            payload\r\n        );\r\n    }\r\n\r\n    getClientes(filter: string) {\r\n        return this.http.get(environment.administracion.clientes + filter);\r\n    }\r\n\r\n    getDatosEmpresa() {\r\n        return this.http.get(environment.ventas.get_datos_empresa);\r\n    }\r\n\r\n    getVentasAsociadas(filter: string) {\r\n        return this.http.get(environment.ventas.view_vta_ventas + filter);\r\n    }\r\n\r\n    getArticulos(filter: string, filterBusqueda: string) {\r\n        return this.http.get(\r\n            environment.stock.view_articulos + filter + filterBusqueda\r\n        );\r\n    }\r\n\r\n    getComprobantesAsociados(filter: string) {\r\n        return this.http.get(environment.ventas.view_fe_facturas + filter);\r\n    }\r\n\r\n    getFacturas(filter: string) {\r\n        return this.http.get(environment.ventas.view_fe_facturas + filter);\r\n    }\r\n\r\n    createFactura(payload) {\r\n        return this.http.post(environment.ventas.fe_facturas, payload);\r\n    }\r\n\r\n    deleteFactura(codigoFactura: number){\r\n        return this.http.delete(environment.ventas.fe_facturas + \"/\" + codigoFactura)\r\n    }\r\n\r\n    generarFactura(codigoFactura: number){\r\n        return \"CodigoFactura: \" + codigoFactura;\r\n    }\r\n\r\n    imprimirFactura(filter) {\r\n        return this.http.get(\r\n            environment.ventas.reporte_comprobante_pdf + filter\r\n        );\r\n    }\r\n\r\n    getDatosCobro(filter: string) {\r\n        return this.http.get(environment.ventas.view_vta_cobros + filter);\r\n    }\r\n}\r\n"],"names":["EventEmitter","FormControl","FormGroup","Validators","MAT_DIALOG_DATA","finalize","Subject","takeUntil","takeWhile","tap","timer","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","_alertConfig","type","showAlert","ɵɵadvance","ɵɵtextInterpolate1","message","CalcularUnitarioComponent","constructor","data","_empresaService","alert","facturacionService","dialogRef","columns","default_color","_unsubscribeAll","creadoExitosamente","editadoExitosamente","deposito_default","title","descripcion","empresa$","pipe","subscribe","empresa","color_primario","color_secundario","ngOnInit","getEmpresa","newForm","subscribeAlert","emitConfig","next","config","appearance","time","form","articulo","value","codigo_interno","disabled","required","bruto","onSubmit","valid","error","payload","idarticulo","get","calcularPrecioUnitario","emit","onCloseMenu","close","ɵɵdirectiveInject","i1","EmpresaService","i2","AppAlertService","i3","FacturacionService","i4","MatDialogRef","selectors","outputs","decls","vars","consts","template","CalcularUnitarioComponent_Template","rf","ctx","ɵɵlistener","CalcularUnitarioComponent_Template_button_click_5_listener","ɵɵtemplate","CalcularUnitarioComponent_fuse_alert_8_Template","ɵɵelement","CalcularUnitarioComponent_Template_input_keydown_enter_17_listener","CalcularUnitarioComponent_Template_button_click_19_listener","ɵɵclassMap","ɵɵstyleProp","ɵɵtextInterpolate","DialogAccionesComponent","idFactura","codigoFactura","accion","deleteFactura","res","console","log","generarFactura","DialogAccionesComponent_Template","DialogAccionesComponent_Template_button_click_5_listener","DialogAccionesComponent_fuse_alert_8_Template","DialogAccionesComponent_Template_button_click_12_listener","ɵɵsanitizeHtml","environment","TablaDinamicaComponent","FacturasComponent","headerTextService","router","empresaService","dialog","column_params","headers","funcionesObjeto","accionesObjeto","filtroBusqueda","filtersLike","env","ventas","view_fe_facturas","extraParams","setTitulo","iconoAccion","iconoAccionado","iconoDeshabilitado","visible","showMenu","nombre_boton","functionName","factura","generada","generarAcciones","event","name","imprimirFactura","asociarCobro","params","nuevaFactura","navigate","HeaderTextService","Router","i5","i6","MatDialog","viewQuery","FacturasComponent_Query","FacturasComponent_Template_button_click_3_listener","ɵɵnamespaceSVG","ɵɵnamespaceHTML","FacturasComponent_Template_app_tabla_dinamica_functionEmitter_10_listener","$event","MatTableDataSource","debounceTime","distinctUntilChanged","startWith","MAT_DATE_FORMATS","GuardarFacturaComponent_div_0_spinner_component_1_Template","spinner","cliente_r28","razonSocial","comprobante_r29","Desc","puntoVenta_r30","Nro","EmisionTipo","comprobanteAsociado_r31","num_comprobante","ventaAsociada_r32","idventa","cliente","fecha","importe_total","articulo_r33","ctx_r15","element_r34","detalle","ctx_r17","element_r35","cantidad","ctx_r19","element_r36","importe_unitario","ctx_r21","element_r37","total","ctx_r23","GuardarFacturaComponent_div_1_td_161_div_1_Template_mat_icon_click_1_listener","ɵɵrestoreView","_r42","element_r38","ɵɵnextContext","$implicit","ctx_r40","ɵɵresetView","removeArticulo","ctx_r39","GuardarFacturaComponent_div_1_td_161_div_1_Template","acciones","ɵɵtextInterpolate2","ctx_r27","faltaFacturarVista","undefined","GuardarFacturaComponent_div_1_Template_mat_icon_click_3_listener","_r45","ctx_r44","goBack","GuardarFacturaComponent_div_1_Template_span_click_5_listener","ctx_r46","GuardarFacturaComponent_div_1_mat_option_49_Template","GuardarFacturaComponent_div_1_mat_option_69_Template","GuardarFacturaComponent_div_1_mat_option_80_Template","GuardarFacturaComponent_div_1_mat_option_93_Template","GuardarFacturaComponent_div_1_mat_option_99_Template","GuardarFacturaComponent_div_1_mat_option_108_Template","GuardarFacturaComponent_div_1_Template_button_click_121_listener","ctx_r47","GuardarFacturaComponent_div_1_Template_button_click_137_listener","ctx_r48","addArticulo","ɵɵelementContainerStart","GuardarFacturaComponent_div_1_th_148_Template","GuardarFacturaComponent_div_1_td_149_Template","ɵɵelementContainerEnd","GuardarFacturaComponent_div_1_th_151_Template","GuardarFacturaComponent_div_1_td_152_Template","GuardarFacturaComponent_div_1_th_154_Template","GuardarFacturaComponent_div_1_td_155_Template","GuardarFacturaComponent_div_1_th_157_Template","GuardarFacturaComponent_div_1_td_158_Template","GuardarFacturaComponent_div_1_th_160_Template","GuardarFacturaComponent_div_1_td_161_Template","GuardarFacturaComponent_div_1_tr_162_Template","GuardarFacturaComponent_div_1_tr_163_Template","GuardarFacturaComponent_div_1_span_168_Template","GuardarFacturaComponent_div_1_Template_button_click_170_listener","ctx_r49","ctx_r1","facturaForm","_r3","_r4","_r5","_r6","_r7","displayFn","clientes","domicilioFiscal","direccion","Cuit","condicioniva_descripcion","comprobantes","puntosVenta","comprobantesAsociados","ventasAsociadas","_r13","displayFnArticulos","articulos","facturaDataSource","subtotal","cobro","MY_DATE_FORMATS","parse","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","GuardarFacturaComponent","route","textService","fechaActual","Date","url","split","includes","idCobro","Number","getDatosCobro","then","getData","initObservadores","cantidadSub","valueChanges","calcularImportes","precioUnitarioSub","articulosSub","getArticulos","clientesSub","getClientes","idcliente","codigo","getVentasAsociadas","comprobanteComboSub","isFactura","toLowerCase","setValue","disable","isCredito","normalize","replace","isDebito","filter","getComprobantesAsociados","enable","_this","_asyncToGenerator","resultados","Promise","all","getDatosEmpresa","vencimientoPago","fechaDesde","fechaHasta","clienteCobro","comprobante","numero","puntoVenta","tipoPago","comprobanteAsociado","ventaAsociada","precioUnitario","observaciones","articuloSeleccionado","open","panelClass","afterClosed","success","result","filterBusqueda","comprobantesValidos","some","mensaje","resolve","reject","a_facturar","montoFaltaFacturar","formatDate","date","seconds","getSeconds","toString","padStart","minutes","getMinutes","hours","getHours","day","getDate","month","getMonth","year","getFullYear","Math","round","item","length","totalArticulo","itemTabla","reduce","acc","fechaEmision","fechaVencimientoPago","tipoComprobante","Id","fechaServicioDesde","fechaServicioHasta","contado","comprobante_asociado","items","createFactura","ngOnDestroy","ActivatedRoute","features","ɵɵProvidersFeature","provide","useValue","GuardarFacturaComponent_Template","GuardarFacturaComponent_div_0_Template","GuardarFacturaComponent_div_1_Template","CommonModule","DatePipe","RouterModule","ReactiveFormsModule","MatAutocompleteModule","MatButtonModule","MatCheckboxModule","MatDatepickerModule","MatDialogModule","MatFormFieldModule","MatIconModule","MatInputModule","MatRadioModule","MatSelectModule","MatSortModule","MatTableModule","MatToolbarModule","MatTooltipModule","FuseAlertComponent","TablaDinamicaModule","FuseConfirmationService","JedsMenuService","routes","path","component","FacturacionModule","imports","forChild","declarations","exports","http","post","vta_venta_calcular_unitario","administracion","get_datos_empresa","view_vta_ventas","stock","view_articulos","getFacturas","fe_facturas","delete","reporte_comprobante_pdf","view_vta_cobros","ɵɵinject","HttpClient","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}