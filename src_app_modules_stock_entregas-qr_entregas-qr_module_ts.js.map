{"version":3,"file":"src_app_modules_stock_entregas-qr_entregas-qr_module_ts.js","mappings":"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","sources":["./src/app/modules/stock/entregas-qr/components/entregas-qr.component.ts","./src/app/modules/stock/entregas-qr/components/entregas-qr.component.html","./src/app/modules/stock/entregas-qr/components/save/save.component.ts","./src/app/modules/stock/entregas-qr/components/save/save.component.html","./src/app/modules/stock/entregas-qr/entregas-qr.module.ts","./src/app/modules/stock/entregas-qr/service/entregas-qr.service.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Observable, Subject, firstValueFrom, map, startWith, takeUntil } from 'rxjs';\r\nimport { MatTableDataSource } from '@angular/material/table'\r\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SearchService } from 'app/layout/common/search/search.service';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { Router } from '@angular/router';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { PwaService } from '@shared/service/app/pwa.service';\r\nimport { LectorQrComponent } from '@shared/components/lector-qr/lector-qr.component';\r\nimport { EntregasQRService } from '../service/entregas-qr.service';\r\nimport { IEntregaQR } from '../models/entrega-qr';\r\nimport { IDeposito } from '../../depositos/models/deposito';\r\nimport { SaveComponent } from './save/save.component';\r\nimport { IUsuario } from '@core/user/user.types';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-entregas-qr',\r\n    templateUrl: './entregas-qr.component.html',\r\n    styleUrls: ['./entregas-qr.component.scss']\r\n})\r\nexport class EntregasQRComponent implements OnInit, OnDestroy {\r\n    form: FormGroup;\r\n    columns = ['codigo_interno', 'articulo', 'unidadmedida', 'cantidad'];\r\n    public dataSource: MatTableDataSource<any> = new MatTableDataSource();\r\n    user: any;\r\n    entrega: IEntregaQR;\r\n    depositos: IDeposito[] = [];\r\n    mov_art_list: any[] = [];\r\n    usuarios: IUsuario[] = [];\r\n    filteredDepositos: Observable<IDeposito[]>;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    idUsuario: number;\r\n    nombre: string = '';\r\n    apellido: string = '';\r\n    orden_servicio: number;\r\n    mostrarTextoCredencial: boolean = true;\r\n    mostrarTextoOrdenServicio: boolean = true;\r\n    buttonStyleCredencial: string = 'default';\r\n    buttonStyleOrdenServicio: string = 'default';\r\n    credencialScaneada = false;\r\n    ordenServicioScaneada = false;\r\n\r\n    constructor(\r\n        private _entregasQRService: EntregasQRService,\r\n        private _empresaService: EmpresaService,\r\n        private confirm: FuseConfirmationService,\r\n        private alert: AppAlertService,\r\n        private dialogo: MatDialog,\r\n        private _searchService: SearchService,\r\n        private _menuService: JedsMenuService,\r\n        private router: Router,\r\n        public _headerTextService: HeaderTextService,\r\n        private pwaService: PwaService,\r\n        private datePipe: DatePipe\r\n\r\n    ) {\r\n        this._headerTextService.setTitulo(this.router);\r\n        this.user = JSON.parse(localStorage.getItem('user'))\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.getDepositos();\r\n    }\r\n\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            deposito_entrega: new FormControl((this.entrega ? this.entrega.descripcion_deposito : ''), Validators.required),\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Se escanea el QR de la Credencial de Usuario y se toma el idusuario.\r\n     */\r\n    credencialUsuario() {\r\n        this.dialogo.open(LectorQrComponent, {\r\n            panelClass: 'ayuda-dialog'\r\n        }).componentInstance.sendObject.subscribe((code) => {\r\n            if (!code || code.length === 0) {\r\n                this.alert.error('Código QR vacío o inválido.');\r\n                return;\r\n            }\r\n            const idusuario = parseInt(code, 10);\r\n            this.idUsuario = idusuario;\r\n            this._entregasQRService.getUsuarioQR(idusuario).subscribe(response => {\r\n                if (response?.result?.length > 0) {\r\n                    const usuario = response.result[0];\r\n                    this.nombre = usuario.nombre;\r\n                    this.apellido = usuario.apellido;\r\n                    this.mostrarTextoCredencial = false;\r\n                    this.buttonStyleCredencial = 'scanned';\r\n                    this.credencialScaneada = true;\r\n                } else {\r\n                    this.alert.error('Usuario no encontrado.');\r\n                }\r\n            }, error => {\r\n                console.error('Error al obtener usuario:', error);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Se escanea el QR de Orden de Servicio y se toma la idventagenerica.\r\n     */\r\n    ordenServicio() {\r\n        this.dialogo.open(LectorQrComponent, {\r\n            panelClass: 'ayuda-dialog'\r\n        }).componentInstance.sendObject.subscribe((code) => {\r\n            if (!code || code.length === 0) {\r\n                this.alert.error('Código QR vacío o inválido.');\r\n                return;\r\n            }\r\n            const idventagenerica = parseInt(code, 10);\r\n            this._entregasQRService.getOrdenServicio(idventagenerica).subscribe(response => {\r\n                if (response?.result?.length > 0) {\r\n                    const venta = response.result[0];\r\n                    this.orden_servicio = venta.idventagenerica;\r\n                    this.mostrarTextoOrdenServicio = false;\r\n                    this.buttonStyleOrdenServicio = 'scanned';\r\n                    this.ordenServicioScaneada = true;\r\n                } else {\r\n                    this.alert.error('Orden de Servicio no encontrada.');\r\n                }\r\n            }, error => {\r\n                console.error('Error al obtener venta:', error);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param option \r\n     * Se va a traer los Depositos para listarlos en un Select\r\n     */\r\n    async getDepositos(option?) {\r\n        const Depositos = await firstValueFrom(this._entregasQRService.getDepositos(option));\r\n        new Promise(async (resolve) => {\r\n            this.depositos = Depositos.list;\r\n            this.filteredDepositos = this.form.get('deposito_entrega').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterDepositos(value)),\r\n            );\r\n\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param deposito \r\n     * @returns Filtrado de Depositos para el Autocomplete\r\n     */\r\n    private _filterDepositos(deposito: IDeposito): IDeposito[] {\r\n        const filterValue = deposito.toString().toLowerCase();\r\n        return this.depositos.filter(deposito => deposito.descripcion.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    getTextDeposito(option) {\r\n        if (option.descripcion) {\r\n            return option.descripcion;\r\n        }\r\n        if (option.deposito) {\r\n            return option.deposito;\r\n        }\r\n        return option;\r\n    }\r\n\r\n    /**\r\n     * Esta funcion guarda un item\r\n     */\r\n    agregarArticulo() {\r\n        if (this.form.get('deposito_entrega').value != '') {\r\n            let deposito_entrega_value = this.form.get('deposito_entrega').value.iddeposito;\r\n            this.dialogo\r\n                .open(SaveComponent, {\r\n                    panelClass: 'ayuda-dialog',\r\n                    data: {\r\n                        deposito_entrega: deposito_entrega_value,\r\n                        movimientos: this.mov_art_list,\r\n                    }\r\n                })\r\n                .afterClosed()\r\n                .subscribe({\r\n                    next: (res) => {\r\n                        if (res) {\r\n                            let movimiento_articulo = {\r\n                                idarticulo: res.articulo.idarticulo,\r\n                                cantidad: res.cantidad,\r\n                                idunidadmedida: res.unidad_medida,\r\n                                descripcion_articulo: res.articulo.descripcion,\r\n                                descripcion_um: res.unidadmedida_descripcion,\r\n                                codigo_interno: res.articulo.codigo_interno,\r\n                                stock: res.stock,    //Stock restante de ese articulo con esa um...\r\n                            }\r\n                            this.mov_art_list = [movimiento_articulo, ...this.mov_art_list];\r\n                            this.dataSource = new MatTableDataSource(this.mov_art_list); //Actualizo la tabla\r\n\r\n                            // Deshabilito el control Deposito\r\n                            if (this.mov_art_list.length != 0) {\r\n                                this.form.get('deposito_entrega').disable();\r\n                            }\r\n\r\n                            this.alert.success(\"Artículo añadido con éxito\")\r\n                        }\r\n                    },\r\n                });\r\n        } else {\r\n            this.alert.warning(\"Seleccione un Depósito de origen\")\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Funcion para limpiar campos\r\n    */\r\n    limpiarCasillero(input) {\r\n        this.form.get(input).setValue('');\r\n    }\r\n\r\n    /**\r\n     * Resetea todo el Formulario de Entrega con QR \r\n     */\r\n    resetForm() {\r\n        this.form.get('deposito_entrega').setValue('');\r\n        this.form.get('deposito_entrega').enable();\r\n        this.form.get('deposito_entrega').setErrors(null);\r\n        this.mov_art_list = [];\r\n        this.dataSource = new MatTableDataSource(this.mov_art_list);\r\n        this.mostrarTextoCredencial = true;\r\n        this.mostrarTextoOrdenServicio = true;\r\n        this.buttonStyleCredencial = 'default';\r\n        this.buttonStyleOrdenServicio = 'default';\r\n        this.credencialScaneada = false;\r\n        this.ordenServicioScaneada = false;\r\n        this.idUsuario = null;\r\n        this.nombre = '';\r\n        this.apellido = '';\r\n        this.orden_servicio = null;\r\n    }\r\n\r\n    onSubmit() {\r\n        // if (!this.credencialScaneada || !this.ordenServicioScaneada) {\r\n        //     this.alert.error('Escanea ambos códigos QR');\r\n        //     return;\r\n        // }\r\n\r\n        if (!this.ordenServicioScaneada) {\r\n            this.alert.error('Debe Escanear La Orden De Servicio');\r\n            return;\r\n        }\r\n\r\n        if (!this.form.get('deposito_entrega').value || !this.form.get('deposito_entrega').value.iddeposito) {\r\n            this.alert.error('Revise Los Datos Ingresados');\r\n            return;\r\n        } else {\r\n            let movimientos = this.mov_art_list.map(objeto => ({   //Encapsulo solamente los datos que utilizaré de los articulos...\r\n                idarticulo: objeto.idarticulo,\r\n                cantidad: objeto.cantidad,\r\n                idunidadmedida: objeto.idunidadmedida,\r\n                idventa: this.orden_servicio\r\n            }))\r\n\r\n            if (movimientos.length === 0) {\r\n                return this.alert.warning('Debe ingresar un articulo a la orden de entrega.')\r\n            }\r\n\r\n            const fecha = new Date().toISOString().split('T')[0];\r\n            const hora = new Date().toLocaleTimeString([], { hour12: false });\r\n\r\n            // Se formatea la fecha nuevamente al formato deseado (YYYY-MM-DD)\r\n            const fecha_formateada = this.datePipe.transform(fecha, 'yyyy-MM-dd');\r\n\r\n            // Se concatena a ambas fecha y hora\r\n            const fecha_hora = `${fecha_formateada} ${hora}`;\r\n\r\n            const payload = {\r\n                entrega: {\r\n                    idusuario: this.user.id,\r\n                    fecha_hora_precarga: fecha_hora,\r\n                    iddeposito: this.form.get('deposito_entrega').value.iddeposito,\r\n                    usuario_entrega: this.idUsuario ? this.idUsuario : null,\r\n                    observaciones: `Entrega QR - Órden N°${this.orden_servicio}`,\r\n                },\r\n                movimientos: movimientos\r\n            }\r\n\r\n            this._entregasQRService.saveEntregaQR(payload)\r\n                .subscribe({\r\n                    next: (data) => {\r\n                        if (data) {\r\n                            this.alert.success(\"Entrega creada con éxito.\");\r\n                            setTimeout(() => {\r\n                                this.resetForm();\r\n                            }, 1500);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._searchService.unsubscribe();\r\n        this.dialogo.closeAll();\r\n    }\r\n}","<div class=\"flex-auto p-2 sm:p-10 bg-card relative\">\r\n    <h1 class=\"text-3xl font-semibold mb-6 text-center\">Realizar Entrega</h1>\r\n    <div class=\"flex items-center justify-center mb-6\" (click)=\"credencialUsuario()\">\r\n        <button [ngClass]=\"color_primario ? '' : default_color\" [ngStyle]=\"{\r\n                'background': buttonStyleCredencial === 'default' ? color_primario || '' : '',\r\n                'border': buttonStyleCredencial === 'scanned' ? '2px solid ' + (color_primario || '') : '',\r\n                'color': buttonStyleCredencial === 'scanned' ? color_primario || '' : 'white'\r\n            }\" class=\"flex items-center justify-center w-12 h-12 rounded-full mr-4\">\r\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                    d=\"M2.66667 2.66667H6.66667V6.66667H2.66667V2.66667ZM13.3333 2.66667V6.66667H9.33333V2.66667H13.3333ZM9.33333 10H10.6667V8.66667H9.33333V7.33333H10.6667V8.66667H12V7.33333H13.3333V8.66667H12V10H13.3333V12H12V13.3333H10.6667V12H8.66667V13.3333H7.33333V10.6667H9.33333V10ZM10.6667 10V12H12V10H10.6667ZM2.66667 13.3333V9.33333H6.66667V13.3333H2.66667ZM4 4V5.33333H5.33333V4H4ZM10.6667 4V5.33333H12V4H10.6667ZM4 10.6667V12H5.33333V10.6667H4ZM2.66667 7.33333H4V8.66667H2.66667V7.33333ZM6 7.33333H8.66667V10H7.33333V8.66667H6V7.33333ZM7.33333 4H8.66667V6.66667H7.33333V4ZM1.33333 1.33333V4H0V1.33333C0 0.979711 0.140476 0.640573 0.390524 0.390524C0.640573 0.140476 0.979711 0 1.33333 0L4 0V1.33333H1.33333ZM14.6667 0C15.0203 0 15.3594 0.140476 15.6095 0.390524C15.8595 0.640573 16 0.979711 16 1.33333V4H14.6667V1.33333H12V0H14.6667ZM1.33333 12V14.6667H4V16H1.33333C0.979711 16 0.640573 15.8595 0.390524 15.6095C0.140476 15.3594 0 15.0203 0 14.6667V12H1.33333ZM14.6667 14.6667V12H16V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H12V14.6667H14.6667Z\"\r\n                    fill=\"currentColor\" />\r\n            </svg>\r\n        </button>\r\n        <p class=\"text-lg font-semibold w-72\" *ngIf=\"mostrarTextoCredencial\">\r\n            Escanear Credencial de Empleado\r\n        </p>\r\n        <p class=\"text-lg font-semibold w-72\" *ngIf=\"!mostrarTextoCredencial\">\r\n            {{ nombre }} {{ apellido }}\r\n        </p>\r\n    </div>\r\n    <div class=\"flex items-center justify-center mb-4\" (click)=\"ordenServicio()\">\r\n        <button [ngClass]=\"color_primario ? '' : default_color\" [ngStyle]=\"{\r\n                'background': buttonStyleOrdenServicio === 'default' ? color_primario || '' : '',\r\n                'border': buttonStyleOrdenServicio === 'scanned' ? '2px solid ' + (color_primario || '') : '',\r\n                'color': buttonStyleOrdenServicio === 'scanned' ? color_primario || '' : 'white'\r\n            }\" class=\"flex items-center justify-center w-12 h-12 rounded-full mr-4\">\r\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                    d=\"M2.66667 2.66667H6.66667V6.66667H2.66667V2.66667ZM13.3333 2.66667V6.66667H9.33333V2.66667H13.3333ZM9.33333 10H10.6667V8.66667H9.33333V7.33333H10.6667V8.66667H12V7.33333H13.3333V8.66667H12V10H13.3333V12H12V13.3333H10.6667V12H8.66667V13.3333H7.33333V10.6667H9.33333V10ZM10.6667 10V12H12V10H10.6667ZM2.66667 13.3333V9.33333H6.66667V13.3333H2.66667ZM4 4V5.33333H5.33333V4H4ZM10.6667 4V5.33333H12V4H10.6667ZM4 10.6667V12H5.33333V10.6667H4ZM2.66667 7.33333H4V8.66667H2.66667V7.33333ZM6 7.33333H8.66667V10H7.33333V8.66667H6V7.33333ZM7.33333 4H8.66667V6.66667H7.33333V4ZM1.33333 1.33333V4H0V1.33333C0 0.979711 0.140476 0.640573 0.390524 0.390524C0.640573 0.140476 0.979711 0 1.33333 0L4 0V1.33333H1.33333ZM14.6667 0C15.0203 0 15.3594 0.140476 15.6095 0.390524C15.8595 0.640573 16 0.979711 16 1.33333V4H14.6667V1.33333H12V0H14.6667ZM1.33333 12V14.6667H4V16H1.33333C0.979711 16 0.640573 15.8595 0.390524 15.6095C0.140476 15.3594 0 15.0203 0 14.6667V12H1.33333ZM14.6667 14.6667V12H16V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H12V14.6667H14.6667Z\"\r\n                    fill=\"currentColor\" />\r\n            </svg>\r\n        </button>\r\n        <p class=\"text-lg font-semibold w-72\" *ngIf=\"mostrarTextoOrdenServicio\">\r\n            Escanear Orden de Servicio\r\n        </p>\r\n        <p class=\"text-lg font-semibold w-72\" *ngIf=\"!mostrarTextoOrdenServicio\">\r\n            Órden N°{{ orden_servicio }}\r\n        </p>\r\n    </div>\r\n    <form class=\"flex flex-col form-menu items-center justify-center my-6\" [formGroup]=\"form\">\r\n        <div class=\"w-90\">\r\n            <span class=\"block font-semibold text-lg mb-2\">Depósito</span>\r\n            <mat-form-field appearance=\"fill\" class=\"w-full sm:w-90\">\r\n                <input type=\"text\" matInput formControlName=\"deposito_entrega\" placeholder=\"Seleccione Depósito\"\r\n                    [matAutocomplete]=\"art\">\r\n                <button mat-icon-button matSuffix *ngIf=\"!form.get('deposito_entrega').value\">\r\n                    <mat-icon>arrow_drop_down</mat-icon>\r\n                </button>\r\n                <button mat-icon-button matSuffix (click)=\"limpiarCasillero('deposito_entrega')\"\r\n                    *ngIf=\"form.get('deposito_entrega').value\">\r\n                    <mat-icon class=\"text-xl\">clear</mat-icon>\r\n                </button>\r\n                <mat-autocomplete autoActiveFirstOption #art=\"matAutocomplete\" [displayWith]=\"getTextDeposito\">\r\n                    <mat-option *ngFor=\"let deposito of filteredDepositos | async\" [value]=\"deposito\">\r\n                        {{ deposito.descripcion }}\r\n                    </mat-option>\r\n                </mat-autocomplete>\r\n            </mat-form-field>\r\n            <button mat-flat-button (click)='agregarArticulo()' [class]=\"color_primario ? '' : default_color\"\r\n                [style.border]=\"color_primario || '' \" [style.color]=\"color_primario || '' \"\r\n                class=\"w-36 rounded-lg py-0 ml-[215px] !border border-solid\">\r\n                <div class=\"flex item-center\">\r\n                    <span class=\"text-lg\">Agregar Artículo</span>\r\n                </div>\r\n            </button>\r\n            <!-- Grilla -->\r\n            <div class=\"overflow-y-auto max-h-[150px] h-[150px] shadow-md rounded-lg mt-8\">\r\n                <table mat-table [dataSource]=\"dataSource\" class=' w-full'>\r\n                    <ng-container matColumnDef='codigo_interno'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tl-lg text-white\">\r\n                            Código Interno\r\n                        </th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{movimiento_articulo.codigo_interno}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='articulo'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tl-lg text-white\">\r\n                            Artículo</th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{movimiento_articulo.descripcion_articulo}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='unidadmedida'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white\"> U. de Medida </th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{ movimiento_articulo.descripcion_um }}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='cantidad'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tr-lg text-white\"> Cantidad </th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{ movimiento_articulo.cantidad}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>\r\n                    <tr mat-row *matRowDef='let row; columns: columns'></tr>\r\n                </table>\r\n                <div *ngIf=\"dataSource.data.length === 0\" class=\"flex justify-center items-center h-20\">\r\n                    <p class=\"text-gray-600 text-lg\">No hay artículos cargados.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    <div class=\"flex items-center justify-center\">\r\n        <div class=\"w-90 mt-8\">\r\n            <button mat-flat-button (click)='onSubmit()' [class]=\"color_primario ? '' : default_color\"\r\n                [style.background]=\"color_primario || '' \" [style.color]=\"color_primario || '' \"\r\n                class=\"rounded-lg w-36 ml-[215px] py-0\">\r\n                <div class=\"flex item-center\">\r\n                    <span class=\"text-lg text-white\">\r\n                        {{ this.idUsuario ? 'Entregar' : 'Precargar' }}\r\n                    </span>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\r\nimport { Observable, Subject, debounceTime, finalize, firstValueFrom, map, startWith, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MY_DATE_FORMATS } from '@shared/constants/date-format';\r\nimport { EntregasQRService } from '../../service/entregas-qr.service';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { LectorQrComponent } from '@shared/components/lector-qr/lector-qr.component';\r\n\r\n@Component({\r\n    selector: 'app-save-entregas',\r\n    templateUrl: './save.component.html',\r\n    styleUrls: ['./save.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }]\r\n})\r\nexport class SaveComponent implements OnInit {\r\n    form: FormGroup;\r\n    articulos: any[] = [];\r\n    idArticulo: number | null = null;\r\n    unidades_de_medida: any[] = [];\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    codigo_interno: string = '';\r\n    descripcion: string = '';\r\n    mostrarTexto: boolean = true;\r\n    buttonStyle: string = 'default';\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _entregasQRService: EntregasQRService,\r\n        private _empresaService: EmpresaService,\r\n        private datePipe: DatePipe,\r\n        private alert: AppAlertService,\r\n        public dialogRef: MatDialogRef<SaveComponent>,\r\n        private dialogo: MatDialog,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.getArticulosDepositos();\r\n        this.subscribeAlert();\r\n        this.etiquetaArticulo();\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            unidadmedida: new FormControl((''), Validators.required),\r\n            stock_existente: new FormControl(('')),\r\n            cantidad: new FormControl((''), Validators.required),\r\n        });\r\n        this.form.get('unidadmedida').disable();\r\n        this.form.get('stock_existente').disable();\r\n        this.form.get('cantidad').disable();\r\n    }\r\n\r\n    /**\r\n     * Funcion que lista los articulos que posee un déposito.\r\n     */\r\n    async getArticulosDepositos() {\r\n        const articulos_um_deposito = await firstValueFrom(this._entregasQRService.getArticulosDepositos(this.data.deposito_entrega)); // solicitamos los artículos que estén en un depósito\r\n        this.articulos = articulos_um_deposito.list;\r\n    }\r\n\r\n    /**\r\n     * Se escanea el QR de las Etiqueta de Articulos y se toma el idarticulo.\r\n     */\r\n    etiquetaArticulo() {\r\n        this.dialogo.open(LectorQrComponent, {\r\n            panelClass: 'ayuda-dialog'\r\n        }).componentInstance.sendObject.subscribe(async (code) => {\r\n            if (!code || code.length === 0) {\r\n                this.alert.error('Código QR vacío o inválido.');\r\n                return;\r\n            }\r\n            const idarticulo = parseInt(code);\r\n            try {\r\n                const response = await firstValueFrom(this._entregasQRService.getArticuloQR(idarticulo));\r\n                if (response?.result?.length > 0) {\r\n                    const articulo = response.result[0];\r\n                    // Validar si el artículo está en el depósito\r\n                    const articuloEnDeposito = this.articulos.find(item => item.idarticulo === articulo.idarticulo);\r\n                    if (articuloEnDeposito) {\r\n                        this.idArticulo = articulo.idarticulo\r\n                        this.codigo_interno = articulo.codigo_interno;\r\n                        this.descripcion = articulo.descripcion;\r\n                        this.mostrarTexto = false;\r\n                        this.buttonStyle = 'scanned';\r\n                        this.getUnidadesDeMedidaArticulos(articulo.idarticulo);\r\n                    } else {\r\n                        this.alert.error('Artículo no encontrado en este depósito.');\r\n                    }\r\n                    this.form.get('unidadmedida').enable()\r\n                    this.form.get('cantidad').enable()\r\n                } else {\r\n                    this.alert.error('Artículo no encontrado.');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error al obtener artículo:', error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Esta funcion solicita las unidades de medida que posee un articulo.\r\n     * @param idarticulo \r\n     */\r\n    getUnidadesDeMedidaArticulos(idarticulo) {\r\n        new Promise(async (resolve) => {\r\n            this.unidades_de_medida = this.articulos.filter(a => a.idarticulo === idarticulo).sort((a, b) => a.factor_um - b.factor_um).map(a => {\r\n                return {\r\n                    idarticulo: a.idarticulo,\r\n                    codigo_interno: a.codigo_interno,\r\n                    idunidadmedida: a.idunidadmedida,\r\n                    descripcion_um: a.um,\r\n                    stock: a.stock\r\n                }\r\n            });\r\n\r\n            // Autoasigna la primera unidad de medida al control del formulario\r\n            if (this.unidades_de_medida.length > 0) {\r\n                this.form.get('unidadmedida').setValue(this.unidades_de_medida[0].idunidadmedida);\r\n                this.seleccionArticulo({ um: this.unidades_de_medida[0].idunidadmedida });\r\n            }\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Esta funcion maneja las cambios de seleccion que puedan tener articulos y unidades de medida.\r\n     * @param $event \r\n     */\r\n    seleccionArticulo($event) {\r\n        //Al seleccionar un articulo...\r\n        if ($event.idarticulo) {\r\n            this.form.get('unidadmedida').enable()\r\n            this.getUnidadesDeMedidaArticulos($event.idarticulo) //...Buscamos las UM que posee ese articulo.\r\n        }\r\n        // - Mostrar Stock -\r\n        //Al seleccionar la UM...\r\n        if ($event.um) {\r\n            //Consultamos sí existe un articulo con esa UM y utilizamos la respuesta para ver si existe un movimiento con ese articulo y esa UM en los movimientos.\r\n            let articulo_um = this.unidades_de_medida.find(a => a.idarticulo === this.idArticulo && a.idunidadmedida === this.form.get('unidadmedida').value);\r\n            let stock; //variable auxiliar   \r\n            let cantidad_existente = 0;\r\n\r\n            let existeMovimiento = this.data.movimientos.length > 0 ? true : false; //Consultamos sí hay movimientos\r\n\r\n            if (existeMovimiento) { //Sí existe minimo un movimiento y es una crecion...\r\n                let articulos_existentes = this.data.movimientos.filter(a => a.idarticulo === articulo_um.idarticulo && a.idunidadmedida === articulo_um.idunidadmedida); //Se hace esto para mantener el stock actualizado, en caso de haber sido modificado.\r\n                //Si existen movimientos de articulos con la misma UM...\r\n                articulos_existentes.forEach(ae => {\r\n                    cantidad_existente = cantidad_existente + Number(ae.cantidad); //...sumamos la cantidad que equivalen\r\n                })\r\n                stock = `${Number(articulo_um.stock) - cantidad_existente}`; //...Se le asigna el stock restante...\r\n            } else {\r\n                stock = articulo_um.stock; //..Sino el stock que traiga ese articulo con esa UM del servicio.\r\n            }\r\n            this.form.get('stock_existente').setValue(stock) //Lo mostramos.\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param input \r\n     * Metodo para el boton de suma para el campo de Cantidad.\r\n     */\r\n    sumaArticulo(input: HTMLInputElement) {\r\n        if (this.idArticulo !== null) {\r\n            const currentValue = Number(input.value) || 0;\r\n            this.form.controls['cantidad'].setValue(currentValue + 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param input \r\n     * Metodo para el boton de resta para el campo de Cantidad.\r\n     */\r\n    restaArticulo(input: HTMLInputElement) {\r\n        if (this.idArticulo !== null) {\r\n            const currentValue = Number(input.value) || 0;\r\n            if (currentValue > 0) {\r\n                this.form.controls['cantidad'].setValue(currentValue - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Limpia los campos del Formulario.\r\n     */\r\n    limpiarCasilleros() {\r\n        this.codigo_interno = '';\r\n        this.descripcion = '';\r\n        this.mostrarTexto = true;\r\n        this.buttonStyle = 'default';\r\n        this.form.reset({\r\n            unidadmedida: '',\r\n            stock_existente: '',\r\n            cantidad: ''\r\n        });\r\n    }\r\n\r\n    /**\r\n    * Maneja los eventos de teclado en el formulario.\r\n    * @param event - El evento del teclado.\r\n    */\r\n    onKeyDown(event: KeyboardEvent): void {\r\n        if (event.key === 'Enter') {\r\n            event.preventDefault(); // Evita el comportamiento predeterminado del Enter (como el envío de formularios)\r\n            this.onSubmit(); // Llama a la función onSubmit\r\n        }\r\n    }\r\n\r\n\r\n    onSubmit() {\r\n        if (!this.form.valid) {\r\n            return this.alert.error('Revise Los Datos Ingresados');\r\n        } else {\r\n            this.articulos.forEach(articulo => {\r\n                if (articulo.idarticulo === this.idArticulo && articulo.idunidadmedida === this.form.get('unidadmedida').value) {\r\n                    if (this.form.get('cantidad').value > articulo.stock) {\r\n                        this.form.get('cantidad').setValue('');\r\n                        return this.alert.warning('No hay stock suficiente!');\r\n                    }\r\n\r\n                    let existeMovimiento = this.data.movimientos.find(movimiento => movimiento.idarticulo === this.idArticulo && movimiento.idunidadmedida === this.form.get('unidadmedida').value);\r\n\r\n                    if (existeMovimiento) {\r\n                        this.form.get('unidadmedida').setValue('');\r\n                        this.form.get('stock_existente').setValue('');\r\n                        this.form.get('cantidad').setValue('');\r\n                        return this.alert.warning('Este artículo ya tiene un movimiento con esta unidad.');\r\n                    }\r\n\r\n                    if (this.form.get('cantidad').value <= articulo.stock && this.form.get('cantidad').value > 0) {\r\n                        let unidadmedida = this.unidades_de_medida.find(um => um.idunidadmedida === this.form.get('unidadmedida').value); //Traigo una UM que coincida con mi seleccion para poder utilizar su descripcion.\r\n\r\n                        let movimiento_articulo = {\r\n                            articulo: {\r\n                                idarticulo: this.idArticulo,\r\n                                codigo: this.codigo_interno,\r\n                                descripcion: this.descripcion\r\n                            },\r\n                            unidad_medida: this.form.get('unidadmedida').value,\r\n                            unidadmedida_descripcion: unidadmedida.descripcion_um,\r\n                            stock: `${Number(articulo.stock) - this.form.get('cantidad').value}`,\r\n                            cantidad: this.form.get('cantidad').value,\r\n                        }\r\n\r\n                        this.onCloseMenu(movimiento_articulo)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    onCloseMenu(articulo?) {\r\n        this.dialogRef.close(articulo ? articulo : false)\r\n    }\r\n}","<div class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-120 sm:w-min-w-90 sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n        [style.color]=\"color_secundario || '' \" class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">Agregar Artículo</span>\r\n        <div>\r\n            <button mat-icon-button class=\"md:hidden\" (click)=\"limpiarCasilleros()\">\r\n                <mat-icon class=\"text-white\">refresh</mat-icon>\r\n            </button>\r\n            <button mat-icon-button (click)=\"onCloseMenu()\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert\r\n        class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\"\r\n        [appearance]=\"'outline'\"\r\n        *ngIf=\"showAlert\"\r\n        [@fadeIn]=\"showAlert\"\r\n    >\r\n    {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <div class=\"flex px-8 pt-6 items-center sm:ml-12\" (click)=\"etiquetaArticulo()\">\r\n        <button\r\n            [ngClass]=\"color_primario ? '' : default_color\"\r\n            [ngStyle]=\"{\r\n                'background': buttonStyle === 'default' ? color_primario || '' : '',\r\n                'border': buttonStyle === 'scanned' ? '2px solid ' + (color_primario || '') : '',\r\n                'color': buttonStyle === 'scanned' ? color_primario || '' : 'white'\r\n            }\"\r\n            class=\"flex items-center justify-center w-12 h-12 rounded-full mr-4\">\r\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M2.66667 2.66667H6.66667V6.66667H2.66667V2.66667ZM13.3333 2.66667V6.66667H9.33333V2.66667H13.3333ZM9.33333 10H10.6667V8.66667H9.33333V7.33333H10.6667V8.66667H12V7.33333H13.3333V8.66667H12V10H13.3333V12H12V13.3333H10.6667V12H8.66667V13.3333H7.33333V10.6667H9.33333V10ZM10.6667 10V12H12V10H10.6667ZM2.66667 13.3333V9.33333H6.66667V13.3333H2.66667ZM4 4V5.33333H5.33333V4H4ZM10.6667 4V5.33333H12V4H10.6667ZM4 10.6667V12H5.33333V10.6667H4ZM2.66667 7.33333H4V8.66667H2.66667V7.33333ZM6 7.33333H8.66667V10H7.33333V8.66667H6V7.33333ZM7.33333 4H8.66667V6.66667H7.33333V4ZM1.33333 1.33333V4H0V1.33333C0 0.979711 0.140476 0.640573 0.390524 0.390524C0.640573 0.140476 0.979711 0 1.33333 0L4 0V1.33333H1.33333ZM14.6667 0C15.0203 0 15.3594 0.140476 15.6095 0.390524C15.8595 0.640573 16 0.979711 16 1.33333V4H14.6667V1.33333H12V0H14.6667ZM1.33333 12V14.6667H4V16H1.33333C0.979711 16 0.640573 15.8595 0.390524 15.6095C0.140476 15.3594 0 15.0203 0 14.6667V12H1.33333ZM14.6667 14.6667V12H16V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H12V14.6667H14.6667Z\" fill=\"currentColor\" />\r\n            </svg>\r\n        </button>\r\n        <p class=\"text-lg font-semibold\" *ngIf=\"mostrarTexto\">\r\n            Escanear Artículo\r\n        </p>\r\n        <p class=\"text-lg font-semibold\" *ngIf=\"!mostrarTexto\">\r\n            {{codigo_interno}} - {{descripcion}}\r\n        </p>\r\n    </div>    \r\n    <form class=\"form-menu p-8 sm:ml-12\" [formGroup]=\"form\">\r\n        <div class=\"flex gap-4\">\r\n            <div class=\"flex flex-col\">\r\n                <span class=\"block font-semibold text-lg mb-2\">Unidad de Medida</span>\r\n                <mat-form-field appearance='outline' class=\"w-[186px]\">\r\n                    <mat-select formControlName=\"unidadmedida\" (ngModelChange)=\"seleccionArticulo({um: $event})\" placeholder=\"Selecciona una UM\">\r\n                        <mat-option *ngFor=\"let um of unidades_de_medida\"\r\n                        [value]=\"um.idunidadmedida\">{{um.descripcion_um}}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"flex flex-col\">\r\n                <span class=\"block font-semibold text-lg mb-2 text-gray-500\">En Stock</span>\r\n                <mat-form-field appearance='outline' class=\"w-32\">\r\n                    <input matInput type=\"number\" formControlName=\"stock_existente\" placeholder=\"Stock Artículo\" readonly=\"true\">\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n            <div class=\"flex flex-col\">\r\n                <span class=\"block font-semibold text-lg mb-2\">Cantidad</span>\r\n                <mat-form-field appearance=\"outline\" class=\"w-48\">\r\n                    <input matInput type=\"number\" formControlName=\"cantidad\" placeholder=\"Cantidad a Entregar\" #cantidadInput (keydown)=\"onKeyDown($event)\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"flex items-center justify-center ml-2\">\r\n                <button \r\n                    [class]=\"color_primario ? '' : default_color\" \r\n                    [style.background]=\"color_primario\" \r\n                    class=\"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full mt-3.5 mr-2 sm:mr-4 transition-transform transform active:scale-95\"\r\n                    (click)=\"sumaArticulo(cantidadInput)\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M16 10H10V16H6V10H0V6H6V0H10V6H16V10Z\" fill=\"white\"/>\r\n                    </svg>                    \r\n                </button>\r\n                <button \r\n                    [class]=\"color_primario ? '' : default_color\" \r\n                    [style.background]=\"color_primario\" \r\n                    class=\"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full mt-3.5 transition-transform transform active:scale-95\"\r\n                    (click)=\"restaArticulo(cantidadInput)\">\r\n                    <svg width=\"14\" height=\"2\" viewBox=\"0 0 14 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M14 2H0V0H14V2Z\" fill=\"white\"/>\r\n                    </svg>                    \r\n                </button>\r\n            </div>\r\n        </div>   \r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\"> \r\n        <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n            [style.color]=\"color_primario || '' \" class=\"hidden !border border-solid md:block md:w-36 md:rounded-lg py-8 md:py-0 mr-2\"\r\n            (click)=\"limpiarCasilleros()\">\r\n            <span class=\"font-medium text-base\">Limpiar</span>\r\n        </button>\r\n        <button mat-flat-button [class]=\"color_primario  ? '' : default_color\" [style.background-color]=\"color_primario\"\r\n            [style.color]=\"color_secundario || '' \" class='w-full rounded-none md:w-36 md:rounded-lg md:w-36 py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Agregar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { RouterModule, Routes } from '@angular/router';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatToolbarModule } from '@angular/material/toolbar'\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { FuseAlertComponent } from '@fuse/components/alert';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { TablaDinamicaModule } from '@shared/components/tabla-dinamica/tabla-dinamica.module';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { EntregasQRService } from './service/entregas-qr.service';\r\nimport { EntregasQRComponent } from './components/entregas-qr.component';\r\nimport { SaveComponent } from './components/save/save.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: EntregasQRComponent\r\n    }\r\n];\r\n@NgModule({\r\n    declarations: [EntregasQRComponent, SaveComponent],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        MatTableModule,\r\n        MatButtonModule,\r\n        MatSelectModule,\r\n        MatFormFieldModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        FuseAlertComponent,\r\n        MatTooltipModule,\r\n        MatAutocompleteModule,\r\n        MatToolbarModule,\r\n        MatCheckboxModule,\r\n        MatSortModule,\r\n        TablaDinamicaModule,\r\n        MatDialogModule,\r\n        MatDatepickerModule\r\n    ],\r\n    exports: [RouterModule],\r\n    providers: [ EntregasQRService, JedsMenuService, AppAlertService, DatePipe]\r\n})\r\nexport class EntregasQRModule { }","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { AuthService } from '@core/auth/auth.service';\r\nimport { environment } from 'environments/environment';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { IEntregaQR } from '../models/entrega-qr';\r\n\r\n@Injectable()\r\nexport class EntregasQRService {\r\n    constructor(\r\n        private http: HttpClient, \r\n        private _authService: AuthService\r\n    ) { }\r\n\r\n    /**\r\n     * Funcion en el Servicio \r\n     * @param entregas \r\n     * @returns Crea un item nuevo\r\n     */\r\n    saveEntregaQR(entregas: IEntregaQR): Observable<IEntregaQR> {\r\n        return this.http.post<IEntregaQR>(`${environment.stock.entregas}`, entregas);\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * @param codigo \r\n     * @returns Verifica si el QR escaneado de la Credencial del Usuario es valido.\r\n     */\r\n    getUsuarioQR(codigo: number): Observable<any> {\r\n        return this.http.get<any>(`${environment.login.view_usuarios}?filter[codigo]=`+ codigo );\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param idventagenerica \r\n     * @returns Verifica si el QR escaneado de la Orden de Servicio es valido.\r\n     */\r\n    getOrdenServicio(idventagenerica: number): Observable<any> {\r\n        return this.http.get<any>(`${environment.ventas.view_venta_genericas}?filter[idventagenerica]=`+ idventagenerica)\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param idarticulo \r\n     * @returns Verifica si el QR escaneado de las Etiquetas de Articulos es valido.\r\n     */\r\n    getArticuloQR(idarticulo: number): Observable<any> {\r\n        return this.http.get<any>(`${environment.stock.view_articulos}?filter[idarticulo]=`+ idarticulo);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param option \r\n     * @returns Trae los Depositos de dichas empresa\r\n     */\r\n    getDepositos(option?) {\r\n        let f = '?';\r\n        f += !option ? 'filter[activo]=1' : '';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.depositos}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param deposito \r\n     * @returns Trae los Articulos que se tienen en dichos Depositos.\r\n     */\r\n    getArticulosDepositos(deposito: number) {\r\n        let f = `?filter[deposito]=${deposito}`\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.view_stock_articulo_depositos}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n}"],"names":["Subject","firstValueFrom","map","startWith","takeUntil","MatTableDataSource","FormControl","FormGroup","Validators","TablaDinamicaComponent","LectorQrComponent","SaveComponent","i0","ɵɵnamespaceHTML","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","ctx_r1","nombre","apellido","ɵɵtextInterpolate1","ctx_r3","orden_servicio","ɵɵlistener","EntregasQRComponent_button_22_Template_button_click_0_listener","ɵɵrestoreView","_r20","ctx_r19","ɵɵnextContext","ɵɵresetView","limpiarCasillero","ɵɵproperty","deposito_r21","descripcion","ɵɵclassMap","ctx_r8","color_primario","default_color","ɵɵstyleProp","movimiento_articulo_r22","codigo_interno","ctx_r10","movimiento_articulo_r23","descripcion_articulo","ctx_r12","movimiento_articulo_r24","descripcion_um","ctx_r14","movimiento_articulo_r25","cantidad","ɵɵelement","EntregasQRComponent","constructor","_entregasQRService","_empresaService","confirm","alert","dialogo","_searchService","_menuService","router","_headerTextService","pwaService","datePipe","columns","dataSource","depositos","mov_art_list","usuarios","_unsubscribeAll","mostrarTextoCredencial","mostrarTextoOrdenServicio","buttonStyleCredencial","buttonStyleOrdenServicio","credencialScaneada","ordenServicioScaneada","setTitulo","user","JSON","parse","localStorage","getItem","ngOnInit","empresa$","pipe","subscribe","empresa","color_secundario","getEmpresa","newForm","getDepositos","form","deposito_entrega","entrega","descripcion_deposito","required","credencialUsuario","open","panelClass","componentInstance","sendObject","code","length","error","idusuario","parseInt","idUsuario","getUsuarioQR","response","result","usuario","console","ordenServicio","idventagenerica","getOrdenServicio","venta","option","_this","_asyncToGenerator","Depositos","Promise","_ref","resolve","list","filteredDepositos","get","valueChanges","value","_filterDepositos","_x","apply","arguments","deposito","filterValue","toString","toLowerCase","filter","includes","getTextDeposito","agregarArticulo","deposito_entrega_value","iddeposito","data","movimientos","afterClosed","next","res","movimiento_articulo","idarticulo","articulo","idunidadmedida","unidad_medida","unidadmedida_descripcion","stock","disable","success","warning","input","setValue","resetForm","enable","setErrors","onSubmit","objeto","idventa","fecha","Date","toISOString","split","hora","toLocaleTimeString","hour12","fecha_formateada","transform","fecha_hora","payload","id","fecha_hora_precarga","usuario_entrega","observaciones","saveEntregaQR","setTimeout","ngOnDestroy","unsubscribe","closeAll","ɵɵdirectiveInject","i1","EntregasQRService","i2","EmpresaService","i3","FuseConfirmationService","i4","AppAlertService","i5","MatDialog","i6","SearchService","i7","JedsMenuService","i8","Router","i9","HeaderTextService","i10","PwaService","i11","DatePipe","selectors","viewQuery","EntregasQRComponent_Query","rf","ctx","EntregasQRComponent_Template_div_click_3_listener","ɵɵnamespaceSVG","ɵɵtemplate","EntregasQRComponent_p_7_Template","EntregasQRComponent_p_8_Template","EntregasQRComponent_Template_div_click_9_listener","EntregasQRComponent_p_13_Template","EntregasQRComponent_p_14_Template","EntregasQRComponent_button_21_Template","EntregasQRComponent_button_22_Template","EntregasQRComponent_mat_option_25_Template","EntregasQRComponent_Template_button_click_27_listener","ɵɵelementContainerStart","EntregasQRComponent_th_34_Template","EntregasQRComponent_td_35_Template","ɵɵelementContainerEnd","EntregasQRComponent_th_37_Template","EntregasQRComponent_td_38_Template","EntregasQRComponent_th_40_Template","EntregasQRComponent_td_41_Template","EntregasQRComponent_th_43_Template","EntregasQRComponent_td_44_Template","EntregasQRComponent_tr_45_Template","EntregasQRComponent_tr_46_Template","EntregasQRComponent_div_47_Template","EntregasQRComponent_Template_button_click_50_listener","ɵɵpureFunction3","_c0","_r6","ɵɵpipeBind1","EventEmitter","finalize","takeWhile","tap","timer","MAT_DIALOG_DATA","MAT_DATE_FORMATS","MY_DATE_FORMATS","ctx_r0","_alertConfig","type","showAlert","message","ctx_r2","um_r5","ɵɵtextInterpolate","dialogRef","articulos","idArticulo","unidades_de_medida","creadoExitosamente","mostrarTexto","buttonStyle","getArticulosDepositos","subscribeAlert","etiquetaArticulo","emitConfig","config","appearance","time","unidadmedida","stock_existente","articulos_um_deposito","_this2","getArticuloQR","articuloEnDeposito","find","item","getUnidadesDeMedidaArticulos","_this3","_ref2","a","sort","b","factor_um","um","seleccionArticulo","_x2","$event","articulo_um","cantidad_existente","existeMovimiento","articulos_existentes","forEach","ae","Number","sumaArticulo","currentValue","controls","restaArticulo","limpiarCasilleros","reset","onKeyDown","event","key","preventDefault","valid","movimiento","codigo","onCloseMenu","close","MatDialogRef","outputs","features","ɵɵProvidersFeature","provide","useValue","decls","vars","consts","template","SaveComponent_Template","SaveComponent_Template_button_click_5_listener","SaveComponent_Template_button_click_8_listener","SaveComponent_fuse_alert_11_Template","SaveComponent_Template_div_click_12_listener","SaveComponent_p_16_Template","SaveComponent_p_17_Template","SaveComponent_Template_mat_select_ngModelChange_24_listener","SaveComponent_mat_option_25_Template","SaveComponent_Template_input_keydown_36_listener","SaveComponent_Template_button_click_39_listener","_r4","ɵɵreference","SaveComponent_Template_button_click_42_listener","SaveComponent_Template_button_click_46_listener","SaveComponent_Template_button_click_49_listener","RouterModule","CommonModule","MatToolbarModule","MatTableModule","MatButtonModule","MatSelectModule","MatFormFieldModule","ReactiveFormsModule","MatInputModule","FuseAlertComponent","MatIconModule","MatTooltipModule","MatAutocompleteModule","MatCheckboxModule","MatSortModule","TablaDinamicaModule","MatDialogModule","MatDatepickerModule","routes","path","component","EntregasQRModule","imports","forChild","declarations","exports","environment","http","_authService","entregas","post","login","view_usuarios","ventas","view_venta_genericas","view_articulos","f","subject","resp","accessToken","token","asObservable","view_stock_articulo_depositos","ɵɵinject","HttpClient","AuthService","factory","ɵfac"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}