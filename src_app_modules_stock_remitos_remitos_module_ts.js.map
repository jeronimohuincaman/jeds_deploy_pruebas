{"version":3,"file":"src_app_modules_stock_remitos_remitos_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEoE;AAGmD;AACnC;AAC1B;AACG;AAEG;;;;;;;;;;;;;;;;;;ICE5DgB,4DAAA,qBAMC;IACDA,oDAAA,GACA;IAAAA,0DAAA,EAAa;;;;IANTA,wDAAA,SAAAK,MAAA,CAAAC,YAAA,CAAAC,IAAA,CAA0B,qCAAAF,MAAA,CAAAG,SAAA;IAK9BR,uDAAA,GACA;IADAA,gEAAA,MAAAK,MAAA,CAAAC,YAAA,CAAAK,OAAA,MACA;;;;;IAUoBX,4DAAA,qBAAkF;IAC9EA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFkDA,wDAAA,UAAAY,WAAA,CAAkB;IAC7EZ,uDAAA,GACJ;IADIA,gEAAA,MAAAY,WAAA,CAAAE,cAAA,SAAAF,WAAA,CAAAG,WAAA,MACJ;;;;;;IAEJf,4DAAA,iBACuC;IADLA,wDAAA,mBAAAiB,gEAAA;MAAAjB,2DAAA,CAAAmB,GAAA;MAAA,MAAAC,MAAA,GAAApB,2DAAA;MAAA,OAASA,yDAAA,CAAAoB,MAAA,CAAAG,gBAAA,CAAiB,UAAU,CAAC;IAAA,EAAC;IAEpEvB,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAM1BA,4DAAA,qBAC4B;IAAAA,oDAAA,GAAqB;IAAAA,0DAAA,EAAa;;;;IAA9DA,wDAAA,UAAAwB,KAAA,CAAAC,cAAA,CAA2B;IAACzB,uDAAA,GAAqB;IAArBA,+DAAA,CAAAwB,KAAA,CAAAG,cAAA,CAAqB;;;AD5BzE,MAMaC,oBAAoB;EAkB7BC,YACoCC,IAAS,EACjCC,eAA+B,EAC/BC,eAA+B,EAC/BC,QAAkB,EACnBC,KAAsB,EACtBC,SAA6C,EAC5CC,OAAkB;IANM,KAAAN,IAAI,GAAJA,IAAI;IAC5B,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,QAAQ,GAARA,QAAQ;IACT,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,SAAS,GAATA,SAAS;IACR,KAAAC,OAAO,GAAPA,OAAO;IAxBnB,KAAAC,OAAO,GAAG,CAAC,UAAU,EAAE,cAAc,EAAE,UAAU,EAAE,UAAU,CAAC;IAG9D,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,kBAAkB,GAAU,EAAE;IAC9B,KAAAC,SAAS,GAAgB,EAAE;IAG3B,KAAAC,cAAc,GAAG,EAAE;IACZ,KAAAC,UAAU,GAA4B,IAAI5C,uEAAkB,EAAE;IACrE,KAAAU,SAAS,GAAG,KAAK;IAIjB,KAAAmC,aAAa,GAAW,YAAY;IAC5B,KAAAC,eAAe,GAAiB,IAAIzD,yCAAO,EAAO;IAYtD,IAAI,CAAC0D,KAAK,GAAG,+BAA+B;EAChD;EAEAC,QAAQA,CAAA;IACJ;IACA,IAAI,CAACd,eAAe,CAACe,QAAQ,CACxBC,IAAI,CAACxD,+CAAS,CAAC,IAAI,CAACoD,eAAe,CAAC,CAAC,CACrCK,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAACC,cAAc,GAAGD,OAAO,CAACC,cAAc;MAC5C,IAAI,CAACC,gBAAgB,GAAGF,OAAO,CAACE,gBAAgB;IACpD,CAAC,CAAC;IAEN;IACA,IAAI,CAACpB,eAAe,CAACqB,UAAU,EAAE;IACjC,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACC,uBAAuB,EAAE;IAC9B,IAAI,CAACC,cAAc,EAAE;EACzB;EAEA;EACAA,cAAcA,CAAA;IACV,IAAI,CAACtB,KAAK,CAACuB,UAAU,CAACR,SAAS,CAAC;MAC5BS,IAAI,EAAGC,MAAoB,IAAI;QAC3B,IAAI,CAACnD,SAAS,GAAG,IAAI;QACrB,IAAI,CAACF,YAAY,GAAG;UAChB,GAAGqD,MAAM;UACTC,UAAU,EAAE;SACf;QACD,IAAIC,IAAI,GAAG,CAAC;QACZlE,4CAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CACXqD,IAAI,CACD5D,+CAAQ,CAAC,MAAK;UACV,IAAI,CAACoB,SAAS,GAAG,KAAK;UACtB,IAAI,CAACF,YAAY,GAAG,IAAI;QAC5B,CAAC,CAAC,EACFb,gDAAS,CAAC,MAAMoE,IAAI,GAAG,CAAC,CAAC,EACzBrE,+CAAS,CAAC,IAAI,CAACoD,eAAe,CAAC,EAC/BlD,0CAAG,CAAC,MAAOmE,IAAI,IAAI,CAAE,CAAC,CACzB,CACAZ,SAAS,EAAE;MACpB;KACH,CAAC;EACN;EAEA;;;EAGMM,uBAAuBA,CAAA;IAAA,IAAAO,KAAA;IAAA,OAAAC,kIAAA;MACzB,MAAMC,eAAe,SAAS3E,qDAAc,CAACyE,KAAI,CAAC/B,eAAe,CAACkC,mBAAmB,CAACH,KAAI,CAAChC,IAAI,CAACoC,YAAY,CAAC,CAAC,CAAC,CAAC;MAChHJ,KAAI,CAACxB,SAAS,GAAG0B,eAAe,CAACG,IAAI;MACrC,IAAIC,OAAO;QAAA,IAAAC,IAAA,GAAAN,kIAAA,CAAC,WAAOO,OAAO,EAAI;UAC1BR,KAAI,CAACS,iBAAiB,GAAGT,KAAI,CAACU,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACC,YAAY,CAAC1B,IAAI,CAChEzD,gDAAS,CAAC,EAAE,CAAC,EACbD,0CAAG,CAAEqF,KAAK,IAAKb,KAAI,CAACc,gBAAgB,CAACD,KAAK,CAAC,CAAC,CAC/C;UACDL,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAO,EAAA;UAAA,OAAAR,IAAA,CAAAS,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;MAEF;MACAjB,KAAI,CAACxB,SAAS,CAAC0C,OAAO,CAACC,IAAI,IAAG;QAC1B,MAAMC,cAAc,GAAGpB,KAAI,CAACrB,cAAc,CAAC0C,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,UAAU,KAAKJ,IAAI,CAACI,UAAU,CAAC;QACpG,IAAI,CAACH,cAAc,EAAE;UACjB,IAAIE,QAAQ,GAAG;YACXC,UAAU,EAAEJ,IAAI,CAACI,UAAU;YAC3BvE,cAAc,EAAEmE,IAAI,CAACK,uBAAuB;YAC5CvE,WAAW,EAAEkE,IAAI,CAACM,oBAAoB;YACtCC,iBAAiB,EAAEP,IAAI,CAACQ,iBAAiB,CAAC;WAC7C;;UACD3B,KAAI,CAACrB,cAAc,CAACiD,IAAI,CAACN,QAAQ,CAAC;;QACrC;MACL,CAAC,CAAC;IAAC;EACP;EAEA;;;;;EAKQR,gBAAgBA,CAACD,KAAa;IAClC,MAAMgB,WAAW,GAAGhB,KAAK,CAACiB,QAAQ,EAAE,CAACC,WAAW,EAAE;IAClD,OAAO,IAAI,CAACpD,cAAc,CAACqD,MAAM,CAACV,QAAQ,IAAG;MACzC,MAAMtE,cAAc,GAAGsE,QAAQ,CAACtE,cAAc,CAAC8E,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACE,QAAQ,CAACJ,WAAW,CAAC;MAC7F,MAAM5E,WAAW,GAAGqE,QAAQ,CAACrE,WAAW,CAAC6E,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACE,QAAQ,CAACJ,WAAW,CAAC;MACvF,OAAO7E,cAAc,IAAIC,WAAW;IACxC,CAAC,CAAC;EACN;EAEA;;;;;EAKAiF,YAAYA,CAACZ,QAAmB;IAC5B,OAAOA,QAAQ,GAAG,GAAGA,QAAQ,CAACtE,cAAc,MAAMsE,QAAQ,CAACrE,WAAW,EAAE,GAAG,EAAE;EACjF;EAEA;;;;EAIAkF,4BAA4BA,CAACZ,UAAU;IAAA,IAAAa,MAAA;IACnC,IAAI9B,OAAO;MAAA,IAAA+B,KAAA,GAAApC,kIAAA,CAAC,WAAOO,OAAO,EAAI;QAC1B4B,MAAI,CAAC3D,kBAAkB,GAAG2D,MAAI,CAAC5D,SAAS,CAACwD,MAAM,CAACM,CAAC,IAAIA,CAAC,CAACf,UAAU,KAAKA,UAAU,CAAC,CAAC/F,GAAG,CAAC8G,CAAC,IAAG;UACtF,OAAO;YACHf,UAAU,EAAEe,CAAC,CAACf,UAAU;YACxB5D,cAAc,EAAE2E,CAAC,CAAC3E,cAAc;YAChCE,cAAc,EAAEyE,CAAC,CAACzE,cAAc;YAChC0E,kBAAkB,EAAED,CAAC,CAACC;WACzB;QACL,CAAC,CAAC;QACF/B,OAAO,CAAC,IAAI,CAAC;MACjB,CAAC;MAAA,iBAAAgC,GAAA;QAAA,OAAAH,KAAA,CAAArB,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACN;EAEA;;;;EAIAwB,iBAAiBA,CAACC,MAAM;IACpB;IACA,IAAIA,MAAM,CAACnB,UAAU,EAAE;MACnB,IAAI,CAACb,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACgC,MAAM,EAAE;MACtC,IAAI,CAACR,4BAA4B,CAACO,MAAM,CAACnB,UAAU,CAAC,EAAC;;IAGzD;IACA;IACA,IAAImB,MAAM,CAACE,EAAE,EAAE;MACX;MACA,IAAIC,WAAW,GAAG,IAAI,CAACpE,kBAAkB,CAAC4C,IAAI,CAACiB,CAAC,IAAIA,CAAC,CAACf,UAAU,KAAK,IAAI,CAACb,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,CAACU,UAAU,IAAIe,CAAC,CAAC3E,cAAc,KAAK,IAAI,CAAC+C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,CAAC;MAC5K,IAAI0B,kBAAkB,CAAC,CAAC;MACxB,IAAIO,kBAAkB,GAAG,CAAC;MAE1B,IAAIC,gBAAgB,GAAG,IAAI,CAAC/E,IAAI,CAACgF,WAAW,CAACC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;MAExE,IAAIF,gBAAgB,EAAE;QAAE;QACpB,IAAIG,oBAAoB,GAAG,IAAI,CAAClF,IAAI,CAACgF,WAAW,CAAChB,MAAM,CAACM,CAAC,IAAIA,CAAC,CAACf,UAAU,KAAKsB,WAAW,CAACtB,UAAU,IAAIe,CAAC,CAAC3E,cAAc,KAAKkF,WAAW,CAAClF,cAAc,CAAC,CAAC,CAAC;QAC1J;QACAuF,oBAAoB,CAAChC,OAAO,CAACiC,EAAE,IAAG;UAC9BL,kBAAkB,IAAIM,MAAM,CAACD,EAAE,CAACE,QAAQ,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC;;QACFd,kBAAkB,GAAG,GAAGa,MAAM,CAACP,WAAW,CAACN,kBAAkB,CAAC,GAAGO,kBAAkB,EAAE,CAAC,CAAC;OAC1F,MAAM;QACHP,kBAAkB,GAAGM,WAAW,CAACN,kBAAkB,CAAC,CAAC;;;MAGzD,IAAI,CAAC7B,IAAI,CAACC,GAAG,CAAC,oBAAoB,CAAC,CAAC2C,QAAQ,CAACf,kBAAkB,CAAC,EAAC;;EAEzE;EAEA;;;EAGA9E,gBAAgBA,CAACiF,MAAM;IACnB,IAAIA,MAAM,IAAI,UAAU,EAAE;MACtB,IAAI,CAAChC,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;MACtC,IAAI,CAAC5C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC4C,OAAO,EAAE;MACvC,IAAI,CAAC7C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;MAC1C,IAAI,CAAC5C,IAAI,CAACC,GAAG,CAAC,oBAAoB,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;;EAExD;EAGA9D,OAAOA,CAAA;IACH,IAAI,CAACkB,IAAI,GAAG,IAAIvF,sDAAS,CAAC;MACtBmG,QAAQ,EAAE,IAAIpG,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;MACpDqI,YAAY,EAAE,IAAIvI,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;MACxDiI,QAAQ,EAAE,IAAInI,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;MACpDmH,kBAAkB,EAAE,IAAIrH,wDAAW,CAAE,EAAG;KAC3C,CAAC;EACN;EAEAwI,QAAQA,CAAA;IACJ,IAAI,CAAC,IAAI,CAAChD,IAAI,CAACiD,KAAK,EAAE;MAClB,OAAO,IAAI,CAACvF,KAAK,CAACwF,KAAK,CAAC,6BAA6B,CAAC;KACzD,MAAM;MACH,IAAI,CAACpF,SAAS,CAAC0C,OAAO,CAACI,QAAQ,IAAG;QAC9B,IAAIA,QAAQ,CAACC,UAAU,KAAK,IAAI,CAACb,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,CAACU,UAAU,IAAID,QAAQ,CAAC3D,cAAc,KAAK,IAAI,CAAC+C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,EAAE;UACvI,IAAI,IAAI,CAACH,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,GAAGS,QAAQ,CAACiB,kBAAkB,EAAE;YAC/D,IAAI,CAAC7B,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;YACtC,OAAO,IAAI,CAAClF,KAAK,CAACyF,OAAO,CAAC,2EAA2E,CAAC;;UAE1G,IAAId,gBAAgB,GAAG,IAAI,CAAC/E,IAAI,CAACgF,WAAW,CAAC3B,IAAI,CAACyC,UAAU,IAAIA,UAAU,CAACvC,UAAU,KAAK,IAAI,CAACb,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,CAACU,UAAU,IAAIuC,UAAU,CAACnG,cAAc,KAAK,IAAI,CAAC+C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,CAAC;UAE1M,IAAIkC,gBAAgB,EAAE;YAClB,IAAI,CAACrC,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;YAC1C,OAAO,IAAI,CAAClF,KAAK,CAACyF,OAAO,CAAC,mEAAmE,CAAC;;UAGlG,IAAI,IAAI,CAACnD,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,IAAIS,QAAQ,CAACiB,kBAAkB,IAAI,IAAI,CAAC7B,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,GAAG,CAAC,EAAE;YACvG;YACA,IAAI4C,YAAY,GAAG,IAAI,CAAChF,kBAAkB,CAAC4C,IAAI,CAACuB,EAAE,IAAIA,EAAE,CAACjF,cAAc,KAAK,IAAI,CAAC+C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,CAAC,CAAC,CAAC;YAElH,IAAIkD,mBAAmB,GAAG;cACtBzC,QAAQ,EAAE,IAAI,CAACZ,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK;cACzCmD,aAAa,EAAE,IAAI,CAACtD,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK;cAClDwC,QAAQ,EAAE,IAAI,CAAC3C,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK;cACzCoD,wBAAwB,EAAER,YAAY,CAAC5F,cAAc;cACrD0E,kBAAkB,EAAE,GAAGa,MAAM,CAAC9B,QAAQ,CAACiB,kBAAkB,CAAC,GAAG,IAAI,CAAC7B,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK;aAC/F;YACD,IAAI,CAACqD,WAAW,CAACH,mBAAmB,CAAC;;;MAGjD,CAAC,CAAC;;EAEV;EAEAG,WAAWA,CAAC5C,QAAS;IACjB,IAAI,CAACjD,SAAS,CAAC8F,KAAK,CAAC7C,QAAQ,GAAGA,QAAQ,GAAG,KAAK,CAAC;EACrD;;AA7OSxD,oBAAoB;mBAApBA,oBAAoB,EAAA5B,+DAAA,CAmBjBJ,sEAAe,GAAAI,+DAAA,CAAAmI,oEAAA,GAAAnI,+DAAA,CAAAqI,+EAAA,GAAArI,+DAAA,CAAAuI,sDAAA,GAAAvI,+DAAA,CAAAyI,iFAAA,GAAAzI,+DAAA,CAAA2I,mEAAA,GAAA3I,+DAAA,CAAA2I,gEAAA;AAAA;AAnBlB/G,oBAAoB;QAApBA,oBAAoB;EAAAkH,SAAA;EAAAC,QAAA,GAAA/I,gEAAA,CAFlB,CAAC;IAAEiJ,OAAO,EAAEpJ,qEAAgB;IAAEqJ,QAAQ,EAAEnJ,0EAAeA;EAAA,CAAE,CAAC;EAAAoJ,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCnBzExJ,4DAAA,aAC6L;MAG1IA,oDAAA,GAAS;MAAAA,0DAAA,EAAO;MAC3DA,4DAAA,UAAK;MACuBA,wDAAA,mBAAA0J,sDAAA;QAAA,OAASD,GAAA,CAAAzB,WAAA,EAAa;MAAA,EAAC;MAC3ChI,4DAAA,kBAA6B;MAAAA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAKzDA,wDAAA,IAAA4J,0CAAA,wBAQa;MACb5J,4DAAA,cAA+C;MAKpBA,oDAAA,qBAAQ;MAAAA,0DAAA,EAAY;MAC/BA,4DAAA,iBACgD;MAA5CA,wDAAA,2BAAA6J,8DAAArD,MAAA;QAAA,OAAiBiD,GAAA,CAAAlD,iBAAA,CAAAC,MAAA,CAAyB;MAAA,EAAC;MAD/CxG,0DAAA,EACgD;MAChDA,4DAAA,gCAA4F;MACxFA,wDAAA,KAAA8J,2CAAA,yBAEa;;MACjB9J,0DAAA,EAAmB;MACnBA,wDAAA,KAAA+J,uCAAA,qBAGS;MACb/J,0DAAA,EAAiB;MACjBA,4DAAA,yBAA6D;MAC9CA,oDAAA,UAAE;MAAAA,0DAAA,EAAY;MACzBA,4DAAA,sBAA6F;MAAlDA,wDAAA,2BAAAgK,mEAAAxD,MAAA;QAAA,OAAiBiD,GAAA,CAAAlD,iBAAA;UAAAG,EAAA,EAAAF;QAAA,EAA+B;MAAA,EAAC;MACxFxG,wDAAA,KAAAiK,2CAAA,yBAC8D;MAClEjK,0DAAA,EAAa;MAEjBA,4DAAA,yBAA6D;MAC9CA,oDAAA,0BAAkB;MAAAA,0DAAA,EAAY;MACzCA,uDAAA,iBAAmF;MACvFA,0DAAA,EAAiB;MACjBA,4DAAA,yBAA6D;MAC9CA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAY;MAC/BA,uDAAA,iBAAyD;MAC7DA,0DAAA,EAAiB;MAI7BA,4DAAA,eAAsE;MAE2CA,wDAAA,mBAAAmK,uDAAA;QAAA,OAASV,GAAA,CAAAjC,QAAA,EAAU;MAAA,EAAC;MAC7HxH,4DAAA,gBAA+C;MAAAA,oDAAA,mBAAM;MAAAA,0DAAA,EAAO;;;;MA1D/DA,uDAAA,GAAiE;MAAjEA,wDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,yDAAA,qBAAAyJ,GAAA,CAAAtG,cAAA,OAAgD,UAAAsG,GAAA,CAAArG,gBAAA;MAExEpD,uDAAA,GAAS;MAATA,+DAAA,CAAAyJ,GAAA,CAAA5G,KAAA,CAAS;MAYnD7C,uDAAA,GAAe;MAAfA,wDAAA,SAAAyJ,GAAA,CAAAjJ,SAAA,CAAe;MAKQR,uDAAA,GAAkB;MAAlBA,wDAAA,cAAAyJ,GAAA,CAAAjF,IAAA,CAAkB;MAMyBxE,uDAAA,GAAuB;MAAvBA,wDAAA,oBAAAsK,GAAA,CAAuB;MAEftK,uDAAA,GAA4B;MAA5BA,wDAAA,gBAAAyJ,GAAA,CAAAzD,YAAA,CAA4B;MACtDhG,uDAAA,GAA4B;MAA5BA,wDAAA,YAAAA,yDAAA,SAAAyJ,GAAA,CAAAlF,iBAAA,EAA4B;MAK5DvE,uDAAA,GAAgC;MAAhCA,wDAAA,SAAAyJ,GAAA,CAAAjF,IAAA,CAAAC,GAAA,aAAAE,KAAA,CAAgC;MAON3E,uDAAA,GAAqB;MAArBA,wDAAA,YAAAyJ,GAAA,CAAAlH,kBAAA,CAAqB;MAgBtCvC,uDAAA,IAAiE;MAAjEA,wDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,yDAAA,qBAAAyJ,GAAA,CAAAtG,cAAA,OAAgD,UAAAsG,GAAA,CAAArG,gBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzD5F;AAEN;AAMQ;AACM;AAEN;;;;;;;;;;;;;;;;ICa9CpD,4DAAA,iBACkG;IADhEA,wDAAA,mBAAAyK,+DAAA;MAAAzK,2DAAA,CAAA0K,GAAA;MAAA,MAAAC,MAAA,GAAA3K,2DAAA;MAAA,OAASA,yDAAA,CAAA2K,MAAA,CAAAC,aAAA,EAAe;IAAA,EAAC;IAEvD5K,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAS1BA,4DAAA,qBAAoG;IAAAA,oDAAA,GACpG;IAAAA,0DAAA,EAAa;;;;IADkDA,wDAAA,UAAA6K,sBAAA,CAAAC,MAAA,CAAoC;IAAC9K,uDAAA,GACpG;IADoGA,gEAAA,KAAA6K,sBAAA,CAAAE,IAAA,MACpG;;;;;IASA/K,4DAAA,qBAAiF;IAC7EA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFyCA,wDAAA,UAAAgL,YAAA,CAAAC,MAAA,CAA0B;IAC5EjL,uDAAA,GACJ;IADIA,gEAAA,MAAAgL,YAAA,CAAAE,WAAA,MACJ;;;;;IASAlL,4DAAA,qBACkC;IAAAA,oDAAA,GAAwB;IAAAA,0DAAA,EAAa;;;;IAAnEA,wDAAA,UAAAmL,WAAA,CAAAC,UAAA,CAA6B;IAACpL,uDAAA,GAAwB;IAAxBA,+DAAA,CAAAmL,WAAA,CAAApK,WAAA,CAAwB;;;AD3C1E,MASasK,mBAAmB;EAY9BxJ,YAC8BC,IAAS,EAC7BwJ,YAA6B,EAC7BrJ,QAAkB,EAClBF,eAA+B,EAC/BC,eAA+B;IAJX,KAAAF,IAAI,GAAJA,IAAI;IACxB,KAAAwJ,YAAY,GAAZA,YAAY;IACZ,KAAArJ,QAAQ,GAARA,QAAQ;IACR,KAAAF,eAAe,GAAfA,eAAe;IACf,KAAAC,eAAe,GAAfA,eAAe;IAfzB,KAAAuJ,cAAc,GAAe,EAAE;IAC/B,KAAAC,eAAe,GAAiB,EAAE;IAClC,KAAAC,cAAc,GAAgB,EAAE;IAChC,KAAAC,YAAY,GAAQ,EAAE;IACtB,KAAAC,yBAAyB,GAAc,EAAE,CAAC,CAAC;IAG3C,KAAAhJ,aAAa,GAAW,YAAY;IAC5B,KAAAC,eAAe,GAAiB,IAAIzD,yCAAO,EAAO;EAQtD;EAEJ2D,QAAQA,CAAA;IACN,IAAI,CAAC8I,WAAW,GAAG,IAAI3M,qDAAS,CAAC;MAC/B4M,iBAAiB,EAAE,IAAI7M,uDAAW,CAAE,EAAG,CAAC;MACxC8M,cAAc,EAAE,IAAI9M,uDAAW,CAAE,EAAG,CAAC;MACrC+M,mBAAmB,EAAE,IAAI/M,uDAAW,CAAE,CAAC,CAAE,CAAC;MAC1CgN,SAAS,EAAE,IAAIhN,uDAAW,CAAE,CAAC,CAAE,CAAC;MAChCiN,QAAQ,EAAE,IAAIjN,uDAAW,CAAE,CAAC,CAAE;KAC/B,CAAC;IACF;IACA,IAAI,CAACgD,eAAe,CAACe,QAAQ,CAC1BC,IAAI,CAACxD,+CAAS,CAAC,IAAI,CAACoD,eAAe,CAAC,CAAC,CACrCK,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAACC,cAAc,GAAGD,OAAO,CAACC,cAAc;MAC5C,IAAI,CAACC,gBAAgB,GAAGF,OAAO,CAACE,gBAAgB;IACpD,CAAC,CAAC;IAEJ;IACA,IAAI,CAACpB,eAAe,CAACqB,UAAU,EAAE;IACjC,IAAI,CAAC6I,YAAY,EAAE;IACnB,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACR,WAAW,CAACS,UAAU,CAAC,IAAI,CAACvK,IAAI,CAACgE,MAAM,CAAC;EAE/C;EAEAwG,YAAYA,CAAA;IACV,IAAI,CAACV,WAAW,CAACW,KAAK,CAAC;MACrBV,iBAAiB,EAAE,EAAE;MACrBC,cAAc,EAAE,EAAE;MAClBC,mBAAmB,EAAE,CAAC,CAAC;MACvBC,SAAS,EAAE,CAAC,CAAC;MACbC,QAAQ,EAAE,CAAC;KACZ,CAAC;EACJ;EAEAjE,WAAWA,CAAClG,IAAA,GAAY,IAAI;IAC1B,IAAIA,IAAI,EAAE;MACRA,IAAI,CAAC+J,iBAAiB,GAAG,IAAI,CAAC5J,QAAQ,CAACuK,SAAS,CAAC,IAAI,CAACZ,WAAW,CAACnH,GAAG,CAAC,mBAAmB,CAAC,CAACE,KAAK,EAAE,YAAY,CAAC;MAC/G7C,IAAI,CAACgK,cAAc,GAAG,IAAI,CAAC7J,QAAQ,CAACuK,SAAS,CAAC,IAAI,CAACZ,WAAW,CAACnH,GAAG,CAAC,gBAAgB,CAAC,CAACE,KAAK,EAAE,YAAY,CAAC;;IAE3G,IAAI,CAAC2G,YAAY,CAACrD,KAAK,CAACnG,IAAI,CAAC;EAC/B;EAEA;;;EAGA8I,aAAaA,CAAA;IACX,IAAI,CAACgB,WAAW,CAACnH,GAAG,CAAC,mBAAmB,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;IACtD,IAAI,CAACwE,WAAW,CAACnH,GAAG,CAAC,gBAAgB,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;EACrD;EAEA;;;EAGM+E,WAAWA,CAAA;IAAA,IAAArI,KAAA;IAAA,OAAAC,kIAAA;MACf,MAAM0I,QAAQ,SAASpN,qDAAc,CAACyE,KAAI,CAAC/B,eAAe,CAACoK,WAAW,EAAE,CAAC;MACzErI,KAAI,CAACyH,cAAc,GAAGkB,QAAQ,CAACtI,IAAI;IAAC;EACtC;EAEA;;;EAGMiI,cAAcA,CAAA;IAAA,IAAAlG,MAAA;IAAA,OAAAnC,kIAAA;MAClB,MAAM2I,WAAW,SAASrN,qDAAc,CAAC6G,MAAI,CAACnE,eAAe,CAACqK,cAAc,EAAE,CAAC;MAC/ElG,MAAI,CAACsF,eAAe,GAAGkB,WAAW,CAACvI,IAAI;IAAC;EAC1C;EAEA;;;EAGM+H,YAAYA,CAAA;IAAA,IAAAS,MAAA;IAAA,OAAA5I,kIAAA;MAChB,MAAM6I,QAAQ,SAASvN,qDAAc,CAACsN,MAAI,CAAC5K,eAAe,CAACmK,YAAY,CAAC,IAAI,CAAC,CAAC;MAC9ES,MAAI,CAAClB,cAAc,GAAGmB,QAAQ,CAACzI,IAAI;IAAC;EACtC;;AA7FWkH,mBAAmB;mBAAnBA,mBAAmB,EAAArL,+DAAA,CAapB,WAAW,GAAAA,+DAAA,CAAAmI,kFAAA,GAAAnI,+DAAA,CAAAqI,sDAAA,GAAArI,+DAAA,CAAAuI,oEAAA,GAAAvI,+DAAA,CAAAyI,+EAAA;AAAA;AAbV4C,mBAAmB;QAAnBA,mBAAmB;EAAAvC,SAAA;EAAAC,QAAA,GAAA/I,gEAAA,CALnB,CACT;IAAEiJ,OAAO,EAAEpJ,qEAAgB;IAAEqJ,QAAQ,EAAEnJ,0EAAeA;EAAA,CAAE,CACzD;EAAAoJ,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAwD,6BAAAtD,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCrBHxJ,4DAAA,aACmC;MAGgBA,oDAAA,cAAO;MAAAA,0DAAA,EAAO;MACzDA,4DAAA,UAAK;MACyCA,wDAAA,mBAAA+M,qDAAA;QAAA,OAAStD,GAAA,CAAA6C,YAAA,EAAc;MAAA,EAAC;MAC9DtM,4DAAA,kBAA6B;MAAAA,oDAAA,cAAO;MAAAA,0DAAA,EAAW;MAEnDA,4DAAA,gBAAgD;MAAxBA,wDAAA,mBAAAgN,qDAAA;QAAA,OAASvD,GAAA,CAAAzB,WAAA,EAAa;MAAA,EAAC;MAC3ChI,4DAAA,kBAA6B;MAAAA,oDAAA,aAAK;MAAAA,0DAAA,EAAW;MAIzDA,4DAAA,eAAkF;MAGzBA,oDAAA,uBAAe;MAAAA,0DAAA,EAAO;MAC3EA,4DAAA,yBAA4F;MAEpFA,uDAAA,iBAA4E;MAEhFA,0DAAA,EAAuB;MACvBA,uDAAA,iCAA4E;MAE5EA,wDAAA,KAAAiN,sCAAA,qBAGS;MACbjN,0DAAA,EAAiB;MAGjBA,4DAAA,eAAqD;MAAAA,oDAAA,2BAAmB;MAAAA,0DAAA,EAAO;MAC/EA,4DAAA,yBAA4F;MAE3DA,oDAAA,aAAK;MAAAA,0DAAA,EAAa;MAC3CA,wDAAA,KAAAkN,0CAAA,yBACa;MACjBlN,0DAAA,EAAa;MAIjBA,4DAAA,eAAqD;MAAAA,oDAAA,iBAAS;MAAAA,0DAAA,EAAO;MACrEA,4DAAA,yBAA4F;MAE3DA,oDAAA,aAAK;MAAAA,0DAAA,EAAa;MAC3CA,wDAAA,KAAAmN,0CAAA,yBAEa;MACjBnN,0DAAA,EAAa;MAIjBA,4DAAA,eAAqD;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAO;MACpEA,4DAAA,yBAA4F;MAE3DA,oDAAA,aAAK;MAAAA,0DAAA,EAAa;MAC3CA,wDAAA,KAAAoN,0CAAA,yBACuE;MAC3EpN,0DAAA,EAAa;MAIrBA,4DAAA,eAA+D;MAEvDA,wDAAA,mBAAAqN,sDAAA;QAAA,OAAS5D,GAAA,CAAA6C,YAAA,EAAc;MAAA,EAAC;MACxBtM,4DAAA,gBAAsC;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAO;MAExDA,4DAAA,kBAEqD;MAAjDA,wDAAA,mBAAAsN,sDAAA;QAAA,OAAS7D,GAAA,CAAAzB,WAAA,CAAYyB,GAAA,CAAAmC,WAAA,CAAA2B,WAAA,EAAyB,CAAC;MAAA,EAAC;MAChDvN,4DAAA,gBAAmC;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAO;;;;MAtEzDA,wDAAA,+BAA8B;MACzBA,uDAAA,GAAiE;MAAjEA,wDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,yDAAA,qBAAAyJ,GAAA,CAAAtG,cAAA,OAAgD,UAAAsG,GAAA,CAAArG,gBAAA;MAY/DpD,uDAAA,IAAyB;MAAzBA,wDAAA,cAAAyJ,GAAA,CAAAmC,WAAA,CAAyB;MAKnD5L,uDAAA,GAAsB;MAAtBA,wDAAA,gBAAAwN,GAAA,CAAsB;MAIPxN,uDAAA,GAAc;MAAdA,wDAAA,QAAAwN,GAAA,CAAc;MAG9CxN,uDAAA,GAA2F;MAA3FA,wDAAA,SAAAyJ,GAAA,CAAAmC,WAAA,CAAAnH,GAAA,sBAAAE,KAAA,IAAA8E,GAAA,CAAAmC,WAAA,CAAAnH,GAAA,mBAAAE,KAAA,CAA2F;MAShF3E,uDAAA,GAAY;MAAZA,wDAAA,aAAY;MACoBA,uDAAA,GAAiB;MAAjBA,wDAAA,YAAAyJ,GAAA,CAAA8B,cAAA,CAAiB;MASjDvL,uDAAA,GAAY;MAAZA,wDAAA,aAAY;MACUA,uDAAA,GAAkB;MAAlBA,wDAAA,YAAAyJ,GAAA,CAAA+B,eAAA,CAAkB;MAUxCxL,uDAAA,GAAY;MAAZA,wDAAA,aAAY;MACSA,uDAAA,GAAiB;MAAjBA,wDAAA,YAAAyJ,GAAA,CAAAgC,cAAA,CAAiB;MAWhCzL,uDAAA,GAAiE;MAAjEA,wDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,yDAAA,qBAAAyJ,GAAA,CAAAtG,cAAA,OAAgD,UAAAsG,GAAA,CAAArG,gBAAA;;;;;;eD9CtIoH,4DAAcA;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEtByE;AAGO;AAChD;AACN;AAGT;AACuD;AAE7C;AAImB;;;;;;;;;;;;;AAK1E,MAKauD,gBAAgB;EA0BzBlM,YACYmM,cAA8B,EAC9BhM,eAA+B,EAC/BiM,OAAgC,EAChC/L,KAAsB,EACtBE,OAAkB,EAClB8L,cAA6B,EAC7B5C,YAA6B,EAC7B6C,MAAc,EACfC,kBAAqC;IARpC,KAAAJ,cAAc,GAAdA,cAAc;IACd,KAAAhM,eAAe,GAAfA,eAAe;IACf,KAAAiM,OAAO,GAAPA,OAAO;IACP,KAAA/L,KAAK,GAALA,KAAK;IACL,KAAAE,OAAO,GAAPA,OAAO;IACP,KAAA8L,cAAc,GAAdA,cAAc;IACd,KAAA5C,YAAY,GAAZA,YAAY;IACZ,KAAA6C,MAAM,GAANA,MAAM;IACP,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAjCtB,KAAA1L,UAAU,GAAgC,IAAI5C,wEAAkB,EAAE;IACzE,KAAAuO,OAAO,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,UAAU,EAAE,WAAW,EAAE,cAAc,EAAE,UAAU,CAAC;IAChH,KAAAC,aAAa,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,eAAe,EAAE,sBAAsB,EAAE,uBAAuB,EAAE,kBAAkB,EAAE,UAAU,CAAC;IACnJ,KAAAC,eAAe,GAAG,IAAI;IACtB,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAC,WAAW,GAAG,CAAC,cAAc,EAAE,sBAAsB,EAAE,uBAAuB,CAAC;IAC/E,KAAA3I,MAAM,GAAY;MACdkG,SAAS,EAAE,CAAC,CAAC;MACbC,QAAQ,EAAE,CAAC,CAAC;MACZJ,iBAAiB,EAAE,EAAE;MACrBC,cAAc,EAAE;KACnB;IACQ,KAAA4C,WAAW,GAAG,EAAE;IACf,KAAAC,sBAAsB,GAAG,IAAIlB,wDAAY,EAAO;IAC1D,KAAAmB,GAAG,GAAGd,+EAAyB,GAAG,mBAAmB;IACrD,KAAAiB,MAAM,GAAgB,IAAI/P,wDAAW,CAAC,EAAE,CAAC;IAMzC,KAAA2D,aAAa,GAAW,KAAgB,IAAI,cAAc;IAClD,KAAAC,eAAe,GAAiB,IAAIzD,0CAAO,EAAO;IActD,IAAI,CAACiP,kBAAkB,CAACY,SAAS,CAAC,IAAI,CAACb,MAAM,CAAC;IAE9C;;;IAGA,IAAI,CAACI,eAAe,GAAG,CAAC;MACpBU,KAAK,EAAE,MAAM;MACbC,YAAY,EAAE,QAAQ;MACtBC,YAAY,EAAE;MACd;KACH,EACD;MACIF,KAAK,EAAE,QAAQ;MACfC,YAAY,EAAE,UAAU;MACxBC,YAAY,EAAE;KACjB,CACA;EACL;EAGArM,QAAQA,CAAA;IACJ;IACA,IAAI,CAACd,eAAe,CAACe,QAAQ,CACxBC,IAAI,CAACxD,gDAAS,CAAC,IAAI,CAACoD,eAAe,CAAC,CAAC,CACrCK,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAACC,cAAc,GAAGD,OAAO,CAACC,cAAc;MAC5C,IAAI,CAACC,gBAAgB,GAAGF,OAAO,CAACE,gBAAgB;IACpD,CAAC,CAAC;IAEN;IACA,IAAI,CAACpB,eAAe,CAACqB,UAAU,EAAE;IACjC,IAAI,CAAC+L,cAAc,GAAG,IAAI,CAAClB,cAAc,CAACmB,aAAa,EAAE,CAACrM,IAAI;IAAE;IAC5D0K,mDAAY,CAAC,GAAG,CAAC,EACjBC,2DAAoB,EAAE,CACzB,CACI1K,SAAS,CAAC0B,KAAK,IAAG;MACf,IAAI,CAAC6J,cAAc,GAAG7J,KAAK;MAC3B,IAAI,CAAC2K,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,cAAc,CAAC;IAC3C,CAAC,CAAC;IAEN,IAAI,CAACgB,eAAe,GAAG,IAAI,CAACtB,cAAc,CAACuB,cAAc,EAAE,CAACxM,SAAS,CAACyM,KAAK,IAAG;MAC1E,IAAI,CAACC,YAAY,CAAC,IAAI,CAACzB,cAAc,CAAC0B,eAAe,EAAE,CAAC;IAC5D,CAAC,CAAC;EACN;EAEAD,YAAYA,CAACE,MAAiB;IAC1B,IAAI,CAACvE,YAAY,CACZwE,IAAI,CAACzE,mFAAmB,EAAEwE,MAAM,CAACE,WAAW,EAAE;MAC3CjK,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBhE,IAAI,EAAE,IAAI,CAACwN,KAAK,CAACU,sBAAsB;KAC1C,CAAC,CACDC,WAAW,EAAE,CACbhN,SAAS,CAAC;MACPS,IAAI,EAAEoC,MAAM,IAAG;QACX,IAAIA,MAAM,EAAE;UACR,IAAI,CAACA,MAAM,GAAGA,MAAM;UACpB,IAAI,CAAC4I,WAAW,GAAG,IAAI,CAAC5I,MAAM,CAACmG,QAAQ,IAAI,CAAC,CAAC,GAAG,qBAAqB,GAAG,IAAI,CAACnG,MAAM,CAACmG,QAAQ,GAAG,GAAG,GAAG,EAAE;UACvG,IAAI,CAACyC,WAAW,IAAI,IAAI,CAAC5I,MAAM,CAACiG,mBAAmB,IAAI,CAAC,CAAC,GAAG,oBAAoB,GAAG,IAAI,CAACjG,MAAM,CAACiG,mBAAmB,GAAG,GAAG,GAAG,EAAE;UAC7H,IAAI,CAAC2C,WAAW,IAAI,IAAI,CAAC5I,MAAM,CAACkG,SAAS,IAAI,CAAC,CAAC,GAAG,sBAAsB,GAAG,IAAI,CAAClG,MAAM,CAACkG,SAAS,GAAG,GAAG,GAAG,EAAE;UAC3G,IAAI,CAAC0C,WAAW,IAAI,IAAI,CAAC5I,MAAM,CAAC+F,iBAAiB,IAAI,IAAI,GAAG,qBAAqB,GAAG,IAAI,CAAC/F,MAAM,CAAC+F,iBAAiB,GAAG,GAAG,GAAG,EAAE;UAC5H,IAAI,CAAC6C,WAAW,IAAI,IAAI,CAAC5I,MAAM,CAACgG,cAAc,IAAI,IAAI,GAAG,qBAAqB,GAAG,IAAI,CAAChG,MAAM,CAACgG,cAAc,GAAG,GAAG,GAAG,EAAE;UAEtH,IAAI,CAACwD,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,cAAc,CAAC;UACvC;;MAGR;KACH,CAAC;EACV;EAEA;;;;EAIA0B,eAAeA,CAACR,KAAoC;IAChD,QAAQA,KAAK,CAACS,IAAI;MACd,KAAK,QAAQ;QACT,IAAI,CAACC,YAAY,CAACV,KAAK,CAAC;QACxB;MACJ,KAAK,UAAU;QACX,IAAI,CAACW,YAAY,CAACX,KAAK,CAAC;QACxB;;EAEZ;EAEA;;;EAGAY,UAAUA,CAAA;IACN,IAAI,CAAClO,OAAO,CACP0N,IAAI,CAAClC,+DAAa,EAAE;MAAE2C,UAAU,EAAE;IAAc,CAAE,CAAC,CACnDC,iBAAiB,CAACC,kBAAkB,CACpCxN,SAAS,CAAC;MACPS,IAAI,EAAEA,CAAA,KAAK;QACP,IAAI,CAACxB,KAAK,CAACwO,OAAO,CAAC,0BAA0B,CAAC;QAC9C,IAAI,CAACpB,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,cAAc,CAAC;MAC3C;KACH,CAAC;EACV;EAEA;;;;EAIA4B,YAAYA,CAACV,KAAK;IACd,IAAI,CAACtN,OAAO,CACP0N,IAAI,CAAClC,+DAAa,EAAE;MAAE9L,IAAI,EAAE4N,KAAK,CAACiB,MAAM,CAAC7O,IAAI;MAAEyO,UAAU,EAAE,WAAW;MAAEK,SAAS,EAAE;IAAK,CAAE,CAAC,CAC3FJ,iBAAiB,CAACK,mBAAmB,CACrC5N,SAAS,CAAC;MACPS,IAAI,EAAEA,CAAA,KAAK;QACP,IAAI,CAACxB,KAAK,CAACwO,OAAO,CAAC,2BAA2B,CAAC;QAC/C,IAAI,CAACpB,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,cAAc,CAAC;MAC3C;KACH,CAAC;EACV;EAEA;;;;EAIA6B,YAAYA,CAACX,KAAK;IACd,IAAI,CAACzB,OAAO,CAAC6B,IAAI,CAAC;MACdjN,KAAK,EAAE,mBAAmB,GAAG6M,KAAK,CAACiB,MAAM,CAAC7O,IAAI,CAACgP,KAAK;MACpDnQ,OAAO,EAAE,2CAA2C+O,KAAK,CAACiB,MAAM,CAAC7O,IAAI,CAACgP,KAAK,IAAIpB,KAAK,CAACiB,MAAM,CAAC7O,IAAI,CAACiP,IAAI,mBAAmBrB,KAAK,CAACiB,MAAM,CAAC7O,IAAI,CAACkP,oBAAoB,IAAI;MAClKC,WAAW,EAAE,KAAK;MAClBC,OAAO,EAAE;QACLjD,OAAO,EAAE;UACLkD,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE,MAAM;UACbC,KAAK,EAAE;SACV;QACDC,MAAM,EAAE;UACJH,IAAI,EAAE,IAAI;UACVE,KAAK,EAAE;;;KAGlB,CAAC,CACGpB,WAAW,EAAE,CACbhN,SAAS,CAACsO,GAAG,IAAG;MACb,IAAIA,GAAG,KAAK,WAAW,EAAE;QACrB,IAAI,CAACvD,cAAc,CAACqC,YAAY,CAACX,KAAK,CAACiB,MAAM,CAAC7O,IAAI,CAAC0P,QAAQ,CAAC,CAACvO,SAAS,CAAC;UACnES,IAAI,EAAG6N,GAAG,IAAI;YACV;YACA,IAAI,CAACrP,KAAK,CAACwO,OAAO,CAAC,6BAA6B,CAAC;YACjD,IAAIa,GAAG,EAAE;cACL,IAAI,CAACjC,KAAK,CAACmC,WAAW,EAAE;;UAEhC,CAAC;UACD/J,KAAK,EAAGA,KAAK,IAAI;YACb;YACAgK,OAAO,CAAChK,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;YAC7C,IAAI,CAACxF,KAAK,CAACyF,OAAO,CAAC,6DAA6D,CAAC;UACrF;SACH,CAAC;;IAEV,CAAC,CAAC;EACV;EAEAgK,WAAWA,CAAA;IACP,IAAI,CAACzD,cAAc,CAAC0D,WAAW,EAAE;IACjC,IAAI,CAACxP,OAAO,CAACyP,QAAQ,EAAE;EAC3B;;AAvMS9D,gBAAgB;mBAAhBA,gBAAgB,EAAA/N,gEAAA,CAAAmI,oEAAA,GAAAnI,gEAAA,CAAAqI,+EAAA,GAAArI,gEAAA,CAAAuI,gFAAA,GAAAvI,gEAAA,CAAAyI,8EAAA,GAAAzI,gEAAA,CAAA2I,gEAAA,GAAA3I,gEAAA,CAAA+R,kFAAA,GAAA/R,gEAAA,CAAAiS,kFAAA,GAAAjS,gEAAA,CAAAkS,oDAAA,GAAAlS,gEAAA,CAAAoS,kGAAA;AAAA;AAAhBrE,gBAAgB;QAAhBA,gBAAgB;EAAAjF,SAAA;EAAAwJ,SAAA,WAAAC,uBAAA/I,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;iEAyDdqE,8GAAsB;;;;;;;;;;;;;;;;;;MClFrC7N,6DAAA,aAA4C;MAIRA,yDAAA,mBAAAwS,kDAAA;QAAA,OAAS/I,GAAA,CAAA6G,UAAA,EAAY;MAAA,EAAC;MAE1CtQ,6DAAA,aAA8B;MAE1BA,6DAAA,EACuC;MADvCA,6DAAA,aACuC;MACnCA,wDAAA,cAC0Y;MAC9YA,2DAAA,EAAM;MACNA,8DAAA,EAAkC;MAAlCA,6DAAA,cAAkC;MAAAA,qDAAA,mBAAY;MAAAA,2DAAA,EAAO;MAKrEA,6DAAA,cAA4B;MAKpBA,yDAAA,6BAAA2S,yEAAAnM,MAAA;QAAA,OAAmBiD,GAAA,CAAAyG,eAAA,CAAA1J,MAAA,CAAuB;MAAA,EAAC;MAC/CxG,2DAAA,EAAqB;;;MApBoCA,wDAAA,GAAiE;MAAjEA,yDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,0DAAA,WAAAyJ,GAAA,CAAAtG,cAAA,OAAsC,UAAAsG,GAAA,CAAAtG,cAAA;MAgB/EnD,wDAAA,GAAe;MAAfA,yDAAA,gBAAe,iBAAAyJ,GAAA,CAAA4E,OAAA,wCAAA5E,GAAA,CAAA6E,aAAA,cAAA7E,GAAA,CAAAmF,GAAA,eAAAnF,GAAA,CAAA8E,eAAA,qFAAA9E,GAAA,CAAAgF,WAAA,iBAAAhF,GAAA,CAAAiF,WAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBzB;AAGZ;AAEiE;AACjD;AAC1B;AACG;AAEG;AAGa;;;;;;;;;;;;;;;;;;;;;ICDzE1O,4DAAA,qBACgG;IAC5FA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFTA,wDAAA,SAAAK,MAAA,CAAAC,YAAA,CAAAC,IAAA,CAA0B,qCAAAF,MAAA,CAAAG,SAAA;IAC1BR,uDAAA,GACJ;IADIA,gEAAA,MAAAK,MAAA,CAAAC,YAAA,CAAAK,OAAA,MACJ;;;;;IAkBoBX,4DAAA,qBAAsF;IAClFA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFqDA,wDAAA,UAAA4S,aAAA,CAAmB;IACjF5S,uDAAA,GACJ;IADIA,gEAAA,MAAA4S,aAAA,CAAA1H,WAAA,MACJ;;;;;;IAEJlL,4DAAA,iBACoE;IADlCA,wDAAA,mBAAA6S,yDAAA;MAAA7S,2DAAA,CAAA8S,IAAA;MAAA,MAAAC,OAAA,GAAA/S,2DAAA;MAAA,OAASA,yDAAA,CAAA+S,OAAA,CAAAxR,gBAAA,CAAiB,WAAW,CAAC;IAAA,EAAC;IAErEvB,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAM1BA,4DAAA,qBAA0D;IACtDA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFgCA,wDAAA,UAAAgT,MAAA,CAAY;IACrDhT,uDAAA,GACJ;IADIA,gEAAA,cAAAgT,MAAA,CAAAC,SAAA,SAAAD,MAAA,CAAAE,QAAA,MACJ;;;;;;IAEJlT,4DAAA,iBACuE;IADrCA,wDAAA,mBAAAmT,yDAAA;MAAAnT,2DAAA,CAAAoT,IAAA;MAAA,MAAAC,OAAA,GAAArT,2DAAA;MAAA,OAASA,yDAAA,CAAAqT,OAAA,CAAA9R,gBAAA,CAAiB,cAAc,CAAC;IAAA,EAAC;IAExEvB,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAO1BA,4DAAA,qBAAkF;IAC9EA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFkDA,wDAAA,UAAAsT,YAAA,CAAkB;IAC7EtT,uDAAA,GACJ;IADIA,gEAAA,MAAAsT,YAAA,CAAAvS,WAAA,MACJ;;;;;;IAEJf,4DAAA,iBACmE;IADjCA,wDAAA,mBAAAuT,yDAAA;MAAAvT,2DAAA,CAAAwT,IAAA;MAAA,MAAAC,OAAA,GAAAzT,2DAAA;MAAA,OAASA,yDAAA,CAAAyT,OAAA,CAAAlS,gBAAA,CAAiB,UAAU,CAAC;IAAA,EAAC;IAEpEvB,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAe1BA,4DAAA,aAAsC;IAClCA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;;;;;IACjBA,4DAAA,aAAmD;IAC/CA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA0T,uBAAA,CAAAnO,oBAAA,MACJ;;;;;IAGAvF,4DAAA,aAAsC;IAClCA,oDAAA,sBAAc;IAAAA,0DAAA,EAAK;;;;;IACvBA,4DAAA,aAAmD;IAC/CA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA2T,uBAAA,CAAA7S,cAAA,MACJ;;;;;IAGAd,4DAAA,aAAsC;IAAAA,oDAAA,uBAAgB;IAAAA,0DAAA,EAAK;;;;;IAC3DA,4DAAA,aAAmD;IAC/CA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA4T,uBAAA,CAAAjS,cAAA,MACJ;;;;;IAGA3B,4DAAA,aAAsC;IAAAA,oDAAA,eAAQ;IAAAA,0DAAA,EAAK;;;;;IACnDA,4DAAA,aAAmD;IAC/CA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA6T,uBAAA,CAAA1M,QAAA,MACJ;;;;;;IAGAnH,4DAAA,aAAsC;IAI9BA,wDAAA,mBAAA8T,qDAAA;MAAA9T,2DAAA,CAAA+T,IAAA;MAAA,MAAAC,OAAA,GAAAhU,2DAAA;MAAA,OAASA,yDAAA,CAAAgU,OAAA,CAAAC,aAAA,EAAe;IAAA,EAAC;IACzBjU,4DAAA,eAAU;IAAAA,oDAAA,UAAG;IAAAA,0DAAA,EAAW;;;;IAJPA,uDAAA,GAAiE;IAAjEA,wDAAA,CAAAkU,OAAA,CAAA/Q,cAAA,IAAA+Q,OAAA,CAAA9Q,gBAAA,QAAA8Q,OAAA,CAAAvR,aAAA,CAAiE;IAAC3C,yDAAA,qBAAAkU,OAAA,CAAA/Q,cAAA,OAAgD,UAAA+Q,OAAA,CAAA9Q,gBAAA;;;;;;IAM3IpD,4DAAA,aAA0C;IACdA,wDAAA,mBAAAmU,qDAAA;MAAA,MAAAC,WAAA,GAAApU,2DAAA,CAAAqU,IAAA;MAAA,MAAAC,cAAA,GAAAF,WAAA,CAAAG,SAAA;MAAA,MAAAC,OAAA,GAAAxU,2DAAA;MAAA,OAASA,yDAAA,CAAAwU,OAAA,CAAAC,gBAAA,CAAAH,cAAA,CAA4B;IAAA,EAAC;IAC1DtU,4DAAA,mBAAuB;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EAAW;;;;;IAIpDA,uDAAA,aAAiE;;;;;IACjEA,uDAAA,aAAwD;;;;;;;;ADrG5E,MAMa4N,aAAa;EA4BtB/L,YACoCC,IAAS,EACjCC,eAA+B,EAC/BC,eAA+B,EAC/BC,QAAkB,EACnBC,KAAsB,EACtBC,SAAsC,EACrCC,OAAkB;IANM,KAAAN,IAAI,GAAJA,IAAI;IAC5B,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,QAAQ,GAARA,QAAQ;IACT,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,SAAS,GAATA,SAAS;IACR,KAAAC,OAAO,GAAPA,OAAO;IAlCnB,KAAAC,OAAO,GAAG,CAAC,UAAU,EAAE,eAAe,EAAE,cAAc,EAAE,UAAU,EAAE,UAAU,CAAC;IAK/E,KAAAqS,WAAW,GAAU,EAAE;IACvB,KAAAlS,SAAS,GAAgB,EAAE;IAC3B,KAAAmS,aAAa,GAAU,EAAE;IACzB,KAAAC,aAAa,GAAU,EAAE;IACzB,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,oBAAoB,GAAU,EAAE;IAChC,KAAAC,WAAW,GAAW,EAAE;IAKjB,KAAArS,UAAU,GAA4B,IAAI5C,uEAAkB,EAAE;IACrE,KAAAU,SAAS,GAAG,KAAK;IAIjB,KAAAmC,aAAa,GAAW,YAAY;IAC5B,KAAAC,eAAe,GAAiB,IAAIzD,yCAAO,EAAO;IACzC,KAAAsR,kBAAkB,GAAuB,IAAIhD,uDAAY,EAAQ;IACjE,KAAAoD,mBAAmB,GAAuB,IAAIpD,uDAAY,EAAQ;IACnF,KAAAuH,UAAU,GAAG,KAAK,CAAC,CAAC;IAWhB,IAAI,CAACC,MAAM,GAAG,IAAI,CAACnT,IAAI,GAAG,IAAI,CAACA,IAAI,GAAG,IAAI;IAC1C,IAAI,CAACe,KAAK,GAAG,IAAI,CAACoS,MAAM,EAAEzD,QAAQ,GAAG,iBAAiB,IAAI,CAACyD,MAAM,CAACnE,KAAK,MAAM,IAAI,CAACmE,MAAM,CAAClE,IAAI,EAAE,GAAG,cAAc;IAChH;IACA,IAAI,CAACmE,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACpD;IACA,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB;IACA,IAAI,CAACC,OAAO,GAAG,IAAIC,IAAI,EAAE;EAC7B;EAEA3S,QAAQA,CAAA;IACJ;IACA,IAAI,CAACd,eAAe,CAACe,QAAQ,CACxBC,IAAI,CAACxD,gDAAS,CAAC,IAAI,CAACoD,eAAe,CAAC,CAAC,CACrCK,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAACC,cAAc,GAAGD,OAAO,CAACC,cAAc;MAC5C,IAAI,CAACC,gBAAgB,GAAGF,OAAO,CAACE,gBAAgB;IACpD,CAAC,CAAC;IAEN;IACA,IAAI,CAACpB,eAAe,CAACqB,UAAU,EAAE;IACjC,IAAI,CAACqS,8BAA8B,EAAE,CAACC,IAAI,CAAC,MAAK;MAC5C,IAAI,CAACvJ,cAAc,EAAE;IACzB,CAAC,CAAC;IACF,IAAI,CAAC9I,OAAO,EAAE;IACd,IAAI,CAACsS,KAAK,EAAE;IACZ,IAAI,CAACpS,cAAc,EAAE;IACrB,IAAI,CAACqS,eAAe,EAAE;EAC1B;EAEA;;;EAGAA,eAAeA,CAAA;IACX,IAAI,CAACrR,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACC,YAAY,CAACzB,SAAS,CAAC0B,KAAK,IAAG;MACtD,IAAI,CAAC,IAAI,CAACqQ,UAAU,EAAE;QAClB,IAAI,CAACc,aAAa,CAACnR,KAAK,CAAC;;IAEjC,CAAC,CAAC;IAEF,IAAI,CAACH,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACC,YAAY,CAACzB,SAAS,CAAC0B,KAAK,IAAG;MACzD,IAAI,CAAC,IAAI,CAACqQ,UAAU,EAAE;QAClB;QACA;QACA,IAAI,IAAI,CAACC,MAAM,EAAEzD,QAAQ,EAAE;UACvB7M,KAAK,GAAG;YACJoR,aAAa,EAAEpR;WAClB;;QAGL,IAAI,CAACmR,aAAa,CAACnR,KAAK,CAAC;;IAEjC,CAAC,CAAC;EAEN;EAEA;EACAnB,cAAcA,CAAA;IACV,IAAI,CAACtB,KAAK,CAACuB,UAAU,CAACR,SAAS,CAAC;MAC5BS,IAAI,EAAGC,MAAoB,IAAI;QAC3B,IAAI,CAACnD,SAAS,GAAG,IAAI;QACrB,IAAI,CAACF,YAAY,GAAG;UAChB,GAAGqD,MAAM;UACTC,UAAU,EAAE;SACf;QACD,IAAIC,IAAI,GAAG,CAAC;QACZlE,4CAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CACXqD,IAAI,CACD5D,+CAAQ,CAAC,MAAK;UACV,IAAI,CAACoB,SAAS,GAAG,KAAK;UACtB,IAAI,CAACF,YAAY,GAAG,IAAI;QAC5B,CAAC,CAAC,EACFb,gDAAS,CAAC,MAAMoE,IAAI,GAAG,CAAC,CAAC,EACzBrE,gDAAS,CAAC,IAAI,CAACoD,eAAe,CAAC,EAC/BlD,0CAAG,CAAC,MAAOmE,IAAI,IAAI,CAAE,CAAC,CACzB,CACAZ,SAAS,EAAE;MACpB;KACH,CAAC;EACN;EAEAK,OAAOA,CAAA;IACH,MAAM,CAAC0S,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC,GAAG,IAAI,CAACjB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACnE,KAAK,CAACqF,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;IAE1E,IAAI,IAAI,CAAClB,MAAM,EAAE;MAAE;MACf,IAAI,CAACmB,QAAQ,CAAC,IAAI,CAACnB,MAAM,CAACzD,QAAQ,CAAC,CAACmE,IAAI,CAAEpE,GAAG,IAAI;QAC7C,IAAI,CAACsD,YAAY,GAAGtD,GAAG,CAACjS,GAAG,CAAC+W,CAAC,IAAG;UAC5B,OAAO;YACHhR,UAAU,EAAEgR,CAAC,CAAChR,UAAU;YACxB8B,QAAQ,EAAEkP,CAAC,CAAClP,QAAQ;YACpB1F,cAAc,EAAE4U,CAAC,CAAC5U,cAAc;YAChC8D,oBAAoB,EAAE8Q,CAAC,CAAC9Q,oBAAoB;YAC5C5D,cAAc,EAAE0U,CAAC,CAAC1U,cAAc;YAChCb,cAAc,EAAEuV,CAAC,CAAC/Q;WACrB;QACL,CAAC,CAAC;QAEF,IAAI,CAAC5C,UAAU,GAAG,IAAI5C,uEAAkB,CAAC,IAAI,CAAC+U,YAAY,CAAC;QAE3D;QACA,IAAI,IAAI,CAACA,YAAY,CAAC9N,MAAM,IAAI,CAAC,EAAE;UAC/B,IAAI,CAACvC,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC4C,OAAO,EAAE;UACpC,IAAI,CAAC7C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC4C,OAAO,EAAE;UACvC,IAAI,CAAC7C,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC4C,OAAO,EAAE;SACtC,MAAM;UACH,IAAI,CAAC7C,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACgC,MAAM,EAAE;UACnC,IAAI,CAACjC,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACgC,MAAM,EAAE;UACtC,IAAI,CAACjC,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACgC,MAAM,EAAE;;MAE1C,CAAC,CAAC;;IAGN,IAAI,CAACjC,IAAI,GAAG,IAAIvF,sDAAS,CAAC;MACtB6R,KAAK,EAAE,IAAI9R,wDAAW,CAAE,IAAI,CAACiW,MAAM,EAAEnE,KAAK,GAAG,IAAI,CAAC7O,QAAQ,CAACuK,SAAS,CAAC,IAAIiJ,IAAI,CAAC,GAAGQ,GAAG,IAAID,GAAG,IAAIE,IAAI,EAAE,CAAC,EAAE,YAAY,CAAC,GAAG,IAAI,CAACjU,QAAQ,CAACuK,SAAS,CAAC,IAAIiJ,IAAI,EAAE,EAAE,YAAY,CAAC,EAAG,CAACvW,gEAAmB,CAAC,CAAC;MAClM6R,IAAI,EAAE,IAAI/R,wDAAW,CAAE,IAAI,CAACiW,MAAM,EAAElE,IAAI,GAAG,IAAI,CAACkE,MAAM,CAAClE,IAAI,GAAG,IAAI,CAAC9O,QAAQ,CAACuK,SAAS,CAAC,IAAIiJ,IAAI,EAAE,EAAE,OAAO,CAAC,EAAG,CAACvW,gEAAmB,CAAC,CAAC;MACnI8M,SAAS,EAAE,IAAIhN,wDAAW,CAAE,IAAI,CAACiW,MAAM,GAAG,IAAI,CAACA,MAAM,CAACqB,qBAAqB,GAAG,EAAE,EAAG,CAACpX,gEAAmB,CAAC,CAAC;MACzGqX,YAAY,EAAE,IAAIvX,wDAAW,CAAE,IAAI,CAACiW,MAAM,GAAG,IAAI,CAACA,MAAM,CAACc,aAAa,GAAG,EAAE,EAAG,CAAC7W,gEAAmB,CAAC,CAAC;MACpG+M,QAAQ,EAAE,IAAIjN,wDAAW,CAAE,IAAI,CAACiW,MAAM,GAAG,IAAI,CAACA,MAAM,CAACjE,oBAAoB,GAAG,EAAE,EAAG9R,gEAAmB,CAAC;MACrGsX,aAAa,EAAE,IAAIxX,wDAAW,CAAE,IAAI,CAACiW,MAAM,GAAG,IAAI,CAACA,MAAM,CAACuB,aAAa,GAAG,EAAE,EAAG,CAACtX,iEAAoB,CAAC,IAAI,CAAC6V,WAAW,CAAC,CAAC;KAC1H,CAAC;EACN;EAEA;;;EAGA2B,iBAAiBA,CAAA;IACb,MAAMF,aAAa,GAAG,IAAI,CAAChS,IAAI,CAACC,GAAG,CAAC,eAAe,CAAC,CAACE,KAAK;IAC1D,OAAO6R,aAAa,GAAGA,aAAa,CAACzP,MAAM,GAAG,CAAC;EACnD;EAEA;;;EAGA4P,yBAAyBA,CAAA;IACrB,OAAO,IAAI,CAACD,iBAAiB,EAAE,IAAI,IAAI,CAAC3B,WAAW;EACvD;EAEA;;;;;EAKAa,KAAKA,CAAA;IACD,IAAI,IAAI,CAACX,MAAM,EAAEzD,QAAQ,EAAE;MACvB,IAAI,CAACtF,YAAY,CAAC,IAAI,CAAC;KAC1B,MAAM;MACH,IAAI,CAACA,YAAY,EAAE;;EAE3B;EAEMA,YAAYA,CAAC0K,MAAO;IAAA,IAAA9S,KAAA;IAAA,OAAAC,kIAAA;MACtB,MAAM8S,SAAS,SAASxX,qDAAc,CAACyE,KAAI,CAAC/B,eAAe,CAACmK,YAAY,CAAC0K,MAAM,CAAC,CAAC;MACjF,IAAIxS,OAAO;QAAA,IAAAC,IAAA,GAAAN,kIAAA,CAAC,WAAOO,OAAO,EAAI;UAC1BR,KAAI,CAACtB,SAAS,GAAGqU,SAAS,CAAC1S,IAAI;UAC/BL,KAAI,CAACgT,iBAAiB,GAAGhT,KAAI,CAACU,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACC,YAAY,CAAC1B,IAAI,CAChEzD,gDAAS,CAAC,EAAE,CAAC,EACbD,0CAAG,CAAEqF,KAAK,IAAKb,KAAI,CAACiT,gBAAgB,CAACpS,KAAK,CAAC,CAAC,CAC/C;UAEDL,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAO,EAAA;UAAA,OAAAR,IAAA,CAAAS,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEQgS,gBAAgBA,CAAC9K,QAAmB;IACxC,MAAMtG,WAAW,GAAGsG,QAAQ,CAACrG,QAAQ,EAAE,CAACC,WAAW,EAAE;IACrD,OAAO,IAAI,CAACrD,SAAS,CAACsD,MAAM,CAACmG,QAAQ,IAAIA,QAAQ,CAAClL,WAAW,CAAC8E,WAAW,EAAE,CAACE,QAAQ,CAACJ,WAAW,CAAC,CAAC;EACtG;EAEQqR,kBAAkBA,CAAChL,SAAqB;IAC5C,MAAMrG,WAAW,GAAGqG,SAAS,CAACpG,QAAQ,EAAE,CAACC,WAAW,EAAE;IACtD,OAAO,IAAI,CAAC6O,WAAW,CAAC5O,MAAM,CAACkG,SAAS,IAAIA,SAAS,CAACd,WAAW,CAACrF,WAAW,EAAE,CAACE,QAAQ,CAACJ,WAAW,CAAC,CAAC;EAC1G;EAEM+P,8BAA8BA,CAACuB,MAAe;IAAA,IAAA/Q,MAAA;IAAA,OAAAnC,kIAAA;MAChD,MAAMmT,wBAAwB,SAAS7X,qDAAc,CAAC6G,MAAI,CAACnE,eAAe,CAACkC,mBAAmB,CAACgT,MAAM,CAAC,CAAC;MACvG/Q,MAAI,CAACyO,aAAa,GAAGuC,wBAAwB,CAAC/S,IAAI;MAElD;MACA+B,MAAI,CAACyO,aAAa,CAACwC,IAAI,CAAC,CAAC/Q,CAAC,EAAEgR,CAAC,KAAI;QAC7B,MAAMC,IAAI,GAAGC,QAAQ,CAAClR,CAAC,CAAC6M,SAAS,EAAE,EAAE,CAAC;QACtC,MAAMsE,IAAI,GAAGD,QAAQ,CAACF,CAAC,CAACnE,SAAS,EAAE,EAAE,CAAC;QACtC,OAAOoE,IAAI,GAAGE,IAAI;MACtB,CAAC,CAAC;MAEF,IAAInT,OAAO;QAAA,IAAA+B,KAAA,GAAApC,kIAAA,CAAC,WAAOO,OAAO,EAAI;UAC1B;UACA4B,MAAI,CAACwO,WAAW,GAAGwC,wBAAwB,CAAC/S,IAAI,CAAC7E,GAAG,CAACkY,CAAC,IAAG;YACrD,OAAO;cACHvM,MAAM,EAAEuM,CAAC,CAACC,WAAW;cACrBvM,WAAW,EAAEsM,CAAC,CAACE;aAClB;UACL,CAAC,CAAC;UAGF;UACAxR,MAAI,CAAC0O,aAAa,GAAGsC,wBAAwB,CAAC/S,IAAI,CAAC7E,GAAG,CAACqY,GAAG,IAAG;YACzD,OAAO;cACH5B,aAAa,EAAE4B,GAAG,CAAC5B,aAAa;cAChC7C,QAAQ,EAAEyE,GAAG,CAACzE,QAAQ;cACtBD,SAAS,EAAE0E,GAAG,CAAC1E,SAAS;cACxBwE,WAAW,EAAEE,GAAG,CAACF;aACpB;UACL,CAAC,CAAC;UAEF;UACAvR,MAAI,CAAC0R,eAAe,EAAE;UAEtB;UACA1R,MAAI,CAAC2R,mBAAmB,GAAG3R,MAAI,CAAC1B,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACC,YAAY,CAAC1B,IAAI,CACnEzD,gDAAS,CAAC,EAAE,CAAC,EACbD,0CAAG,CAAEqF,KAAK,IAAKuB,MAAI,CAAC8Q,kBAAkB,CAACrS,KAAK,CAAC,CAAC,CACjD;QACL,CAAC;QAAA,iBAAA2B,GAAA;UAAA,OAAAH,KAAA,CAAArB,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAC;EACP;EAEA;;;EAGMqH,cAAcA,CAAA;IAAA,IAAAO,MAAA;IAAA,OAAA5I,kIAAA;MAChB,IAAIK,OAAO;QAAA,IAAA0T,KAAA,GAAA/T,kIAAA,CAAC,WAAOO,OAAO,EAAI;UAC1B;UACA,IAAIyT,gBAAgB,GAAG,EAAE;UACzBpL,MAAI,CAAC+H,WAAW,CAAC1P,OAAO,CAACwS,CAAC,IAAG;YACzB,IAAI,CAACO,gBAAgB,CAACC,IAAI,CAACC,EAAE,IAAIA,EAAE,CAAChN,MAAM,KAAKuM,CAAC,CAACvM,MAAM,CAAC,EAAE;cACtD8M,gBAAgB,CAACrS,IAAI,CAAC8R,CAAC,CAAC;;YAE5B7K,MAAI,CAAC+H,WAAW,GAAGqD,gBAAgB;UACvC,CAAC,CAAC;UAEFzT,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAA4T,GAAA;UAAA,OAAAJ,KAAA,CAAAhT,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEA;;;;EAIM6S,eAAeA,CAACH,WAAoB;IAAA,IAAAU,MAAA;IAAA,OAAApU,kIAAA;MAEtC,IAAI0T,WAAW,EAAE;QACbU,MAAI,CAACvD,aAAa,GAAGuD,MAAI,CAACxD,aAAa,CAAC7O,MAAM,CAACsS,EAAE,IAAIA,EAAE,CAACX,WAAW,KAAKA,WAAW,CAAC;OACvF,MAAM;QACHU,MAAI,CAACvD,aAAa,GAAGuD,MAAI,CAACxD,aAAa;;MAG3C,IAAIoD,gBAAgB,GAAG,EAAE;MACzBI,MAAI,CAACvD,aAAa,CAAC5P,OAAO,CAAC2S,GAAG,IAAG;QAC7B,IAAI,CAACI,gBAAgB,CAACC,IAAI,CAACI,EAAE,IAAIA,EAAE,CAACrC,aAAa,KAAK4B,GAAG,CAAC5B,aAAa,CAAC,EAAE;UACtEgC,gBAAgB,CAACrS,IAAI,CAACiS,GAAG,CAAC;;QAE9BQ,MAAI,CAACvD,aAAa,GAAGmD,gBAAgB;MACzC,CAAC,CAAC;IAAA;EACN;EAEA/R,YAAYA,CAAC4Q,MAAM;IACf,IAAIA,MAAM,CAAC7V,WAAW,EAAE;MACpB,OAAO6V,MAAM,CAAC7V,WAAW;;IAE7B,IAAI6V,MAAM,CAAC3K,QAAQ,EAAE;MACjB,OAAO2K,MAAM,CAAC3K,QAAQ;;IAE1B,IAAI2K,MAAM,CAAC1L,WAAW,EAAE;MACpB,OAAO0L,MAAM,CAAC1L,WAAW;;IAE7B,OAAO0L,MAAM;EACjB;EAEA;;;;EAIAd,aAAaA,CAACtP,MAAM;IAChB,IAAI,CAACwO,UAAU,GAAG,IAAI;IACtB;IACA,IAAIxO,MAAM,CAACyE,MAAM,EAAE;MACf,IAAI,CAAC2M,eAAe,CAACpR,MAAM,CAACyE,MAAM,CAAC,CAAC,CAAC;MACrC;MACA,IAAI,CAACzG,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC2C,QAAQ,CAACZ,MAAM,EAAE;QAAE6R,SAAS,EAAE;MAAK,CAAE,CAAC;MACjE;MACA,IAAI,CAAC7T,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACgC,MAAM,EAAE;;IAG1C;IACA,IAAID,MAAM,CAACuP,aAAa,EAAE;MACtB,IAAIqC,EAAE,GAAG,IAAI,CAACxD,aAAa,CAACzP,IAAI,CAACmT,IAAI,IAAIA,IAAI,CAACvC,aAAa,KAAKvP,MAAM,CAACuP,aAAa,CAAC;MACrF,IAAI,CAACvR,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC2C,QAAQ,CAACgR,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAK,CAAE,CAAC;MAChE,IAAIE,iBAAiB,GAAI,IAAI,CAAC/T,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACE,KAAK,KAAK,EAAE,IAAM,IAAI,CAACH,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACE,KAAK,CAACsG,MAAM,IAAIzE,MAAM,CAACiR,WAAY,CAAC,CAAC;MACtI,IAAIc,iBAAiB,EAAE;QACnB,IAAIvM,SAAS,GAAG,IAAI,CAAC0I,WAAW,CAACvP,IAAI,CAACqS,CAAC,IAAIA,CAAC,CAACvM,MAAM,KAAKmN,EAAE,CAACX,WAAW,CAAC;QACvE,IAAI,CAACjT,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC2C,QAAQ,CAAC4E,SAAS,EAAE;UAAEqM,SAAS,EAAE;QAAK,CAAE,CAAC;QACpE,IAAI,CAACT,eAAe,CAAC5L,SAAS,CAACf,MAAM,CAAC;;MACzC;;IAGL,IAAI,CAAC+J,UAAU,GAAG,KAAK;EAC3B;EAEMoB,QAAQA,CAAC5E,QAAQ;IAAA,IAAAgH,MAAA;IAAA,OAAAzU,kIAAA;MACnB,OAAO,IAAIK,OAAO;QAAA,IAAAqU,KAAA,GAAA1U,kIAAA,CAAC,WAAOO,OAAO,EAAI;UACjC,MAAMoU,KAAK,SAASrZ,qDAAc,CAACmZ,MAAI,CAACzW,eAAe,CAACqU,QAAQ,CAAC5E,QAAQ,CAAC,CAAC;UAC3EgH,MAAI,CAAC3D,YAAY,GAAG6D,KAAK,CAACvU,IAAI;UAC9BG,OAAO,CAACkU,MAAI,CAAC3D,YAAY,CAAC;QAC9B,CAAC;QAAA,iBAAA8D,GAAA;UAAA,OAAAF,KAAA,CAAA3T,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEA;;;EAGAkP,aAAaA,CAAA;IACT,IAAI,IAAI,CAACzP,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,IAAI,EAAE,EAAE;MAC3C,IAAIiU,kBAAkB,GAAG,IAAI,CAACpU,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,CAACoR,aAAa;MAC1E,IAAI8C,SAAS,GAAG,IAAI,CAAC5D,MAAM,GAAG,IAAI,GAAG,KAAK;MAE1C;MACA,IAAI,CAAC,IAAI,CAACA,MAAM,IAAK,IAAI,CAACA,MAAM,IAAI,IAAI,CAACzQ,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,KAAK,IAAI,CAACsQ,MAAM,CAACjE,oBAAqB,EAAE;QACvG,MAAM8H,oBAAoB,GAAG,IAAI,CAACtU,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK;QAC5D,MAAMoU,iBAAiB,GAAG,IAAI,CAACvW,SAAS,CAAC2C,IAAI,CAAC8G,QAAQ,IAAIA,QAAQ,CAACb,UAAU,KAAK0N,oBAAoB,CAAC1N,UAAU,CAAC;QAClH,IAAI,CAAC2N,iBAAiB,EAAE;UACpB,OAAO,IAAI,CAAC7W,KAAK,CAACyF,OAAO,CAAC,+EAA+E,CAAC;;;MAIlH,IAAI,CAACvF,OAAO,CACP0N,IAAI,CAAClO,qFAAoB,EAAE;QACxB2O,UAAU,EAAE,cAAc;QAC1BzO,IAAI,EAAE;UACFoC,YAAY,EAAE0U,kBAAkB;UAChC9R,WAAW,EAAE,IAAI,CAAC+N,YAAY;UAC9BmE,sBAAsB,EAAE,IAAI,CAAClE,oBAAoB;UACjD+D,SAAS,EAAEA;;OAElB,CAAC,CACD5I,WAAW,EAAE,CACbhN,SAAS,CAAC;QACPS,IAAI,EAAG6N,GAAG,IAAI;UACV,IAAIA,GAAG,EAAE;YACL,IAAI1J,mBAAmB,GAAG;cACtBxC,UAAU,EAAEkM,GAAG,CAACnM,QAAQ,CAACC,UAAU;cACnC8B,QAAQ,EAAEoK,GAAG,CAACpK,QAAQ;cACtBd,kBAAkB,EAAEkL,GAAG,CAAClL,kBAAkB;cAC1C5E,cAAc,EAAE8P,GAAG,CAACzJ,aAAa;cACjCtC,iBAAiB,EAAE+L,GAAG,CAACnM,QAAQ,CAACI,iBAAiB;cACjDD,oBAAoB,EAAEgM,GAAG,CAACnM,QAAQ,CAACrE,WAAW;cAC9CY,cAAc,EAAE4P,GAAG,CAACxJ,wBAAwB;cAC5CjH,cAAc,EAAEyQ,GAAG,CAACnM,QAAQ,CAACtE;aAChC;YACD,IAAI,CAAC+T,YAAY,GAAG,CAAC,GAAG,IAAI,CAACA,YAAY,EAAEhN,mBAAmB,CAAC;YAC/D,IAAI,CAACnF,UAAU,GAAG,IAAI5C,uEAAkB,CAAC,IAAI,CAAC+U,YAAY,CAAC,CAAC,CAAC;YAE7D;YACA,IAAI,IAAI,CAACA,YAAY,CAAC9N,MAAM,IAAI,CAAC,EAAE;cAC/B,IAAI,CAACvC,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC4C,OAAO,EAAE;cACpC,IAAI,CAAC7C,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC4C,OAAO,EAAE;cACvC,IAAI,CAAC7C,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC4C,OAAO,EAAE;;YAGvC,IAAI,CAACnF,KAAK,CAACwO,OAAO,CAAC,4BAA4B,CAAC;;QAExD;OACH,CAAC;KACT,MAAM;MACH,IAAI,CAACxO,KAAK,CAACyF,OAAO,CAAC,gCAAgC,CAAC;;EAE5D;EAEA;;;;;;EAMA8M,gBAAgBA,CAAC5M,mBAAmB;IAChC,IAAI,CAACgN,YAAY,CAAC7P,OAAO,CAAEiU,GAAG,IAAI;MAC9B,IAAIA,GAAG,CAAC5T,UAAU,KAAKwC,mBAAmB,CAACxC,UAAU,IAAI4T,GAAG,CAACxX,cAAc,KAAKoG,mBAAmB,CAACpG,cAAc,EAAE;QAChHwX,GAAG,CAAC5S,kBAAkB,GAAGa,MAAM,CAAC+R,GAAG,CAAC5S,kBAAkB,CAAC,GAAGa,MAAM,CAAC+R,GAAG,CAAC9R,QAAQ,CAAC;;IAEtF,CAAC,CAAC;IAEF,IAAI,CAAC2N,oBAAoB,GAAG,IAAI,CAACD,YAAY;IAC7C,IAAI,CAACA,YAAY,GAAG,IAAI,CAACA,YAAY,CAAC/O,MAAM,CAAEb,IAAI,IAAKA,IAAI,KAAK4C,mBAAmB,CAAC;IACpF,IAAI,CAACnF,UAAU,GAAG,IAAI5C,uEAAkB,CAAC,IAAI,CAAC+U,YAAY,CAAC;IAE3D;IACA,IAAI,IAAI,CAACA,YAAY,CAAC9N,MAAM,KAAK,CAAC,EAAE;MAChC,IAAI,CAACvC,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACgC,MAAM,EAAE;MACtC,IAAI,CAACjC,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACgC,MAAM,EAAE;;IAGtC,IAAI,CAACvE,KAAK,CAACwO,OAAO,CAAC,8BAA8B,CAAC;EACtD;EAEA;;;EAGAnP,gBAAgBA,CAAC2X,KAAK;IAClB,IAAI,CAAC1U,IAAI,CAACC,GAAG,CAACyU,KAAK,CAAC,CAAC9R,QAAQ,CAAC,EAAE,CAAC;IACjC,IAAI8R,KAAK,IAAI,WAAW,EAAE;MACtB,IAAI,CAAC1U,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC2C,QAAQ,CAAC,EAAE,CAAC;MAC1C,IAAI,CAACwQ,eAAe,EAAE;;EAE9B;EAEApQ,QAAQA,CAAA;IACJ;IACA,IAAI,CAAC,IAAI,CAACmP,yBAAyB,EAAE,EAAE;MACnC,OAAO,IAAI,CAACzU,KAAK,CAACwF,KAAK,CAAC,6CAA6C,IAAI,CAACqN,WAAW,cAAc,CAAC;;IAGxG,IAAI,CAAC,IAAI,CAACvQ,IAAI,CAACiD,KAAK,EAAE;MAClB,OAAO,IAAI,CAACvF,KAAK,CAACwF,KAAK,CAAC,6BAA6B,CAAC;KACzD,MAAM;MACH;MACA,IAAI,CAAC,IAAI,CAACuN,MAAM,IAAK,IAAI,CAACA,MAAM,IAAI,IAAI,CAACzQ,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACE,KAAK,KAAK,IAAI,CAACsQ,MAAM,CAACqB,qBAAsB,EAAE;QACzG,MAAM6C,qBAAqB,GAAG,IAAI,CAAC3U,IAAI,CAACC,GAAG,CAAC,WAAW,CAAC,CAACE,KAAK;QAC9D,MAAMyU,kBAAkB,GAAG,IAAI,CAAC1E,WAAW,CAACvP,IAAI,CAAC6G,SAAS,IAAIA,SAAS,CAACf,MAAM,KAAKkO,qBAAqB,CAAClO,MAAM,CAAC;QAChH,IAAI,CAACmO,kBAAkB,EAAE;UACrB,OAAO,IAAI,CAAClX,KAAK,CAACwF,KAAK,CAAC,iFAAiF,CAAC;;;MAIlH,IAAIZ,WAAW,GAAG,IAAI,CAAC+N,YAAY,CAACvV,GAAG,CAAC+Z,MAAM,KAAK;QAC/C7T,iBAAiB,EAAE6T,MAAM,CAAC7T,iBAAiB;QAC3CH,UAAU,EAAEgU,MAAM,CAAChU,UAAU;QAC7B8B,QAAQ,EAAEkS,MAAM,CAAClS,QAAQ;QACzB1F,cAAc,EAAE4X,MAAM,CAAC5X;OAC1B,CAAC,CAAC;MAEH,IAAIqF,WAAW,CAACC,MAAM,KAAK,CAAC,EAAE;QAC1B,OAAO,IAAI,CAAC7E,KAAK,CAACyF,OAAO,CAAC,qCAAqC,CAAC;;MAGpE,MAAMmJ,KAAK,GAAG,IAAI,CAACtM,IAAI,CAACC,GAAG,CAAC,OAAO,CAAC,CAACE,KAAK;MAC1C,MAAMoM,IAAI,GAAG,IAAI,CAACvM,IAAI,CAACC,GAAG,CAAC,MAAM,CAAC,CAACE,KAAK;MAExC;MACA,MAAM2U,gBAAgB,GAAG,IAAI,CAACrX,QAAQ,CAACuK,SAAS,CAACsE,KAAK,EAAE,YAAY,CAAC;MAErE;MACA,MAAMyI,UAAU,GAAG,GAAGD,gBAAgB,IAAIvI,IAAI,EAAE;MAEhD,MAAMyI,OAAO,GAAG;QACZvE,MAAM,EAAE;UACJwE,SAAS,EAAE,IAAI,CAACvE,IAAI,CAACwE,EAAE;UACvBH,UAAU,EAAEA,UAAU;UACtBnO,UAAU,EAAE,IAAI,CAAC5G,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,CAACE,KAAK,CAACyG,UAAU;UACtD2K,aAAa,EAAE,IAAI,CAACvR,IAAI,CAACC,GAAG,CAAC,cAAc,CAAC,CAACE,KAAK,CAACoR,aAAa;UAChES,aAAa,EAAE,IAAI,CAAChS,IAAI,CAACC,GAAG,CAAC,eAAe,CAAC,CAACE;SACjD;QACDmC,WAAW,EAAEA;OAChB;MAED,IAAI,IAAI,CAACmO,MAAM,EAAEzD,QAAQ,EAAE;QACvB,IAAI,CAACzP,eAAe,CAACqO,YAAY,CAACoJ,OAAO,EAAE,IAAI,CAACvE,MAAM,CAACzD,QAAQ,CAAC,CAC3DvO,SAAS,CAAC;UACPS,IAAI,EAAG5B,IAAI,IAAI;YACX,IAAIA,IAAI,EAAE;cACN,IAAI,CAAC+O,mBAAmB,CAAC8I,IAAI,EAAE;cAC/B,IAAI,CAACxX,SAAS,CAAC8F,KAAK,CAACnG,IAAI,CAAC;;UAElC;SACH,CAAC;OACT,MAAM;QACH,IAAI,CAACC,eAAe,CAACuO,UAAU,CAACkJ,OAAO,CAAC,CACnCvW,SAAS,CAAC;UACPS,IAAI,EAAG5B,IAAI,IAAI;YACX,IAAIA,IAAI,EAAE;cACN,IAAI,CAAC2O,kBAAkB,CAACkJ,IAAI,EAAE;cAC9B,IAAI,CAACxX,SAAS,CAAC8F,KAAK,CAACnG,IAAI,CAAC;;UAElC;SACH,CAAC;;;EAGlB;EAEAkG,WAAWA,CAAA;IACP,IAAI,CAAC7F,SAAS,CAAC8F,KAAK,CAAC,KAAK,CAAC;EAC/B;;AAlgBS2F,aAAa;mBAAbA,aAAa,EAAA5N,+DAAA,CA6BVJ,sEAAe,GAAAI,+DAAA,CAAAmI,oEAAA,GAAAnI,+DAAA,CAAAqI,+EAAA,GAAArI,+DAAA,CAAAuI,sDAAA,GAAAvI,+DAAA,CAAAyI,iFAAA,GAAAzI,+DAAA,CAAA2I,mEAAA,GAAA3I,+DAAA,CAAA2I,gEAAA;AAAA;AA7BlBiF,aAAa;QAAbA,aAAa;EAAA9E,SAAA;EAAA8Q,OAAA;IAAAnJ,kBAAA;IAAAI,mBAAA;EAAA;EAAA9H,QAAA,GAAA/I,gEAAA,CAFX,CAAC;IAAEiJ,OAAO,EAAEpJ,qEAAgB;IAAEqJ,QAAQ,EAAEnJ,0EAAeA;EAAA,CAAE,CAAC;EAAAoJ,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAuQ,uBAAArQ,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCtBzExJ,4DAAA,aAC4L;MAGzIA,oDAAA,GAAS;MAAAA,0DAAA,EAAO;MAC3DA,4DAAA,UAAK;MACuBA,wDAAA,mBAAA8Z,+CAAA;QAAA,OAASrQ,GAAA,CAAAzB,WAAA,EAAa;MAAA,EAAC;MAC3ChI,4DAAA,kBAA6B;MAAAA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAKzDA,wDAAA,IAAA+Z,mCAAA,wBAGa;MACb/Z,4DAAA,cAA+C;MAI/BA,uDAAA,iBACsB;MAG1BA,0DAAA,EAAiB;MACjBA,4DAAA,yBAA6D;MAC9CA,oDAAA,YAAI;MAAAA,0DAAA,EAAY;MAC3BA,uDAAA,iBAAqD;MACzDA,0DAAA,EAAiB;MACjBA,4DAAA,0BAA6D;MAC9CA,oDAAA,iBAAS;MAAAA,0DAAA,EAAY;MAChCA,uDAAA,iBAAiF;MACjFA,4DAAA,gCAA6F;MACzFA,wDAAA,KAAAga,oCAAA,yBAEa;;MACjBha,0DAAA,EAAmB;MACnBA,wDAAA,KAAAia,gCAAA,qBAGS;MACbja,0DAAA,EAAiB;MACjBA,4DAAA,0BAA6D;MAC9CA,oDAAA,UAAE;MAAAA,0DAAA,EAAY;MACzBA,4DAAA,sBAA2C;MACvCA,wDAAA,KAAAka,oCAAA,yBAEa;MACjBla,0DAAA,EAAa;MACbA,wDAAA,KAAAma,gCAAA,qBAGS;MACbna,0DAAA,EAAiB;MACjBA,4DAAA,0BAA6D;MAC9CA,oDAAA,qBAAQ;MAAAA,0DAAA,EAAY;MAC/BA,uDAAA,iBAA+E;MAC/EA,4DAAA,gCAA4F;MACxFA,wDAAA,KAAAoa,oCAAA,yBAEa;;MACjBpa,0DAAA,EAAmB;MACnBA,wDAAA,KAAAqa,gCAAA,qBAGS;MACbra,0DAAA,EAAiB;MAErBA,4DAAA,0BAAoD;MACrCA,oDAAA,qBAAa;MAAAA,0DAAA,EAAY;MACpCA,uDAAA,oBAAkF;MAClFA,4DAAA,eAA+E;MAC3EA,oDAAA,IACJ;MAAAA,0DAAA,EAAM;MAGVA,4DAAA,eAAiG;MAEzFA,qEAAA,QAAsC;MAClCA,wDAAA,KAAAua,4BAAA,iBACiB;MACjBva,wDAAA,KAAAwa,4BAAA,iBAEK;MACTxa,mEAAA,EAAe;MACfA,qEAAA,QAA2C;MACvCA,wDAAA,KAAA0a,4BAAA,iBACuB;MACvB1a,wDAAA,KAAA2a,4BAAA,iBAEK;MACT3a,mEAAA,EAAe;MACfA,qEAAA,QAA0C;MACtCA,wDAAA,KAAA4a,4BAAA,iBAA2D;MAC3D5a,wDAAA,KAAA6a,4BAAA,iBAEK;MACT7a,mEAAA,EAAe;MACfA,qEAAA,QAAsC;MAClCA,wDAAA,KAAA8a,4BAAA,iBAAmD;MACnD9a,wDAAA,KAAA+a,4BAAA,iBAEK;MACT/a,mEAAA,EAAe;MACfA,qEAAA,QAAsC;MAClCA,wDAAA,KAAAgb,4BAAA,iBAMkB;MAClBhb,wDAAA,KAAAib,4BAAA,iBAIK;MACTjb,mEAAA,EAAe;MACfA,wDAAA,KAAAkb,4BAAA,iBAAiE;MACjElb,wDAAA,KAAAmb,4BAAA,iBAAwD;MAC5Dnb,0DAAA,EAAQ;MAIpBA,4DAAA,eAAsE;MAE2CA,wDAAA,mBAAAob,gDAAA;QAAA,OAAS3R,GAAA,CAAAjC,QAAA,EAAU;MAAA,EAAC;MAC7HxH,4DAAA,gBAA+C;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAO;;;;;;MA7HhEA,uDAAA,GAAiE;MAAjEA,wDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,yDAAA,qBAAAyJ,GAAA,CAAAtG,cAAA,OAAgD,UAAAsG,GAAA,CAAArG,gBAAA;MAExEpD,uDAAA,GAAS;MAATA,+DAAA,CAAAyJ,GAAA,CAAA5G,KAAA,CAAS;MASC7C,uDAAA,GAAe;MAAfA,wDAAA,SAAAyJ,GAAA,CAAAjJ,SAAA,CAAe;MAG5CR,uDAAA,GAAkB;MAAlBA,wDAAA,cAAAyJ,GAAA,CAAAjF,IAAA,CAAkB;MAIdxE,uDAAA,GAAwB;MAAxBA,wDAAA,kBAAAsK,GAAA,CAAwB,QAAAb,GAAA,CAAA8L,OAAA,SAAA9L,GAAA,CAAA+L,OAAA;MAEPxV,uDAAA,GAAc;MAAdA,wDAAA,QAAAsK,GAAA,CAAc;MASStK,uDAAA,IAAwB;MAAxBA,wDAAA,oBAAAqb,GAAA,CAAwB;MAChBrb,uDAAA,GAA4B;MAA5BA,wDAAA,gBAAAyJ,GAAA,CAAAzD,YAAA,CAA4B;MACtDhG,uDAAA,GAA8B;MAA9BA,wDAAA,YAAAA,yDAAA,SAAAyJ,GAAA,CAAAoO,mBAAA,EAA8B;MAK/D7X,uDAAA,GAA6D;MAA7DA,wDAAA,SAAAyJ,GAAA,CAAAjF,IAAA,CAAAC,GAAA,cAAAE,KAAA,IAAA8E,GAAA,CAAAoL,YAAA,CAAA9N,MAAA,MAA6D;MAOnC/G,uDAAA,GAAgB;MAAhBA,wDAAA,YAAAyJ,GAAA,CAAAmL,aAAA,CAAgB;MAK1C5U,uDAAA,GAAgE;MAAhEA,wDAAA,SAAAyJ,GAAA,CAAAjF,IAAA,CAAAC,GAAA,iBAAAE,KAAA,IAAA8E,GAAA,CAAAoL,YAAA,CAAA9N,MAAA,MAAgE;MAMd/G,uDAAA,GAAuB;MAAvBA,wDAAA,oBAAAmB,GAAA,CAAuB;MACfnB,uDAAA,GAA4B;MAA5BA,wDAAA,gBAAAyJ,GAAA,CAAAzD,YAAA,CAA4B;MACtDhG,uDAAA,GAA4B;MAA5BA,wDAAA,YAAAA,yDAAA,SAAAyJ,GAAA,CAAAqN,iBAAA,EAA4B;MAK5D9W,uDAAA,GAA4D;MAA5DA,wDAAA,SAAAyJ,GAAA,CAAAjF,IAAA,CAAAC,GAAA,aAAAE,KAAA,IAAA8E,GAAA,CAAAoL,YAAA,CAAA9N,MAAA,MAA4D;MAQhD/G,uDAAA,GAAyD;MAAzDA,wDAAA,YAAAA,6DAAA,KAAAub,GAAA,GAAA9R,GAAA,CAAAkN,yBAAA,IAAyD;MAC1E3W,uDAAA,GACJ;MADIA,gEAAA,MAAAyJ,GAAA,CAAAiN,iBAAA,SAAAjN,GAAA,CAAAsL,WAAA,MACJ;MAIiB/U,uDAAA,GAAyB;MAAzBA,wDAAA,eAAAyJ,GAAA,CAAA/G,UAAA,CAAyB;MAyClB1C,uDAAA,IAA0B;MAA1BA,wDAAA,oBAAAyJ,GAAA,CAAApH,OAAA,CAA0B;MACbrC,uDAAA,GAAgB;MAAhBA,wDAAA,qBAAAyJ,GAAA,CAAApH,OAAA,CAAgB;MAMnCrC,uDAAA,GAAiE;MAAjEA,wDAAA,CAAAyJ,GAAA,CAAAtG,cAAA,IAAAsG,GAAA,CAAArG,gBAAA,QAAAqG,GAAA,CAAA9G,aAAA,CAAiE;MAAC3C,yDAAA,qBAAAyJ,GAAA,CAAAtG,cAAA,OAAgD,UAAAsG,GAAA,CAAArG,gBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7H7F;AACE;AAEG;AACH;AACE;AACA;AACO;AACb;AACI;AACG;AACY;AACjB;AACa;AACP;AACK;AACD;AACN;AACY;AACR;AACR;AACuC;AACnC;AAC0B;AAClB;AACoB;;;AACvF,MAAMsZ,MAAM,GAAW,CACnB;EACIC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAE7O,2EAAgBA;CAC9B,CACJ;AACD,MAyBa8O,aAAa;AAAbA,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA;AAAa;AAAbA,aAAa;aAFX,CAACzU,oEAAc,EAAEyE,kFAAe,EAAEnE,8EAAe,EAAEF,sDAAQ,CAAC;EAAAsU,OAAA,GApBnErB,0DAAY,EACZD,mEAAqB,CAACkB,MAAM,CAAC,EAC7Bf,oEAAc,EACdC,sEAAe,EACfC,sEAAe,EACfC,6EAAkB,EAClBC,gEAAmB,EACnBC,oEAAc,EACdE,kEAAa,EACbD,sEAAkB,EAClBE,wEAAgB,EAChBC,kFAAqB,EACrBV,wEAAgB,EAChBW,0EAAiB,EACjBC,kEAAa,EACbC,wGAAmB,EACnBC,sEAAe,EACfC,8EAAmB,EAEbjB,0DAAY;AAAA;AAGA;;sHAAbqB,aAAa;IAAAG,YAAA,GAxBPjP,2EAAgB,EAAEH,0EAAa,EAAEvC,8FAAmB,EAAEzJ,gGAAoB;IAAAkb,OAAA,GAErFrB,0DAAY,EAAAtT,0DAAA,EAEZwT,oEAAc,EACdC,sEAAe,EACfC,sEAAe,EACfC,6EAAkB,EAClBC,gEAAmB,EACnBC,oEAAc,EACdE,kEAAa,EACbD,sEAAkB,EAClBE,wEAAgB,EAChBC,kFAAqB,EACrBV,wEAAgB,EAChBW,0EAAiB,EACjBC,kEAAa,EACbC,wGAAmB,EACnBC,sEAAe,EACfC,8EAAmB;IAAAQ,OAAA,GAEbzB,0DAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;ACpD6B;AACZ;;;;AAK3C,MACapT,cAAc;EACvBvG,YAAoBqb,IAAgB,EAAUC,YAAyB;IAAnD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,YAAY,GAAZA,YAAY;EAAiB;EAC3E;;;;;EAKA7M,UAAUA,CAAC2E,MAAe;IACtB,OAAO,IAAI,CAACiI,IAAI,CAACE,IAAI,CAAU,GAAGtP,+EAAyB,EAAE,EAAEmH,MAAM,CAAC;EAC1E;EAEA;;;;;EAKA7E,YAAYA,CAAC6E,MAAe,EAAEzD,QAAgB;IAC1C,OAAO,IAAI,CAAC0L,IAAI,CAACG,GAAG,CAAU,GAAGvP,+EAAyB,EAAE,GAAG,GAAG,GAAG0D,QAAQ,EAAEyD,MAAM,CAAC;EAC1F;EAEA;;;;;EAKA5E,YAAYA,CAACmB,QAAgB;IACzB,OAAO,IAAI,CAAC0L,IAAI,CAACI,MAAM,CAAU,GAAGxP,+EAAyB,EAAE,GAAG,GAAG,GAAG0D,QAAQ,CAAC;EACrF;EAEAtF,YAAYA,CAAC0K,MAAO;IAChB,IAAI2G,CAAC,GAAG,GAAG;IACXA,CAAC,IAAI,CAAC3G,MAAM,GAAG,kBAAkB,GAAG,EAAE;IACtC,IAAI4G,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,iFAA2B,GAAGyP,CAAC,EAAE,CAAC,CAC1Dta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ,IAAI,CAACG;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOJ,OAAO,CAACK,YAAY,EAAE;EACjC;EAEAzR,cAAcA,CAACwK,MAAO;IAClB,IAAI2G,CAAC,GAAG,mBAAmB;IAC3BA,CAAC,IAAI,CAAC3G,MAAM,GAAG,kBAAkB,GAAG,EAAE;IACtC,IAAI4G,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,4FAAsC,GAAGyP,CAAC,EAAE,CAAC,CACrEta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ;OACT,CAAC;IACN,CAAC,CAAC;IACN,OAAOD,OAAO,CAACK,YAAY,EAAE;EACjC;EAEAE,qBAAqBA,CAACC,eAAuB;IACzC,IAAIT,CAAC,GAAG,qBAAqBS,eAAe,EAAE;IAC9C,IAAIR,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,qGAA+C,GAAGyP,CAAC,EAAE,CAAC,CAC9Eta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ,IAAI,CAACG;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOJ,OAAO,CAACK,YAAY,EAAE;EACjC;EAEA5X,4BAA4BA,CAACZ,UAAU;IACnC,IAAIkY,CAAC,GAAG,uBAAuBlY,UAAU,EAAE;IAC3CkY,CAAC,IAAI,YAAY;IACjB,IAAIC,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,+FAAyC,GAAGyP,CAAC,EAAE,CAAC,CACxEta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ,IAAI,CAACG;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOJ,OAAO,CAACK,YAAY,EAAE;EACjC;EAEAzH,QAAQA,CAAC5E,QAAgB;IACrB,IAAI+L,CAAC,GAAG,qBAAqB/L,QAAQ,EAAE;IACvC,IAAIgM,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,8FAAwC,GAAGyP,CAAC,EAAE,CAAC,CACvEta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ,IAAI,CAACG;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOJ,OAAO,CAACK,YAAY,EAAE;EACjC;EAEA1R,WAAWA,CAAA;IACP,IAAIoR,CAAC,GAAG,WAAW;IACnB,IAAIC,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,qFAA+B,GAAGyP,CAAC,EAAE,CAAC,CAC9Dta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ,IAAI,CAACG;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOJ,OAAO,CAACK,YAAY,EAAE;EACjC;EAEA5Z,mBAAmBA,CAAC2S,MAAO;IACvB,IAAI2G,CAAC,GAAG,GAAG;IACXA,CAAC,IAAI3G,MAAM,GAAG,yBAAyBA,MAAM,GAAG,GAAG,EAAE;IACrD,IAAI4G,OAAO,GAAG,IAAIre,yCAAO,EAAO;IAChC,IAAI,CAAC+d,IAAI,CAACzY,GAAG,CAAa,GAAGqJ,gGAA0C,GAAGyP,CAAC,EAAE,CAAC,CACzEta,SAAS,CAAEwa,IAAS,IAAI;MACrB,IAAI,CAACN,YAAY,CAACO,WAAW,GAAGD,IAAI,CAACE,KAAK;MAC1CH,OAAO,CAAC9Z,IAAI,CAAC;QACTS,IAAI,EAAEsZ,IAAI,CAACG;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOJ,OAAO,CAACK,YAAY,EAAE;EACjC;;AA1HSzV,cAAc;mBAAdA,cAAc,EAAApI,sDAAA,CAAAmI,4DAAA,GAAAnI,sDAAA,CAAAqI,gEAAA;AAAA;AAAdD,cAAc;SAAdA,cAAc;EAAAsW,OAAA,EAAdtW,cAAc,CAAAuW;AAAA","sources":["./src/app/modules/stock/remitos/components/addArticulo/add-articulo.component.ts","./src/app/modules/stock/remitos/components/addArticulo/add-articulo.component.html","./src/app/modules/stock/remitos/components/filter-menu/filter-menu.component.ts","./src/app/modules/stock/remitos/components/filter-menu/filter-menu.component.html","./src/app/modules/stock/remitos/components/remitos.component.ts","./src/app/modules/stock/remitos/components/remitos.component.html","./src/app/modules/stock/remitos/components/save/save.component.ts","./src/app/modules/stock/remitos/components/save/save.component.html","./src/app/modules/stock/remitos/remitos.module.ts","./src/app/modules/stock/remitos/service/remitos.service.ts"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { RemitosService } from '../../service/remitos.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\r\nimport { IArticulo } from 'app/modules/stock/articulos/models/articulo';\r\nimport { Observable, Subject, finalize, firstValueFrom, map, startWith, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MY_DATE_FORMATS } from '@shared/constants/date-format';\r\nimport { IDeposito } from 'app/modules/stock/depositos/models/deposito';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\n\r\n@Component({\r\n    selector: 'app-add-articulo-remitos',\r\n    templateUrl: './add-articulo.component.html',\r\n    styleUrls: ['./add-articulo.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }]\r\n})\r\nexport class AddArticuloComponent implements OnInit {\r\n    columns = ['articulo', 'unidadmedida', 'cantidad', 'acciones'];\r\n    form: FormGroup;\r\n    title: string;\r\n    articulos: any[] = [];\r\n    unidades_de_medida: any[] = [];\r\n    depositos: IDeposito[] = [];\r\n    filteredDepositos: Observable<IDeposito[]>;\r\n    filteredArticulos: Observable<IArticulo[]>;\r\n    articulos_list = [];\r\n    public dataSource: MatTableDataSource<any> = new MatTableDataSource();\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _remitosService: RemitosService,\r\n        private _empresaService: EmpresaService,\r\n        private datePipe: DatePipe,\r\n        public alert: AppAlertService,\r\n        public dialogRef: MatDialogRef<AddArticuloComponent>,\r\n        private dialogo: MatDialog,\r\n\r\n    ) {\r\n        this.title = 'Añadir movimiento de articulo';\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n        \r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.getArticulosOrdenCompra();\r\n        this.subscribeAlert();\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Funcion que lista los articulos que posee un déposito.\r\n     */\r\n    async getArticulosOrdenCompra() {\r\n        const articulos_um_oc = await firstValueFrom(this._remitosService.getItemsOcPendiente(this.data.orden_compra)); //solicitamos los aticulos que esten en una OC\r\n        this.articulos = articulos_um_oc.list;\r\n        new Promise(async (resolve) => {\r\n            this.filteredArticulos = this.form.get('articulo').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterArticulos(value)),\r\n            );\r\n            resolve(true);\r\n        });\r\n\r\n        //Esta funcion la realizamos para listar los articulos sin que se repitan.\r\n        this.articulos.forEach(item => {\r\n            const existeArticulo = this.articulos_list.find(articulo => articulo.idarticulo === item.idarticulo);\r\n            if (!existeArticulo) {\r\n                let articulo = {\r\n                    idarticulo: item.idarticulo,\r\n                    codigo_interno: item.codigo_interno_articulo,\r\n                    descripcion: item.descripcion_articulo,\r\n                    idordencompraitem: item.iditemordencompra //Atencion!!! Cambio de nombres porque en sus respectibas tablas lo manejas de manera diferente!\r\n                };\r\n                this.articulos_list.push(articulo);\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Esta funcion es para filtrar los artículos según el input que se haya ingresado en el buscador de articulos.\r\n     * @param value \r\n     * @returns \r\n     */\r\n    private _filterArticulos(value: string): IArticulo[] {\r\n        const filterValue = value.toString().toLowerCase();\r\n        return this.articulos_list.filter(articulo => {\r\n            const codigo_interno = articulo.codigo_interno.toString().toLowerCase().includes(filterValue);\r\n            const descripcion = articulo.descripcion.toString().toLowerCase().includes(filterValue);\r\n            return codigo_interno || descripcion;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Obtenemos la descripcion del articulo seleccionado.\r\n     * @param articulo \r\n     * @returns \r\n     */\r\n    getTextInput(articulo: IArticulo): string {\r\n        return articulo ? `${articulo.codigo_interno} - ${articulo.descripcion}` : '';\r\n    }\r\n\r\n    /**\r\n     * Esta funcion solicita las unidades de medida que posee un articulo.\r\n     * @param idarticulo \r\n     */\r\n    getUnidadesDeMedidaArticulos(idarticulo) {\r\n        new Promise(async (resolve) => {\r\n            this.unidades_de_medida = this.articulos.filter(a => a.idarticulo === idarticulo).map(a => {\r\n                return {\r\n                    idarticulo: a.idarticulo,\r\n                    idunidadmedida: a.idunidadmedida,\r\n                    descripcion_um: a.descripcion_um,\r\n                    cantidad_pendiente: a.cantidad_pendiente\r\n                }\r\n            });\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Esta funcion maneja las cambios de seleccion que puedan tener articulos y unidades de medida.\r\n     * @param $event \r\n     */\r\n    seleccionArticulo($event) {\r\n        //Al seleccionar un articulo...\r\n        if ($event.idarticulo) {\r\n            this.form.get('unidadmedida').enable()\r\n            this.getUnidadesDeMedidaArticulos($event.idarticulo) //...Buscamos las UM que posee ese articulo.\r\n        }\r\n\r\n        // - Mostrar Cantidad Pendiente -\r\n        //Al seleccionar la UM...\r\n        if ($event.um) {\r\n            //Consultamos sí existe un articulo con esa UM y utilizamos la respuesta para ver si existe un movimiento con ese articulo y esa UM en los movimientos.\r\n            let articulo_um = this.unidades_de_medida.find(a => a.idarticulo === this.form.get('articulo').value.idarticulo && a.idunidadmedida === this.form.get('unidadmedida').value);\r\n            let cantidad_pendiente; //variable auxiliar   \r\n            let cantidad_existente = 0;\r\n\r\n            let existeMovimiento = this.data.movimientos.length > 0 ? true : false; //Consultamos sí hay movimientos\r\n\r\n            if (existeMovimiento) { //Sí existe minimo un movimiento...\r\n                let articulos_existentes = this.data.movimientos.filter(a => a.idarticulo === articulo_um.idarticulo && a.idunidadmedida === articulo_um.idunidadmedida); //Se hace esto para mantener el stock actualizado, en caso de haber sido modificado.\r\n                //Si existen movimientos de articulos con la misma UM...\r\n                articulos_existentes.forEach(ae => {\r\n                    cantidad_existente += Number(ae.cantidad); //...sumamos la cantidad que equivalen\r\n                })\r\n                cantidad_pendiente = `${Number(articulo_um.cantidad_pendiente) - cantidad_existente}`; //...Se le asigna el stock restante...\r\n            } else {\r\n                cantidad_pendiente = articulo_um.cantidad_pendiente; //..Sino el stock que traiga ese articulo con esa UM del servicio.\r\n            }\r\n\r\n            this.form.get('cantidad_pendiente').setValue(cantidad_pendiente) //Lo mostramos.\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Funcion para limpiar campos\r\n    */\r\n    limpiarCasillero($event) {\r\n        if ($event == 'articulo') {\r\n            this.form.get('articulo').setValue('');\r\n            this.form.get('unidadmedida').disable();\r\n            this.form.get('unidadmedida').setValue('');\r\n            this.form.get('cantidad_pendiente').setValue('');\r\n        }\r\n    }\r\n\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            articulo: new FormControl((''), Validators.required),\r\n            unidadmedida: new FormControl((''), Validators.required),\r\n            cantidad: new FormControl((''), Validators.required),\r\n            cantidad_pendiente: new FormControl(('')),\r\n        });\r\n    }\r\n\r\n    onSubmit() {\r\n        if (!this.form.valid) {\r\n            return this.alert.error('Revise Los Datos Ingresados');\r\n        } else {\r\n            this.articulos.forEach(articulo => {\r\n                if (articulo.idarticulo === this.form.get('articulo').value.idarticulo && articulo.idunidadmedida === this.form.get('unidadmedida').value) {\r\n                    if (this.form.get('cantidad').value > articulo.cantidad_pendiente) {\r\n                        this.form.get('cantidad').setValue('');\r\n                        return this.alert.warning('La cantidad ingresada excede la cantidad pendiente en la orden de compra.');\r\n                    }\r\n                    let existeMovimiento = this.data.movimientos.find(movimiento => movimiento.idarticulo === this.form.get('articulo').value.idarticulo && movimiento.idunidadmedida === this.form.get('unidadmedida').value);\r\n\r\n                    if (existeMovimiento) {\r\n                        this.form.get('unidadmedida').setValue('');\r\n                        return this.alert.warning('Ya existe un movimiento de ese articulo con esa unidad de medida.')\r\n                    }\r\n\r\n                    if (this.form.get('cantidad').value <= articulo.cantidad_pendiente && this.form.get('cantidad').value > 0) {\r\n                        // La cantidad ingresada es valida \r\n                        let unidadmedida = this.unidades_de_medida.find(um => um.idunidadmedida === this.form.get('unidadmedida').value); //Traigo una UM que coincida con mi seleccion para poder utilizar su descripcion.\r\n\r\n                        let movimiento_articulo = {\r\n                            articulo: this.form.get('articulo').value,\r\n                            unidad_medida: this.form.get('unidadmedida').value,\r\n                            cantidad: this.form.get('cantidad').value,\r\n                            unidadmedida_descripcion: unidadmedida.descripcion_um,\r\n                            cantidad_pendiente: `${Number(articulo.cantidad_pendiente) - this.form.get('cantidad').value}`,\r\n                        }\r\n                        this.onCloseMenu(movimiento_articulo)\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onCloseMenu(articulo?) {\r\n        this.dialogRef.close(articulo ? articulo : false)\r\n    }\r\n}","<div\r\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-120 sm:w-min-w-120 sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\">\r\n    <div [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        [style.color]=\"color_secundario || '' \" class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu()\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert\r\n        class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\"\r\n        [appearance]=\"'outline'\"\r\n        *ngIf=\"showAlert\"\r\n        [@fadeIn]=\"showAlert\"\r\n    >\r\n    {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <form class=\"form-menu p-4\" [formGroup]=\"form\">\r\n        <!-- Grilla -->\r\n        <div class=\"flex flex-col w-full h-full p-4\">\r\n            <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Artículo</mat-label>\r\n                    <input type=\"text\" matInput formControlName=\"articulo\" [matAutocomplete]=\"art\"\r\n                        (ngModelChange)=\"seleccionArticulo($event)\">\r\n                    <mat-autocomplete autoActiveFirstOption #art=\"matAutocomplete\" [displayWith]=\"getTextInput\">\r\n                        <mat-option *ngFor=\"let articulo of filteredArticulos | async\" [value]=\"articulo\">\r\n                            {{ articulo.codigo_interno }} - {{ articulo.descripcion }}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('articulo')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('articulo').value\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/2\">\r\n                    <mat-label>UM</mat-label>\r\n                    <mat-select formControlName=\"unidadmedida\" (ngModelChange)=\"seleccionArticulo({um: $event})\">\r\n                        <mat-option *ngFor=\"let um of unidades_de_medida\"\r\n                        [value]=\"um.idunidadmedida\">{{um.descripcion_um}}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Cantidad Pendiente</mat-label>\r\n                    <input matInput type=\"number\" formControlName=\"cantidad_pendiente\" readonly=\"true\">\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Cantidad</mat-label>\r\n                    <input matInput type=\"number\" formControlName=\"cantidad\">\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\"> \r\n        <button mat-raised-button [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n            [style.color]=\"color_secundario || '' \" class='w-full rounded-none md:w-36 md:rounded-full py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Añadir</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { IUsuario } from '@core/user/user.types';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { IDeposito } from 'app/modules/stock/depositos/models/deposito';\r\nimport { IRemito } from '../../models/remito';\r\nimport { IProveedor } from 'app/modules/administracion/proveedores/models/proveedor';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MY_DATE_FORMATS } from '@shared/constants/date-format';\r\nimport { RemitosService } from '../../service/remitos.service';\r\nimport { firstValueFrom, Subject, takeUntil } from 'rxjs';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\n\r\n@Component({\r\n  selector: 'app-filter-menu-remitos',\r\n  templateUrl: './filter-menu.component.html',\r\n  styleUrls: ['./filter-menu.component.scss'],\r\n  providers: [\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS },\r\n  ],\r\n  animations: fuseAnimations\r\n})\r\nexport class FilterMenuComponent implements OnInit {\r\n  public formFilters: FormGroup;\r\n  filterUsuarios: IUsuario[] = [];\r\n  filterProveedor: IProveedor[] = [];\r\n  filterDeposito: IDeposito[] = [];\r\n  filterFechas: any = [];\r\n  movimientos_internos_list: IRemito[] = []; //Se crea por sí hace falta crear una copia de los datos y manipularlos de una forma más personalizada\r\n  color_primario: string;\r\n  color_secundario: string;\r\n  default_color: string = 'bg-primary';\r\n  private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    @Inject('MENU_DATA') public data: any, \r\n    private _menuService: JedsMenuService, \r\n    private datePipe: DatePipe, \r\n    private _remitosService: RemitosService,\r\n    private _empresaService: EmpresaService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.formFilters = new FormGroup({\r\n      filtroFechaInicio: new FormControl(('')),\r\n      filtroFechaFin: new FormControl(('')),\r\n      usuario_responsable: new FormControl((-1)),\r\n      proveedor: new FormControl((-1)),\r\n      deposito: new FormControl((-1)),\r\n    });\r\n    // Subscribe to empresa data\r\n    this._empresaService.empresa$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(empresa => {\r\n          this.color_primario = empresa.color_primario;\r\n          this.color_secundario = empresa.color_secundario;\r\n      });\r\n\r\n    // Load empresa data\r\n    this._empresaService.getEmpresa();\r\n    this.getDepositos();\r\n    this.getUsuarios();\r\n    this.getProveedores();\r\n    this.formFilters.patchValue(this.data.filter);\r\n\r\n  }\r\n\r\n  resetFilters() {\r\n    this.formFilters.reset({\r\n      filtroFechaInicio: '',\r\n      filtroFechaFin: '',\r\n      usuario_responsable: -1,\r\n      proveedor: -1,\r\n      deposito: -1,\r\n    });\r\n  }\r\n\r\n  onCloseMenu(data: any = null) {\r\n    if (data) {\r\n      data.filtroFechaInicio = this.datePipe.transform(this.formFilters.get('filtroFechaInicio').value, 'yyyy-MM-dd');\r\n      data.filtroFechaFin = this.datePipe.transform(this.formFilters.get('filtroFechaFin').value, 'yyyy-MM-dd');\r\n    }\r\n    this._menuService.close(data);\r\n  }\r\n\r\n  /**\r\n  * Funcion para limpiar los filtros de rango de fechas\r\n  */\r\n  limpiarFechas() {\r\n    this.formFilters.get('filtroFechaInicio').setValue('');\r\n    this.formFilters.get('filtroFechaFin').setValue('');\r\n  }\r\n\r\n  /**\r\n   * Esta funcion es para listas los usuarios en el filtro de grilla.\r\n   */\r\n  async getUsuarios() {\r\n    const Usuarios = await firstValueFrom(this._remitosService.getUsuarios());\r\n    this.filterUsuarios = Usuarios.list;\r\n  }\r\n\r\n  /**\r\n   * Esta funcion es para listas los proveedores en el filtro de grilla.\r\n   */\r\n  async getProveedores() {\r\n    const Proveedores = await firstValueFrom(this._remitosService.getProveedores());\r\n    this.filterProveedor = Proveedores.list;\r\n  }\r\n\r\n  /**\r\n   * Esta funcion es para listas los depositos en el filtro de grilla.\r\n   */\r\n  async getDepositos() {\r\n    const stk_list = await firstValueFrom(this._remitosService.getDepositos(true));\r\n    this.filterDeposito = stk_list.list;\r\n  }\r\n}","<div class=\"fixed filtroJeds inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-90 sm:w-120 sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\"\r\n    [@expandCollapse]=\"'expanded'\">\r\n    <div [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        [style.color]=\"color_secundario || '' \" class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">Filtros</span>\r\n        <div>\r\n            <button mat-icon-button class=\"md:hidden\" (click)=\"resetFilters()\">\r\n                <mat-icon class=\"text-white\">refresh</mat-icon>\r\n            </button>\r\n            <button mat-icon-button (click)=\"onCloseMenu()\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"formFilters\">\r\n\r\n        <!-- Fecha inicio-->\r\n        <span class=\"font-bold text-gray-500 text-base mt-4\">Rango de fechas</span>\r\n        <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64 mt-2\">\r\n            <mat-date-range-input [rangePicker]=\"picker\">\r\n                <input matStartDate placeholder=\"Desde\" formControlName=\"filtroFechaInicio\">\r\n                <input matEndDate placeholder=\"Hasta\" formControlName=\"filtroFechaFin\">\r\n            </mat-date-range-input>\r\n            <mat-datepicker-toggle matIconSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n            <mat-date-range-picker #picker></mat-date-range-picker>\r\n            <button matSuffix mat-icon-button (click)=\"limpiarFechas()\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('filtroFechaInicio').value || formFilters.get('filtroFechaFin').value\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </mat-form-field>\r\n\r\n        <!-- Usuario Responsable -->\r\n        <span class=\"font-bold text-gray-500 text-base mt-4\">Usuario Responsable</span>\r\n        <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64 mt-2\">\r\n            <mat-select formControlName=\"usuario_responsable\">\r\n                <mat-option [value]=\"-1\">Todos</mat-option>\r\n                <mat-option *ngFor=\"let usuario_responsable of filterUsuarios\" [value]=\"usuario_responsable.codigo\">{{usuario_responsable.nick}}\r\n                </mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n\r\n        <!-- Proveedor -->\r\n        <span class=\"font-bold text-gray-500 text-base mt-4\">Proveedor</span>\r\n        <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64 mt-2\">\r\n            <mat-select formControlName=\"proveedor\">\r\n                <mat-option [value]=\"-1\">Todos</mat-option>\r\n                <mat-option *ngFor=\"let proveedor of filterProveedor\" [value]=\"proveedor.Codigo\">\r\n                    {{proveedor.RazonSocial}}\r\n                </mat-option>\r\n            </mat-select>\r\n        </mat-form-field>               \r\n\r\n        <!-- Deposito -->\r\n        <span class=\"font-bold text-gray-500 text-base mt-4\">Deposito</span>\r\n        <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64 mt-2\">\r\n            <mat-select formControlName=\"deposito\">\r\n                <mat-option [value]=\"-1\">Todos</mat-option>\r\n                <mat-option *ngFor=\"let deposito of filterDeposito\"\r\n                    [value]=\"deposito.iddeposito\">{{deposito.descripcion}}</mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-between md:pb-4 md:px-4\">\r\n        <button mat-stroked-button class=\"w-full rounded-none md:w-28 md:rounded-3xl hidden md:block\" color=\"primary\"\r\n            (click)=\"resetFilters()\">\r\n            <span class=\"text-gray-700 font-bold\">Limpiar</span>\r\n        </button>\r\n        <button mat-raised-button [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n            [style.color]=\"color_secundario || '' \" class=\"w-full rounded-none md:w-28 md:rounded-3xl py-8 md:py-0\"\r\n            (click)=\"onCloseMenu(formFilters.getRawValue())\">\r\n            <span class=\"text-white font-bold\">Filtrar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { IRemito } from '../models/remito';\r\nimport { RemitosService } from '../service/remitos.service';\r\nimport { Subject, Subscription, debounceTime, distinctUntilChanged, firstValueFrom, takeUntil } from 'rxjs';\r\nimport { MatTableDataSource } from '@angular/material/table'\r\nimport { SaveComponent } from './save/save.component';\r\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { environment } from 'environments/environment';\r\nimport { SearchService } from 'app/layout/common/search/search.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { FilterMenuComponent } from './filter-menu/filter-menu.component';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { Router } from '@angular/router';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\n@Component({\r\n    selector: 'app-remitos',\r\n    templateUrl: './remitos.component.html',\r\n    styleUrls: ['./remitos.component.scss']\r\n})\r\nexport class RemitosComponent implements OnInit, OnDestroy {\r\n    remitos: IRemito[];\r\n    public dataSource: MatTableDataSource<IRemito> = new MatTableDataSource();\r\n    headers = ['Fecha', 'Hora', 'Responsable', 'Observaciones', 'Deposito', 'Proveedor', 'Orden compra', 'Acciones'];\r\n    column_params = ['fecha', 'hora', 'nick_usuario', 'observaciones', 'descripcion_deposito', 'descripcion_proveedor', 'nro_orden_compra', 'acciones'];\r\n    funcionesObjeto = null;\r\n    filtroBusqueda: string = '';\r\n    filtersLike = ['nick_usuario', 'descripcion_deposito', 'descripcion_proveedor'];\r\n    filter: IFilter = {\r\n        proveedor: -1,\r\n        deposito: -1,\r\n        filtroFechaInicio: '',\r\n        filtroFechaFin: ''\r\n    };\r\n    @Input() extraParams = '';\r\n    @Output() parametrosActualizados = new EventEmitter<any>();\r\n    env = environment.stock.remitos + '?sort=-fecha_hora';\r\n    search: FormControl = new FormControl('');\r\n    sortValue: string;\r\n    FilterEventSub$: Subscription;\r\n    SearchTextSub$: Subscription;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'border-primary' && 'text-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    constructor(\r\n        private _remitoService: RemitosService,\r\n        private _empresaService: EmpresaService,\r\n        private confirm: FuseConfirmationService,\r\n        private alert: AppAlertService,\r\n        private dialogo: MatDialog,\r\n        private _searchService: SearchService,\r\n        private _menuService: JedsMenuService,\r\n        private router: Router,\r\n        public _headerTextService: HeaderTextService,\r\n\r\n    ) {\r\n        this._headerTextService.setTitulo(this.router);\r\n\r\n        /**\r\n         * Aca se declaran los botones que iran en la grilla sobre el apartado de acciones.\r\n         */\r\n        this.funcionesObjeto = [{\r\n            icono: 'edit',\r\n            nombre_boton: \"Editar\",\r\n            functionName: 'editar',\r\n            //functionParams: 'id' // vacio o parametros, se manda desde el hijo el $event.data.[param]\r\n        },\r\n        {\r\n            icono: 'delete',\r\n            nombre_boton: \"Eliminar\",\r\n            functionName: 'eliminar',\r\n        }\r\n        ];\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n        \r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.SearchTextSub$ = this._searchService.getSearchText().pipe( //Se obtienen los valores que coinciden con lo ingresado en la barra de busqueda\r\n            debounceTime(750),\r\n            distinctUntilChanged()\r\n        )\r\n            .subscribe(value => {\r\n                this.filtroBusqueda = value;\r\n                this.tabla.filters(this.filtroBusqueda);\r\n            });\r\n\r\n        this.FilterEventSub$ = this._searchService.getFilterEvent().subscribe(event => {\r\n            this.onFilterMenu(this._searchService.getFilterOrigin())\r\n        });\r\n    }\r\n\r\n    onFilterMenu(origin: MatButton) {\r\n        this._menuService\r\n            .open(FilterMenuComponent, origin._elementRef, {\r\n                filter: this.filter,\r\n                data: this.tabla.getElementosExistentes()\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: filter => {\r\n                    if (filter) {\r\n                        this.filter = filter;\r\n                        this.extraParams = this.filter.deposito != -1 ? \"filter[iddeposito]=\" + this.filter.deposito + '&' : '';\r\n                        this.extraParams += this.filter.usuario_responsable != -1 ? \"filter[idusuario]=\" + this.filter.usuario_responsable + '&' : '';\r\n                        this.extraParams += this.filter.proveedor != -1 ? \"filter[idproveedor]=\" + this.filter.proveedor + '&' : '';\r\n                        this.extraParams += this.filter.filtroFechaInicio != null ? \"filter[fecha][gte]=\" + this.filter.filtroFechaInicio + '&' : '';\r\n                        this.extraParams += this.filter.filtroFechaFin != null ? \"filter[fecha][lte]=\" + this.filter.filtroFechaFin + '&' : '';\r\n\r\n                        this.tabla.filters(this.filtroBusqueda);\r\n                        // this._searchService.getSearchInput().setValue(this._tabsServices.getFiltroBuscadorPedido());\r\n\r\n                    }\r\n                },\r\n            });\r\n    }\r\n\r\n    /**\r\n * Esta es la funcion que se encarga de la columna acciones dentro de la grilla dinamica\r\n * @param event \r\n */\r\n    generarAcciones(event: { name: string, params: any }) {\r\n        switch (event.name) {\r\n            case 'editar':\r\n                this.updateRemito(event);\r\n                break;\r\n            case 'eliminar':\r\n                this.deleteRemito(event);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Esta funcion guarda un item\r\n     */\r\n    saveRemito() {\r\n        this.dialogo\r\n            .open(SaveComponent, { panelClass: 'ayuda-dialog' })\r\n            .componentInstance.creadoExitosamente\r\n            .subscribe({\r\n                next: () => {\r\n                    this.alert.success(\"Remito creado con éxito.\");\r\n                    this.tabla.filters(this.filtroBusqueda);\r\n                },\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Esta funcion modifica un item\r\n     * @param event \r\n     */\r\n    updateRemito(event) {\r\n        this.dialogo\r\n            .open(SaveComponent, { data: event.params.data, panelClass: 'my-dialog', autoFocus: false })\r\n            .componentInstance.editadoExitosamente\r\n            .subscribe({\r\n                next: () => {\r\n                    this.alert.success(\"Remito editado con éxito.\");\r\n                    this.tabla.filters(this.filtroBusqueda);\r\n                },\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Esta funcion elimina un item\r\n     * @param event \r\n     */\r\n    deleteRemito(event) {\r\n        this.confirm.open({\r\n            title: \"Eliminar Remito: \" + event.params.data.fecha,\r\n            message: `¿Desea eliminar el remito realizado el: ${event.params.data.fecha} ${event.params.data.hora}; del depósito: ${event.params.data.descripcion_deposito} ?`,\r\n            dismissible: false,\r\n            actions: {\r\n                confirm: {\r\n                    show: true,\r\n                    color: 'warn',\r\n                    label: 'Si',\r\n                },\r\n                cancel: {\r\n                    show: true,\r\n                    label: 'No',\r\n                },\r\n            },\r\n        })\r\n            .afterClosed()\r\n            .subscribe(res => {\r\n                if (res === 'confirmed') {\r\n                    this._remitoService.deleteRemito(event.params.data.idremito).subscribe({\r\n                        next: (res) => {\r\n                            // Manejar la respuesta exitosa\r\n                            this.alert.success(\"Remito eliminado con éxito.\");\r\n                            if (res) {\r\n                                this.tabla.renderTabla()\r\n                            }\r\n                        },\r\n                        error: (error) => {\r\n                            // Manejar el error\r\n                            console.error('Error en el servicio:', error);\r\n                            this.alert.warning(\"Este remito no puede eliminarse. Tiene elementos asociados.\");\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._searchService.unsubscribe();\r\n        this.dialogo.closeAll();\r\n    }\r\n}","<div class=\"w-full flex flex-col relative \">\r\n    <div class=\"mb-4 mt-2 pb-4\">\r\n        <!-- Contenedor del botón -->\r\n        <div class=\"fixed right-10\">\r\n            <button mat-flat-button (click)='saveRemito()' #save [class]=\"color_primario && color_secundario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n                [style.color]=\"color_primario || '' \" class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\">\r\n                <div class=\"flex item-center\">\r\n                    <!-- SVG con fill=\"currentColor\" -->\r\n                    <svg id=\"note_plus\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path\r\n                            d=\"M15.8333 10.8333C16.4167 10.8333 16.975 10.9417 17.5 11.125V7.5L12.5 2.5H4.16667C3.24167 2.5 2.5 3.24167 2.5 4.16667V15.8333C2.5 16.7583 3.25 17.5 4.16667 17.5H11.125C10.9417 16.975 10.8333 16.4167 10.8333 15.8333C10.8333 13.075 13.075 10.8333 15.8333 10.8333ZM11.6667 3.75L16.25 8.33333H11.6667V3.75ZM19.1667 15V16.6667H16.6667V19.1667H15V16.6667H12.5V15H15V12.5H16.6667V15H19.1667Z\" />\r\n                    </svg>\r\n                    <span class=\"ml-2 text-lg mt-0.5\">Nuevo Remito</span>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"pr-2 pl-2 mt-2\">\r\n        <!-- Tabla dinámica -->\r\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\" [cache]=\"false\"\r\n            [columnsNames]=\"headers\" [renderType]=\"'ssp'\" [columnsParams]=\"column_params\" [endpoint]=\"env\"\r\n            [functions]=\"funcionesObjeto\" [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\r\n            (functionEmitter)=\"generarAcciones($event)\" [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\">\r\n        </app-tabla-dinamica>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\r\nimport { IRemito } from '../../models/remito';\r\nimport { RemitosService } from '../../service/remitos.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\r\nimport { Observable, Subject, debounceTime, finalize, firstValueFrom, map, startWith, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MY_DATE_FORMATS } from '@shared/constants/date-format';\r\nimport { IProveedor } from 'app/modules/administracion/proveedores/models/proveedor';\r\nimport { IArticulo } from 'app/modules/stock/articulos/models/articulo';\r\nimport { AddArticuloComponent } from '../addArticulo/add-articulo.component';\r\nimport { IDeposito } from 'app/modules/stock/depositos/models/deposito';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\n\r\n@Component({\r\n    selector: 'app-save-remitos',\r\n    templateUrl: './save.component.html',\r\n    styleUrls: ['./save.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }]\r\n})\r\nexport class SaveComponent implements OnInit {\r\n    columns = ['articulo', 'codigointerno', 'unidadmedida', 'cantidad', 'acciones'];\r\n    form: FormGroup;\r\n    remito: IRemito;\r\n    title: string;\r\n    user: any;\r\n    proveedores: any[] = [];\r\n    depositos: IDeposito[] = [];\r\n    orden_compras: any[] = [];\r\n    oc_pendientes: any[] = [];\r\n    mov_art_list: any[] = [];\r\n    mov_art_list_deleted: any[] = [];\r\n    maxPalabras: number = 50;\r\n    minDate: Date;\r\n    maxDate: Date;\r\n    filteredDepositos: Observable<IDeposito[]>;\r\n    filteredProveedores: Observable<IProveedor[]>;\r\n    public dataSource: MatTableDataSource<any> = new MatTableDataSource();\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    isUpdating = false; //flag para suprimir bucle infinito.\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _remitosService: RemitosService,\r\n        private _empresaService: EmpresaService,\r\n        private datePipe: DatePipe,\r\n        public alert: AppAlertService,\r\n        public dialogRef: MatDialogRef<SaveComponent>,\r\n        private dialogo: MatDialog,\r\n    ) {\r\n        this.remito = this.data ? this.data : null;\r\n        this.title = this.remito?.idremito ? `Editar Remito ${this.remito.fecha} - ${this.remito.hora}` : `Nuevo Remito`;\r\n        /* this`user = JSON.parse(sessionStorage.getItem('user')) */\r\n        this.user = JSON.parse(localStorage.getItem('user'));\r\n        // Se define minDate como null o cualquier otra fecha límite que desees permitir hacia atras\r\n        this.minDate = null;\r\n        // Define maxDate como el dia de hoy\r\n        this.maxDate = new Date();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n        \r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.getItemsOrdenDeCompraPendiente().then(() => {\r\n            this.getProveedores();\r\n        });\r\n        this.newForm();\r\n        this.exist();\r\n        this.subscribeAlert();\r\n        this.subscribeInputs();\r\n    };\r\n\r\n    /**\r\n     * Se realizo esta funcion para solucionar el error recursivo de angular 'RangeError'\r\n     */\r\n    subscribeInputs() {\r\n        this.form.get('proveedor').valueChanges.subscribe(value => {\r\n            if (!this.isUpdating) {\r\n                this.seleccionItem(value);\r\n            }\r\n        });\r\n\r\n        this.form.get('oc_pendiente').valueChanges.subscribe(value => {\r\n            if (!this.isUpdating) {\r\n                //Debido a que se tuvo que cambiar la logica original del codigo para el renderizado cuando se escuchaban cambios, \r\n                //se añado esta condicional que modifica la estructura de los datos de la OC segun sea alta o edicion de un remito\r\n                if (this.remito?.idremito) {\r\n                    value = {\r\n                        idordencompra: value,\r\n                    }\r\n                }\r\n\r\n                this.seleccionItem(value);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n        const [dia, mes, anio] = this.remito ? this.remito.fecha.split('/') : ''; //Se hace esto para poder manejar el formato que se cambio en el render del componente de tabla dinamica.\r\n\r\n        if (this.remito) { //Sí existe el orden de compra, cargo la grilla con sus articulos...\r\n            this.getItems(this.remito.idremito).then((res) => {\r\n                this.mov_art_list = res.map(m => {\r\n                    return {\r\n                        idarticulo: m.idarticulo,\r\n                        cantidad: m.cantidad,\r\n                        idunidadmedida: m.idunidadmedida,\r\n                        descripcion_articulo: m.descripcion_articulo,\r\n                        descripcion_um: m.descripcion_um,\r\n                        codigo_interno: m.codigo_interno_articulo,\r\n                    }\r\n                })\r\n\r\n                this.dataSource = new MatTableDataSource(this.mov_art_list);\r\n\r\n                // Verifica el estado de habilitacion o deshabilitacion del control OC y Deposito si contiene movimientos o no\r\n                if (this.mov_art_list.length != 0) {\r\n                    this.form.get('proveedor').disable();\r\n                    this.form.get('oc_pendiente').disable();\r\n                    this.form.get('deposito').disable();\r\n                } else {\r\n                    this.form.get('proveedor').enable();\r\n                    this.form.get('oc_pendiente').enable();\r\n                    this.form.get('deposito').enable();\r\n                }\r\n            });\r\n        }\r\n\r\n        this.form = new FormGroup({\r\n            fecha: new FormControl((this.remito?.fecha ? this.datePipe.transform(new Date(`${mes}/${dia}/${anio}`), 'yyyy-MM-dd') : this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n            hora: new FormControl((this.remito?.hora ? this.remito.hora : this.datePipe.transform(new Date(), 'HH:mm')), [Validators.required]),\r\n            proveedor: new FormControl((this.remito ? this.remito.descripcion_proveedor : ''), [Validators.required]),\r\n            oc_pendiente: new FormControl((this.remito ? this.remito.idordencompra : ''), [Validators.required]),\r\n            deposito: new FormControl((this.remito ? this.remito.descripcion_deposito : ''), Validators.required),\r\n            observaciones: new FormControl((this.remito ? this.remito.observaciones : ''), [Validators.maxLength(this.maxPalabras)]),\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Funcion para contar las palabras en las observaciones\r\n    */\r\n    getPalabrasLength(): number {\r\n        const observaciones = this.form.get('observaciones').value;\r\n        return observaciones ? observaciones.length : 0;\r\n    }\r\n\r\n    /**\r\n    * Funcion para verificar si se ha alcanzado el límite de caracteres en las observaciones\r\n    */\r\n    isPalabraMaxLengthReached(): boolean {\r\n        return this.getPalabrasLength() <= this.maxPalabras;\r\n    }\r\n\r\n    /**\r\n     * Si existe un stockinicial le mando 'true' a fondos y nada a TM para que me traiga todos los fondos y TMs al editar.\r\n     * Caso contrario, si se va a crear un stockinicial, llamo a los fondos sin enviarle un parametro asi me trae solo los activos y\r\n    * le envio un paramtro a los tipos de stockinicials para que me traiga los activos.\r\n    */\r\n    exist() {\r\n        if (this.remito?.idremito) {\r\n            this.getDepositos(true);\r\n        } else {\r\n            this.getDepositos();\r\n        }\r\n    }\r\n\r\n    async getDepositos(option?) {\r\n        const Depositos = await firstValueFrom(this._remitosService.getDepositos(option));\r\n        new Promise(async (resolve) => {\r\n            this.depositos = Depositos.list;\r\n            this.filteredDepositos = this.form.get('deposito').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterDepositos(value)),\r\n            );\r\n\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    private _filterDepositos(deposito: IDeposito): IDeposito[] {\r\n        const filterValue = deposito.toString().toLowerCase();\r\n        return this.depositos.filter(deposito => deposito.descripcion.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    private _filterProveedores(proveedor: IProveedor): IProveedor[] {\r\n        const filterValue = proveedor.toString().toLowerCase();\r\n        return this.proveedores.filter(proveedor => proveedor.RazonSocial.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    async getItemsOrdenDeCompraPendiente(object?: object) {\r\n        const OrdenesDeCompraPendiente = await firstValueFrom(this._remitosService.getItemsOcPendiente(object));\r\n        this.orden_compras = OrdenesDeCompraPendiente.list;\r\n\r\n        // Sort the orden_compras by nro_orden_compra numerically\r\n        this.orden_compras.sort((a, b) => {\r\n            const nroA = parseInt(a.numero_oc, 10);\r\n            const nroB = parseInt(b.numero_oc, 10);\r\n            return nroA - nroB;\r\n        });\r\n\r\n        new Promise(async (resolve) => {\r\n            //Encapsulo solo las propiedades que quiero utilizar.\r\n            this.proveedores = OrdenesDeCompraPendiente.list.map(p => {\r\n                return {\r\n                    Codigo: p.idproveedor,\r\n                    RazonSocial: p.razon_social\r\n                }\r\n            });\r\n\r\n\r\n            //Encapsulo solo las propiedades que quiero utilizar.\r\n            this.oc_pendientes = OrdenesDeCompraPendiente.list.map(ocp => {\r\n                return {\r\n                    idordencompra: ocp.idordencompra,\r\n                    fecha_oc: ocp.fecha_oc,\r\n                    numero_oc: ocp.numero_oc,\r\n                    idproveedor: ocp.idproveedor\r\n                }\r\n            });\r\n\r\n            //Quito ordenes de compra repetidas.\r\n            this.getOrdenCompras();\r\n\r\n            //Esta fraccion de codigo es para filtrar lo que se escriba en el input.\r\n            this.filteredProveedores = this.form.get('proveedor').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterProveedores(value)),\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Esta funcion se encarga de que no haya datos repetidos en los [] que almacena los proveedores que tiene ordenes de compra pendientes.\r\n     */\r\n    async getProveedores() {\r\n        new Promise(async (resolve) => {\r\n            //Esta fraccion de codigo es para que no haya items repetidos en el input.\r\n            let arreglo_auxiliar = [];\r\n            this.proveedores.forEach(p => {\r\n                if (!arreglo_auxiliar.some(pe => pe.Codigo === p.Codigo)) {\r\n                    arreglo_auxiliar.push(p);\r\n                }\r\n                this.proveedores = arreglo_auxiliar;\r\n            });\r\n\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Esta funcion es la encargada de obtener los datos de las ordenes de compra y que no se repitan.\r\n     * @param idproveedor Cuando queremos obtener solo las ordenes de compra de un proveedor utilicamos su id para filtrar.\r\n     */\r\n    async getOrdenCompras(idproveedor?: number) {\r\n\r\n        if (idproveedor) {\r\n            this.oc_pendientes = this.orden_compras.filter(oc => oc.idproveedor === idproveedor);\r\n        } else {\r\n            this.oc_pendientes = this.orden_compras;\r\n        }\r\n\r\n        let arreglo_auxiliar = [];\r\n        this.oc_pendientes.forEach(ocp => {\r\n            if (!arreglo_auxiliar.some(oc => oc.idordencompra === ocp.idordencompra)) {\r\n                arreglo_auxiliar.push(ocp);\r\n            }\r\n            this.oc_pendientes = arreglo_auxiliar;\r\n        })\r\n    }\r\n\r\n    getTextInput(option) {\r\n        if (option.descripcion) {\r\n            return option.descripcion;\r\n        }\r\n        if (option.deposito) {\r\n            return option.deposito;\r\n        }\r\n        if (option.RazonSocial) {\r\n            return option.RazonSocial;\r\n        }\r\n        return option;\r\n    }\r\n\r\n    /**\r\n     * Esta funcion maneja las cambios de seleccion que puedan tener articulos, unidades de medida u ordenes de compra.\r\n     * @param $event \r\n    */\r\n    seleccionItem($event) {\r\n        this.isUpdating = true;\r\n        // Si se ha seleccionado un proveedor explícitamente, actualiza el campo del proveedor\r\n        if ($event.Codigo) {\r\n            this.getOrdenCompras($event.Codigo); // Buscamos las OC que posee ese proveedor.\r\n            // Actualizamos el campo del proveedor sin emitir eventos\r\n            this.form.get('proveedor').setValue($event, { emitEvent: false });\r\n            // Habilitamos el campo de OC\r\n            this.form.get('oc_pendiente').enable();\r\n        }\r\n\r\n        // Si se ha seleccionado una OC, actualiza el campo de OC pendiente\r\n        if ($event.idordencompra) {\r\n            let oc = this.oc_pendientes.find(prov => prov.idordencompra === $event.idordencompra);\r\n            this.form.get('oc_pendiente').setValue(oc, { emitEvent: false });\r\n            let noExisteProveedor = (this.form.get('proveedor').value === \"\") || (this.form.get('proveedor').value.Codigo != $event.idproveedor); //Si el campo proveedor es igual a vacio Ó el proveedor es distinto.\r\n            if (noExisteProveedor) {\r\n                let proveedor = this.proveedores.find(p => p.Codigo === oc.idproveedor);\r\n                this.form.get('proveedor').setValue(proveedor, { emitEvent: false });\r\n                this.getOrdenCompras(proveedor.Codigo);\r\n            };\r\n\r\n        }\r\n        this.isUpdating = false;\r\n    }\r\n\r\n    async getItems(idremito): Promise<any> {\r\n        return new Promise(async (resolve) => {\r\n            const items = await firstValueFrom(this._remitosService.getItems(idremito));\r\n            this.mov_art_list = items.list;\r\n            resolve(this.mov_art_list);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Esta funcion añade un nuevo item a la grilla dentro del saveComponent.\r\n     */\r\n    addMovimiento() {\r\n        if (this.form.get('oc_pendiente').value != '') {\r\n            let orden_compra_value = this.form.get('oc_pendiente').value.idordencompra;\r\n            let esEdicion = this.remito ? true : false;\r\n\r\n            // Validar que se haya seleccionado un deposito válido\r\n            if (!this.remito || (this.remito && this.form.get('deposito').value !== this.remito.descripcion_deposito)) {\r\n                const depositoSeleccionado = this.form.get('deposito').value;\r\n                const depositoExistente = this.depositos.find(deposito => deposito.iddeposito === depositoSeleccionado.iddeposito);\r\n                if (!depositoExistente) {\r\n                    return this.alert.warning('El deposito seleccionado no existe. Por favor, seleccione un deposito válido.');\r\n                }\r\n            }\r\n\r\n            this.dialogo\r\n                .open(AddArticuloComponent, {\r\n                    panelClass: 'ayuda-dialog',\r\n                    data: {\r\n                        orden_compra: orden_compra_value,\r\n                        movimientos: this.mov_art_list,\r\n                        movimientos_eliminados: this.mov_art_list_deleted,\r\n                        esEdicion: esEdicion\r\n                    }\r\n                })\r\n                .afterClosed()\r\n                .subscribe({\r\n                    next: (res) => {\r\n                        if (res) {\r\n                            let movimiento_articulo = {    //Encapsulo los datos que me interesan mostrar en la grilla.\r\n                                idarticulo: res.articulo.idarticulo,\r\n                                cantidad: res.cantidad,\r\n                                cantidad_pendiente: res.cantidad_pendiente,  //Cantidad pendiente restante de ese articulo con esa um...\r\n                                idunidadmedida: res.unidad_medida,\r\n                                idordencompraitem: res.articulo.idordencompraitem,\r\n                                descripcion_articulo: res.articulo.descripcion,\r\n                                descripcion_um: res.unidadmedida_descripcion,\r\n                                codigo_interno: res.articulo.codigo_interno,\r\n                            }\r\n                            this.mov_art_list = [...this.mov_art_list, movimiento_articulo];\r\n                            this.dataSource = new MatTableDataSource(this.mov_art_list); //Actualizo la tabla\r\n\r\n                            // Desabilito el campo proveedor, OC y Deposito\r\n                            if (this.mov_art_list.length != 0) {\r\n                                this.form.get('proveedor').disable();\r\n                                this.form.get('oc_pendiente').disable();\r\n                                this.form.get('deposito').disable();\r\n                            }\r\n\r\n                            this.alert.success(\"Artículo añadido con éxito\")\r\n                        }\r\n                    },\r\n                });\r\n        } else {\r\n            this.alert.warning(\"Seleccione una orden de compra\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * El resultado de esta operación es un nuevo \r\n     * array que contiene todos los movimientos de la lista original, \r\n     * excepto el artículo que se desea eliminar.\r\n     * @param movimiento_articulo \r\n     */\r\n    deleteMovimiento(movimiento_articulo) {\r\n        this.mov_art_list.forEach((mov) => {\r\n            if (mov.idarticulo === movimiento_articulo.idarticulo && mov.idunidadmedida === movimiento_articulo.idunidadmedida) {\r\n                mov.cantidad_pendiente = Number(mov.cantidad_pendiente) + Number(mov.cantidad);\r\n            }\r\n        });\r\n\r\n        this.mov_art_list_deleted = this.mov_art_list;\r\n        this.mov_art_list = this.mov_art_list.filter((item) => item !== movimiento_articulo);\r\n        this.dataSource = new MatTableDataSource(this.mov_art_list);\r\n\r\n        // Habilito el campo de OC y Deposito si la lista de movimientos está vacía\r\n        if (this.mov_art_list.length === 0) {\r\n            this.form.get('oc_pendiente').enable();\r\n            this.form.get('deposito').enable();\r\n        }\r\n\r\n        this.alert.success(\"Artículo eliminado con éxito\")\r\n    }\r\n\r\n    /**\r\n    * Funcion para limpiar campos\r\n    */\r\n    limpiarCasillero(input) {\r\n        this.form.get(input).setValue('');\r\n        if (input == \"proveedor\") {\r\n            this.form.get('oc_pendiente').setValue('');\r\n            this.getOrdenCompras();\r\n        }\r\n    }\r\n\r\n    onSubmit() {\r\n        // Verificar la longitud de las observaciones\r\n        if (!this.isPalabraMaxLengthReached()) {\r\n            return this.alert.error(`La longitud máxima de observaciones es de ${this.maxPalabras} caracteres.`);\r\n        }\r\n\r\n        if (!this.form.valid) {\r\n            return this.alert.error('Revise Los Datos Ingresados');\r\n        } else {\r\n            // Validar que se haya seleccionado un proveedor válido solo si se está agregando un nuevo remito o se cambió el proveedor\r\n            if (!this.remito || (this.remito && this.form.get('proveedor').value !== this.remito.descripcion_proveedor)) {\r\n                const proveedorSeleccionado = this.form.get('proveedor').value;\r\n                const proveedorExistente = this.proveedores.find(proveedor => proveedor.Codigo === proveedorSeleccionado.Codigo);\r\n                if (!proveedorExistente) {\r\n                    return this.alert.error('El proveedor seleccionado no existe. Por favor, seleccione un proveedor válido.');\r\n                }\r\n            }\r\n\r\n            let movimientos = this.mov_art_list.map(objeto => ({   //Encapsulo solamente los datos que utilizaré de los articulos...\r\n                idordencompraitem: objeto.idordencompraitem,\r\n                idarticulo: objeto.idarticulo,\r\n                cantidad: objeto.cantidad,\r\n                idunidadmedida: objeto.idunidadmedida,\r\n            }))\r\n\r\n            if (movimientos.length === 0) {\r\n                return this.alert.warning('Debe ingresar un articulo al remito')\r\n            }\r\n\r\n            const fecha = this.form.get('fecha').value;\r\n            const hora = this.form.get('hora').value;\r\n\r\n            // Se formatea la fecha nuevamente al formato deseado (YYYY-MM-DD)\r\n            const fecha_formateada = this.datePipe.transform(fecha, 'yyyy-MM-dd');\r\n\r\n            // Se concatena a ambas fecha y hora\r\n            const fecha_hora = `${fecha_formateada} ${hora}`;\r\n\r\n            const payload = {\r\n                remito: {\r\n                    idusuario: this.user.id,\r\n                    fecha_hora: fecha_hora,\r\n                    iddeposito: this.form.get('deposito').value.iddeposito,\r\n                    idordencompra: this.form.get('oc_pendiente').value.idordencompra,\r\n                    observaciones: this.form.get('observaciones').value,\r\n                },\r\n                movimientos: movimientos\r\n            }\r\n\r\n            if (this.remito?.idremito) {\r\n                this._remitosService.updateRemito(payload, this.remito.idremito)\r\n                    .subscribe({\r\n                        next: (data) => {\r\n                            if (data) {\r\n                                this.editadoExitosamente.emit();\r\n                                this.dialogRef.close(data);\r\n                            }\r\n                        }\r\n                    });\r\n            } else {\r\n                this._remitosService.saveRemito(payload)\r\n                    .subscribe({\r\n                        next: (data) => {\r\n                            if (data) {\r\n                                this.creadoExitosamente.emit();\r\n                                this.dialogRef.close(data);\r\n                            }\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    onCloseMenu() {\r\n        this.dialogRef.close(false)\r\n    }\r\n}","<div\r\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-120 sm:w-min-w-90 sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\">\r\n    <div [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        [style.color]=\"color_secundario || '' \" class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu()\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <form class=\"form-menu p-4\" [formGroup]=\"form\">\r\n        <div class=\"flex flex-col w-full h-full p-4\">\r\n            <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                <mat-form-field appearance=\"outline\" class=\"w-full sm:w-1/4\">\r\n                    <input matInput [matDatepicker]=\"picker\" placeholder=\"Fecha\" formControlName=\"fecha\" [min]=\"minDate\"\r\n                        [max]=\"maxDate\" />\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker></mat-datepicker>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"outline\" class=\"w-full sm:w-1/4\">\r\n                    <mat-label>Hora</mat-label>\r\n                    <input matInput formControlName=\"hora\" type=\"time\" />\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Proveedor</mat-label>\r\n                    <input type=\"text\" matInput formControlName=\"proveedor\" [matAutocomplete]=\"auto\">\r\n                    <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" [displayWith]=\"getTextInput\">\r\n                        <mat-option *ngFor=\"let proveedor of filteredProveedores | async\" [value]=\"proveedor\">\r\n                            {{ proveedor.RazonSocial}}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('proveedor')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('proveedor').value && mov_art_list.length == 0\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/3\">\r\n                    <mat-label>OC</mat-label>\r\n                    <mat-select formControlName=\"oc_pendiente\">\r\n                        <mat-option *ngFor=\"let oc of oc_pendientes\" [value]=\"oc\">\r\n                            N° {{oc.numero_oc}} / {{oc.fecha_oc}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('oc_pendiente')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('oc_pendiente').value && mov_art_list.length == 0\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/3\">\r\n                    <mat-label>Depósito</mat-label>\r\n                    <input type=\"text\" matInput formControlName=\"deposito\" [matAutocomplete]=\"art\">\r\n                    <mat-autocomplete autoActiveFirstOption #art=\"matAutocomplete\" [displayWith]=\"getTextInput\">\r\n                        <mat-option *ngFor=\"let deposito of filteredDepositos | async\" [value]=\"deposito\">\r\n                            {{ deposito.descripcion }}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('deposito')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('deposito').value && mov_art_list.length == 0\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n            </div>\r\n            <mat-form-field appearance=\"outline\" class=\"w-full\">\r\n                <mat-label>Observaciones</mat-label>\r\n                <textarea matInput formControlName=\"observaciones\" class=\"resize-none\"></textarea>\r\n                <div class=\"counter\" [ngClass]=\"{'reached-max': !isPalabraMaxLengthReached()}\">\r\n                    {{ getPalabrasLength() }}/{{ maxPalabras }}\r\n                </div>\r\n            </mat-form-field>\r\n            <!-- Grilla -->\r\n            <div class=\"overflow-y-auto max-h-[150px] h-[150px] shadow-xl pb-10 border-t-2 border-slate-200\">\r\n                <table mat-table [dataSource]=\"dataSource\" class=' w-full mt-1 '>\r\n                    <ng-container matColumnDef='articulo'>\r\n                        <th mat-header-cell *matHeaderCellDef>\r\n                            Articulo</th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{movimiento_articulo.descripcion_articulo}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='codigointerno'>\r\n                        <th mat-header-cell *matHeaderCellDef>\r\n                            Codigo Interno</th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{movimiento_articulo.codigo_interno}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='unidadmedida'>\r\n                        <th mat-header-cell *matHeaderCellDef>Unidad de medida</th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{ movimiento_articulo.descripcion_um }}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='cantidad'>\r\n                        <th mat-header-cell *matHeaderCellDef>Cantidad</th>\r\n                        <td mat-cell *matCellDef='let movimiento_articulo'>\r\n                            {{ movimiento_articulo.cantidad}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='acciones'>\r\n                        <th mat-header-cell *matHeaderCellDef> \r\n                            <button mat-mini-fab [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n                                [style.color]=\"color_secundario || '' \"\r\n                                matTooltip='Añadir Articulo' aria-label=\"icon\" class=\"rounded-full\"\r\n                                (click)=\"addMovimiento()\">\r\n                                <mat-icon>add</mat-icon>\r\n                            </button></th>\r\n                        <td mat-cell *matCellDef='let movimiento'>\r\n                            <button mat-icon-button (click)=\"deleteMovimiento(movimiento)\" #delete>\r\n                                <mat-icon color=\"warn\">delete</mat-icon>\r\n                            </button>\r\n                        </td>\r\n                    </ng-container>\r\n                    <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>\r\n                    <tr mat-row *matRowDef='let row; columns: columns'></tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\"> \r\n        <button mat-raised-button [class]=\"color_primario && color_secundario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n            [style.color]=\"color_secundario || '' \" class='w-full rounded-none md:w-36 md:rounded-full py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Guardar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { RouterModule, Routes } from '@angular/router';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatToolbarModule } from '@angular/material/toolbar'\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { FuseAlertComponent } from '@fuse/components/alert';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { RemitosComponent } from './components/remitos.component';\r\nimport { SaveComponent } from './components/save/save.component';\r\nimport { RemitosService } from './service/remitos.service';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { TablaDinamicaModule } from '@shared/components/tabla-dinamica/tabla-dinamica.module';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { FilterMenuComponent } from './components/filter-menu/filter-menu.component';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { AddArticuloComponent } from './components/addArticulo/add-articulo.component';\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: RemitosComponent\r\n    }\r\n];\r\n@NgModule({\r\n    declarations: [RemitosComponent, SaveComponent, FilterMenuComponent, AddArticuloComponent],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        MatTableModule,\r\n        MatButtonModule,\r\n        MatSelectModule,\r\n        MatFormFieldModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        FuseAlertComponent,\r\n        MatTooltipModule,\r\n        MatAutocompleteModule,\r\n        MatToolbarModule,\r\n        MatCheckboxModule,\r\n        MatSortModule,\r\n        TablaDinamicaModule,\r\n        MatDialogModule,\r\n        MatDatepickerModule\r\n    ],\r\n    exports: [RouterModule],\r\n    providers: [RemitosService, JedsMenuService, AppAlertService, DatePipe]\r\n})\r\nexport class RemitosModule { }","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'environments/environment';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { IRemito } from '../models/remito';\r\nimport { AuthService } from '@core/auth/auth.service';\r\nimport { Response } from '@shared/models/response-with-token';\r\n\r\n@Injectable()\r\nexport class RemitosService {\r\n    constructor(private http: HttpClient, private _authService: AuthService) { }\r\n    /**\r\n     * Funcion en el Servicio \r\n     * @param remito \r\n     * @returns Crea un item nuevo\r\n     */\r\n    saveRemito(remito: IRemito): Observable<IRemito> {\r\n        return this.http.post<IRemito>(`${environment.stock.remitos}`, remito);\r\n    }\r\n\r\n    /**\r\n     * Funcion en el servicio\r\n     * @param remito\r\n     * @returns Item actualizado actualizado\r\n     */\r\n    updateRemito(remito: IRemito, idremito: number): Observable<IRemito> {\r\n        return this.http.put<IRemito>(`${environment.stock.remitos}` + '/' + idremito, remito);\r\n    }\r\n\r\n    /**\r\n     * Funcion en el servicio\r\n     * @param idremito \r\n     * @returns Elimina un item\r\n     */\r\n    deleteRemito(idremito: number): Observable<IRemito> {\r\n        return this.http.delete<IRemito>(`${environment.stock.remitos}` + '/' + idremito);\r\n    }\r\n\r\n    getDepositos(option?) {\r\n        let f = '?';\r\n        f += !option ? 'filter[activo]=1' : '';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.depositos}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getProveedores(option?) {\r\n        let f = '?sort=RazonSocial';\r\n        f += !option ? 'filter[activo]=1' : '';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.administracion.proveedores}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getArticulosDepositos(deposito_origen: number) {\r\n        let f = `?filter[deposito]=${deposito_origen}`\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.view_stock_articulo_depositos}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getUnidadesDeMedidaArticulos(idarticulo) {\r\n        let f = `?filter[idarticulo]=${idarticulo}`\r\n        f += `&expand=um`\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.articulo_unidad_medidas}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getItems(idremito: number) {\r\n        let f = `?filter[idremito]=${idremito}`;\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.view_stock_movimientos}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getUsuarios() {\r\n        let f = `?sort=asc`;\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.login.view_usuarios}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getItemsOcPendiente(option?) {\r\n        let f = `?`;\r\n        f += option ? `filter[idordencompra]=${option}&` : '';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.view_items_oc_pendientes}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n}"],"names":["FormControl","FormGroup","Validators","Subject","finalize","firstValueFrom","map","startWith","takeUntil","takeWhile","tap","timer","MAT_DIALOG_DATA","MAT_DATE_FORMATS","MatTableDataSource","MY_DATE_FORMATS","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","_alertConfig","type","showAlert","ɵɵadvance","ɵɵtextInterpolate1","message","articulo_r5","ɵɵtextInterpolate2","codigo_interno","descripcion","ɵɵlistener","AddArticuloComponent_button_20_Template_button_click_0_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","limpiarCasillero","um_r8","idunidadmedida","ɵɵtextInterpolate","descripcion_um","AddArticuloComponent","constructor","data","_remitosService","_empresaService","datePipe","alert","dialogRef","dialogo","columns","articulos","unidades_de_medida","depositos","articulos_list","dataSource","default_color","_unsubscribeAll","title","ngOnInit","empresa$","pipe","subscribe","empresa","color_primario","color_secundario","getEmpresa","newForm","getArticulosOrdenCompra","subscribeAlert","emitConfig","next","config","appearance","time","_this","_asyncToGenerator","articulos_um_oc","getItemsOcPendiente","orden_compra","list","Promise","_ref","resolve","filteredArticulos","form","get","valueChanges","value","_filterArticulos","_x","apply","arguments","forEach","item","existeArticulo","find","articulo","idarticulo","codigo_interno_articulo","descripcion_articulo","idordencompraitem","iditemordencompra","push","filterValue","toString","toLowerCase","filter","includes","getTextInput","getUnidadesDeMedidaArticulos","_this2","_ref2","a","cantidad_pendiente","_x2","seleccionArticulo","$event","enable","um","articulo_um","cantidad_existente","existeMovimiento","movimientos","length","articulos_existentes","ae","Number","cantidad","setValue","disable","required","unidadmedida","onSubmit","valid","error","warning","movimiento","movimiento_articulo","unidad_medida","unidadmedida_descripcion","onCloseMenu","close","ɵɵdirectiveInject","i1","RemitosService","i2","EmpresaService","i3","DatePipe","i4","AppAlertService","i5","MatDialogRef","MatDialog","selectors","features","ɵɵProvidersFeature","provide","useValue","decls","vars","consts","template","AddArticuloComponent_Template","rf","ctx","AddArticuloComponent_Template_button_click_5_listener","ɵɵtemplate","AddArticuloComponent_fuse_alert_8_Template","AddArticuloComponent_Template_input_ngModelChange_15_listener","AddArticuloComponent_mat_option_18_Template","AddArticuloComponent_button_20_Template","AddArticuloComponent_Template_mat_select_ngModelChange_24_listener","AddArticuloComponent_mat_option_25_Template","ɵɵelement","AddArticuloComponent_Template_button_click_35_listener","ɵɵclassMap","ɵɵstyleProp","_r1","ɵɵpipeBind1","fuseAnimations","FilterMenuComponent_button_21_Template_button_click_0_listener","_r6","ctx_r5","limpiarFechas","usuario_responsable_r7","codigo","nick","proveedor_r8","Codigo","RazonSocial","deposito_r9","iddeposito","FilterMenuComponent","_menuService","filterUsuarios","filterProveedor","filterDeposito","filterFechas","movimientos_internos_list","formFilters","filtroFechaInicio","filtroFechaFin","usuario_responsable","proveedor","deposito","getDepositos","getUsuarios","getProveedores","patchValue","resetFilters","reset","transform","Usuarios","Proveedores","_this3","stk_list","JedsMenuService","FilterMenuComponent_Template","FilterMenuComponent_Template_button_click_5_listener","FilterMenuComponent_Template_button_click_8_listener","FilterMenuComponent_button_21_Template","FilterMenuComponent_mat_option_28_Template","FilterMenuComponent_mat_option_35_Template","FilterMenuComponent_mat_option_42_Template","FilterMenuComponent_Template_button_click_44_listener","FilterMenuComponent_Template_button_click_47_listener","getRawValue","_r0","EventEmitter","debounceTime","distinctUntilChanged","SaveComponent","TablaDinamicaComponent","environment","RemitosComponent","_remitoService","confirm","_searchService","router","_headerTextService","headers","column_params","funcionesObjeto","filtroBusqueda","filtersLike","extraParams","parametrosActualizados","env","stock","remitos","search","setTitulo","icono","nombre_boton","functionName","SearchTextSub$","getSearchText","tabla","filters","FilterEventSub$","getFilterEvent","event","onFilterMenu","getFilterOrigin","origin","open","_elementRef","getElementosExistentes","afterClosed","generarAcciones","name","updateRemito","deleteRemito","saveRemito","panelClass","componentInstance","creadoExitosamente","success","params","autoFocus","editadoExitosamente","fecha","hora","descripcion_deposito","dismissible","actions","show","color","label","cancel","res","idremito","renderTabla","console","ngOnDestroy","unsubscribe","closeAll","FuseConfirmationService","i6","SearchService","i7","i8","Router","i9","HeaderTextService","viewQuery","RemitosComponent_Query","RemitosComponent_Template_button_click_3_listener","ɵɵnamespaceSVG","ɵɵnamespaceHTML","RemitosComponent_Template_app_tabla_dinamica_functionEmitter_11_listener","proveedor_r22","SaveComponent_button_29_Template_button_click_0_listener","_r24","ctx_r23","oc_r25","numero_oc","fecha_oc","SaveComponent_button_35_Template_button_click_0_listener","_r27","ctx_r26","deposito_r28","SaveComponent_button_44_Template_button_click_0_listener","_r30","ctx_r29","movimiento_articulo_r31","movimiento_articulo_r32","movimiento_articulo_r33","movimiento_articulo_r34","SaveComponent_th_66_Template_button_click_1_listener","_r36","ctx_r35","addMovimiento","ctx_r18","SaveComponent_td_67_Template_button_click_1_listener","restoredCtx","_r40","movimiento_r37","$implicit","ctx_r39","deleteMovimiento","proveedores","orden_compras","oc_pendientes","mov_art_list","mov_art_list_deleted","maxPalabras","isUpdating","remito","user","JSON","parse","localStorage","getItem","minDate","maxDate","Date","getItemsOrdenDeCompraPendiente","then","exist","subscribeInputs","seleccionItem","idordencompra","dia","mes","anio","split","getItems","m","descripcion_proveedor","oc_pendiente","observaciones","maxLength","getPalabrasLength","isPalabraMaxLengthReached","option","Depositos","filteredDepositos","_filterDepositos","_filterProveedores","object","OrdenesDeCompraPendiente","sort","b","nroA","parseInt","nroB","p","idproveedor","razon_social","ocp","getOrdenCompras","filteredProveedores","_ref3","arreglo_auxiliar","some","pe","_x3","_this4","oc","emitEvent","prov","noExisteProveedor","_this5","_ref4","items","_x4","orden_compra_value","esEdicion","depositoSeleccionado","depositoExistente","movimientos_eliminados","mov","input","proveedorSeleccionado","proveedorExistente","objeto","fecha_formateada","fecha_hora","payload","idusuario","id","emit","outputs","SaveComponent_Template","SaveComponent_Template_button_click_5_listener","SaveComponent_fuse_alert_8_Template","SaveComponent_mat_option_27_Template","SaveComponent_button_29_Template","SaveComponent_mat_option_34_Template","SaveComponent_button_35_Template","SaveComponent_mat_option_42_Template","SaveComponent_button_44_Template","ɵɵelementContainerStart","SaveComponent_th_54_Template","SaveComponent_td_55_Template","ɵɵelementContainerEnd","SaveComponent_th_57_Template","SaveComponent_td_58_Template","SaveComponent_th_60_Template","SaveComponent_td_61_Template","SaveComponent_th_63_Template","SaveComponent_td_64_Template","SaveComponent_th_66_Template","SaveComponent_td_67_Template","SaveComponent_tr_68_Template","SaveComponent_tr_69_Template","SaveComponent_Template_button_click_71_listener","_r2","ɵɵpureFunction1","_c0","RouterModule","CommonModule","MatToolbarModule","MatTableModule","MatButtonModule","MatSelectModule","MatFormFieldModule","ReactiveFormsModule","MatInputModule","FuseAlertComponent","MatIconModule","MatTooltipModule","MatAutocompleteModule","MatCheckboxModule","MatSortModule","TablaDinamicaModule","MatDialogModule","MatDatepickerModule","routes","path","component","RemitosModule","imports","forChild","declarations","exports","http","_authService","post","put","delete","f","subject","resp","accessToken","token","result","asObservable","administracion","getArticulosDepositos","deposito_origen","view_stock_articulo_depositos","articulo_unidad_medidas","view_stock_movimientos","login","view_usuarios","view_items_oc_pendientes","ɵɵinject","HttpClient","AuthService","factory","ɵfac"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}