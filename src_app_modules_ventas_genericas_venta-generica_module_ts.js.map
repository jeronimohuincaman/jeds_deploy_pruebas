{"version":3,"file":"src_app_modules_ventas_genericas_venta-generica_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAqG;AAIgH;AAEjJ;AAEgC;AACvC;AAMH;AACM;AAK6B;AAGtC;AAC4C;;;;;;;;;;;;;;;;;;;;;;;;;ICb/F0B,wDAAA,wBAA8D;;;;;IAG9DA,6DAAA,oBACgG;IAC5FA,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAFTA,yDAAA,SAAAM,MAAA,CAAAC,YAAA,CAAAC,IAAA,CAA0B,qCAAAF,MAAA,CAAAG,SAAA;IAC1BT,wDAAA,GACJ;IADIA,iEAAA,MAAAM,MAAA,CAAAC,YAAA,CAAAK,OAAA,MACJ;;;;;IAmBoBZ,6DAAA,iBAAgG;IAClFA,qDAAA,sBAAe;IAAAA,2DAAA,EAAW;;;;;;IAIpCA,6DAAA,qBAAkI;IAAlDA,yDAAA,mBAAAc,oFAAAC,MAAA;MAAAf,4DAAA,CAAAiB,IAAA;MAAA,MAAAC,OAAA,GAAAlB,4DAAA;MAAA,OAASA,0DAAA,CAAAkB,OAAA,CAAAG,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,UAAU,CAAC;IAAA,EAAC;IAC7Hf,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAFiDA,yDAAA,UAAAsB,WAAA,CAAiB;IAC3EtB,wDAAA,GACJ;IADIA,iEAAA,MAAAsB,WAAA,CAAAC,WAAA,MACJ;;;;;;IAEJvB,6DAAA,iBACsC;IADJA,yDAAA,mBAAAwB,4EAAA;MAAAxB,4DAAA,CAAAyB,IAAA;MAAA,MAAAC,OAAA,GAAA1B,4DAAA;MAAA,OAASA,0DAAA,CAAA0B,OAAA,CAAAC,gBAAA,CAAiB,SAAS,CAAC;IAAA,EAAC;IAEnE3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;IAmBlCA,6DAAA,iBAAiG;IACnFA,qDAAA,sBAAe;IAAAA,2DAAA,EAAW;;;;;;IAIpCA,6DAAA,qBAA6I;IAA1DA,yDAAA,mBAAA4B,oFAAAb,MAAA;MAAAf,4DAAA,CAAA6B,IAAA;MAAA,MAAAC,OAAA,GAAA9B,4DAAA;MAAA,OAASA,0DAAA,CAAA8B,OAAA,CAAAT,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,kBAAkB,CAAC;IAAA,EAAC;IACxIf,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAFmDA,yDAAA,UAAA+B,YAAA,CAAkB;IAC9E/B,wDAAA,GACJ;IADIA,iEAAA,MAAA+B,YAAA,CAAAE,MAAA,OAAAF,YAAA,CAAAG,QAAA,MACJ;;;;;;IAEJlC,6DAAA,iBACuC;IADLA,yDAAA,mBAAAmC,4EAAA;MAAAnC,4DAAA,CAAAoC,IAAA;MAAA,MAAAC,OAAA,GAAArC,4DAAA;MAAA,OAASA,0DAAA,CAAAqC,OAAA,CAAAV,gBAAA,CAAiB,UAAU,CAAC;IAAA,EAAC;IAEpE3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;;IAY1BA,6DAAA,iBACoD;IADlBA,yDAAA,mBAAAsC,mFAAA;MAAAtC,4DAAA,CAAAuC,IAAA;MAAA,MAAAC,OAAA,GAAAxC,4DAAA;MAAA,OAASA,0DAAA,CAAAwC,OAAA,CAAAb,gBAAA,CAAiB,kBAAkB,CAAC;IAAA,EAAC;IAE5E3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;;IAO9BA,6DAAA,iBACkD;IADhBA,yDAAA,mBAAAyC,oFAAA;MAAAzC,4DAAA,CAAA0C,IAAA;MAAA,MAAAC,OAAA,GAAA3C,4DAAA;MAAA,OAASA,0DAAA,CAAA2C,OAAA,CAAAhB,gBAAA,CAAiB,gBAAgB,CAAC;IAAA,EAAC;IAE1E3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;IAM9BA,6DAAA,iBAC8C;IAChCA,qDAAA,sBAAe;IAAAA,2DAAA,EAAW;;;;;;IAIpCA,6DAAA,qBAA2I;IAArDA,yDAAA,mBAAA4C,4FAAA7B,MAAA;MAAAf,4DAAA,CAAA6C,IAAA;MAAA,MAAAC,OAAA,GAAA9C,4DAAA;MAAA,OAASA,0DAAA,CAAA8C,OAAA,CAAAzB,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,aAAa,CAAC;IAAA,EAAC;IACtIf,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAFqDA,yDAAA,UAAA+C,aAAA,CAAmB;IACjF/C,wDAAA,GACJ;IADIA,iEAAA,MAAA+C,aAAA,CAAAxB,WAAA,MACJ;;;;;;IAEJvB,6DAAA,iBAC6C;IADXA,yDAAA,mBAAAgD,oFAAA;MAAAhD,4DAAA,CAAAiD,IAAA;MAAA,MAAAC,OAAA,GAAAlD,4DAAA;MAAA,OAASA,0DAAA,CAAAkD,OAAA,CAAAvB,gBAAA,CAAiB,WAAW,CAAC;IAAA,EAAC;IAErE3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;IAQ9BA,6DAAA,iBACgD;IAClCA,qDAAA,sBAAe;IAAAA,2DAAA,EAAW;;;;;;IAIpCA,6DAAA,qBAA6I;IAAlDA,yDAAA,mBAAAmD,4FAAApC,MAAA;MAAAf,4DAAA,CAAAoD,IAAA;MAAA,MAAAC,OAAA,GAAArD,4DAAA;MAAA,OAASA,0DAAA,CAAAqD,OAAA,CAAAhC,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,UAAU,CAAC;IAAA,EAAC;IACxIf,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAFwDA,yDAAA,UAAAsD,eAAA,CAAqB;IACtFtD,wDAAA,GACJ;IADIA,iEAAA,MAAAsD,eAAA,CAAA/B,WAAA,MACJ;;;;;;IAEJvB,6DAAA,iBAC+C;IADbA,yDAAA,mBAAAuD,oFAAA;MAAAvD,4DAAA,CAAAwD,IAAA;MAAA,MAAAC,OAAA,GAAAzD,4DAAA;MAAA,OAASA,0DAAA,CAAAyD,OAAA,CAAA9B,gBAAA,CAAiB,aAAa,CAAC;IAAA,EAAC;IAEvE3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;;IAvD1CA,6DAAA,eAAqD;IAG9BA,qDAAA,WAAI;IAAAA,2DAAA,EAAY;IAC3BA,6DAAA,gBACmE;IAA/DA,yDAAA,2BAAA0D,iFAAA3C,MAAA;MAAAf,4DAAA,CAAA2D,IAAA;MAAA,MAAAC,OAAA,GAAA5D,4DAAA;MAAA,OAAiBA,0DAAA,CAAA4D,OAAA,CAAAvC,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAC,gBAAgB,CAAC;IAAA,EAAC;IADlEf,2DAAA,EACmE;IACnEA,yDAAA,IAAA8D,0DAAA,qBAGS;IACb9D,2DAAA,EAAiB;IACjBA,6DAAA,yBAA4D;IAC7CA,qDAAA,0BAAc;IAAAA,2DAAA,EAAY;IACrCA,6DAAA,iBAC8D;IAA1DA,yDAAA,2BAAA+D,kFAAAhD,MAAA;MAAAf,4DAAA,CAAA2D,IAAA;MAAA,MAAAK,OAAA,GAAAhE,4DAAA;MAAA,OAAiBA,0DAAA,CAAAgE,OAAA,CAAA3C,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAC,WAAW,CAAC;IAAA,EAAC;IAD7Df,2DAAA,EAC8D;IAC9DA,yDAAA,KAAAiE,2DAAA,qBAGS;IACbjE,2DAAA,EAAiB;IACjBA,6DAAA,0BAA0D;IAC3CA,qDAAA,6BAAqB;IAAAA,2DAAA,EAAY;IAC5CA,6DAAA,iBAAwJ;IAA7DA,yDAAA,2BAAAkE,kFAAAnD,MAAA;MAAAf,4DAAA,CAAA2D,IAAA;MAAA,MAAAQ,OAAA,GAAAnE,4DAAA;MAAA,OAAiBA,0DAAA,CAAAmE,OAAA,CAAA9C,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,aAAa,CAAC;IAAA,EAAC;IAAvJf,2DAAA,EAAwJ;IACxJA,yDAAA,KAAAoE,2DAAA,qBAGS;IACTpE,6DAAA,gCACoC;IAChCA,yDAAA,KAAAqE,+DAAA,yBAEa;;IACjBrE,2DAAA,EAAmB;IACnBA,yDAAA,KAAAsE,2DAAA,qBAGS;IACbtE,2DAAA,EAAiB;IAErBA,6DAAA,eAA6C;IAE1BA,qDAAA,mBAAW;IAAAA,2DAAA,EAAY;IAClCA,6DAAA,iBAAyJ;IAA1DA,yDAAA,2BAAAuE,kFAAAxD,MAAA;MAAAf,4DAAA,CAAA2D,IAAA;MAAA,MAAAa,OAAA,GAAAxE,4DAAA;MAAA,OAAiBA,0DAAA,CAAAwE,OAAA,CAAAnD,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,UAAU,CAAC;IAAA,EAAC;IAAxJf,2DAAA,EAAyJ;IACzJA,yDAAA,KAAAyE,2DAAA,qBAGS;IACTzE,6DAAA,gCACoC;IAChCA,yDAAA,KAAA0E,+DAAA,yBAEa;;IACjB1E,2DAAA,EAAmB;IACnBA,yDAAA,KAAA2E,2DAAA,qBAGS;IACb3E,2DAAA,EAAiB;IACjBA,6DAAA,eAA2D;IAEnDA,wDAAA,wBAAuD;IACvDA,6DAAA,iBAAW;IAAAA,qDAAA,eAAO;IAAAA,2DAAA,EAAY;IAElCA,6DAAA,eAAyC;IACrCA,wDAAA,wBAA0D;IAC1DA,6DAAA,iBAAW;IAAAA,qDAAA,uBAAU;IAAAA,2DAAA,EAAY;IAErCA,6DAAA,eAAyC;IACrCA,wDAAA,wBAA8D;IAC9DA,6DAAA,iBAAW;IAAAA,qDAAA,8BAAiB;IAAAA,2DAAA,EAAY;IAGhDA,6DAAA,0BAA0D;IAC3CA,qDAAA,wBAAgB;IAAAA,2DAAA,EAAY;IACvCA,wDAAA,iBACsB;IAG1BA,2DAAA,EAAiB;;;;;;;IA9EIA,yDAAA,cAAA4E,OAAA,CAAAC,SAAA,CAAuB;IAOnC7E,wDAAA,GAA6C;IAA7CA,yDAAA,SAAA4E,OAAA,CAAAC,SAAA,CAAAC,GAAA,qBAAAC,KAAA,CAA6C;IAS7C/E,wDAAA,GAA2C;IAA3CA,yDAAA,SAAA4E,OAAA,CAAAC,SAAA,CAAAC,GAAA,mBAAAC,KAAA,CAA2C;IAMQ/E,wDAAA,GAAkC;IAAlCA,yDAAA,oBAAAgF,IAAA,CAAkC;IAErFhF,wDAAA,GAAuC;IAAvCA,yDAAA,UAAA4E,OAAA,CAAAC,SAAA,CAAAC,GAAA,cAAAC,KAAA,CAAuC;IAIxC/E,wDAAA,GAA+B;IAA/BA,yDAAA,gBAAA4E,OAAA,CAAAK,eAAA,CAA+B;IACGjF,wDAAA,GAA8B;IAA9BA,yDAAA,YAAAA,0DAAA,SAAA4E,OAAA,CAAAO,mBAAA,EAA8B;IAK/DnF,wDAAA,GAAsC;IAAtCA,yDAAA,SAAA4E,OAAA,CAAAC,SAAA,CAAAC,GAAA,cAAAC,KAAA,CAAsC;IAQe/E,wDAAA,GAAoC;IAApCA,yDAAA,oBAAAoF,IAAA,CAAoC;IAEzFpF,wDAAA,GAAyC;IAAzCA,yDAAA,UAAA4E,OAAA,CAAAC,SAAA,CAAAC,GAAA,gBAAAC,KAAA,CAAyC;IAI1C/E,wDAAA,GAA+B;IAA/BA,yDAAA,gBAAA4E,OAAA,CAAAK,eAAA,CAA+B;IACKjF,wDAAA,GAA+B;IAA/BA,yDAAA,YAAAA,0DAAA,SAAA4E,OAAA,CAAAS,oBAAA,EAA+B;IAKlErF,wDAAA,GAAwC;IAAxCA,yDAAA,SAAA4E,OAAA,CAAAC,SAAA,CAAAC,GAAA,gBAAAC,KAAA,CAAwC;IAoB7B/E,wDAAA,IAAgC;IAAhCA,yDAAA,kBAAAsF,IAAA,CAAgC,QAAAV,OAAA,CAAAW,OAAA;IAEfvF,wDAAA,GAAsB;IAAtBA,yDAAA,QAAAsF,IAAA,CAAsB;;;;;;IAgB3DtF,6DAAA,gBACgC;IAA5BA,yDAAA,mBAAAwF,0EAAA;MAAAxF,4DAAA,CAAAyF,IAAA;MAAAzF,4DAAA;MAAA,MAAA0F,IAAA,GAAA1F,0DAAA;MAAA,OAASA,0DAAA,CAAA0F,IAAA,CAAAE,KAAA,EAAiB;IAAA,EAAC;IAC3B5F,6DAAA,QAAG;IAAAA,qDAAA,GAAgB;IAAAA,2DAAA,EAAI;IAACA,qDAAA,oBAC5B;IAAAA,2DAAA,EAAQ;;;IADDA,wDAAA,GAAgB;IAAhBA,gEAAA,YAAgB;;;;;IAYXA,6DAAA,gBAA+D;IAAAA,qDAAA,GAC/B;IAAAA,2DAAA,EAAO;;;;;IADwBA,wDAAA,GAC/B;IAD+BA,iEAAA,KAAA8F,UAAA,CAAAC,IAAA,QAAAC,OAAA,CAAAC,WAAA,CAAAH,UAAA,CAAAI,IAAA,OAC/B;;;;;IAChClG,6DAAA,aACgD;IAC5CA,qDAAA,GACA;IAAAA,6DAAA,oBAAkC;IAAAA,qDAAA,kBAAW;IAAAA,2DAAA,EAAW;;;;;IAH3BA,oEAAA,SAAAoG,OAAA,CAAAC,OAAA,GAAAP,UAAA,CAAAC,IAAA,EAAA/F,4DAAA,CAAgC;IAE7DA,wDAAA,GACA;IADAA,iEAAA,MAAAoG,OAAA,CAAAG,kBAAA,CAAAT,UAAA,CAAAC,IAAA,OACA;;;;;;IAXZ/F,sEAAA,GAA8C;IAC1CA,6DAAA,cAEoE;IAGhEA,yDAAA,IAAAyG,sEAAA,mBACuC;IACvCzG,yDAAA,IAAA0G,mEAAA,gBAII;IAEJ1G,6DAAA,iBAAiE;IAAzCA,yDAAA,mBAAA2G,wFAAA;MAAA,MAAAC,WAAA,GAAA5G,4DAAA,CAAA6G,IAAA;MAAA,MAAAf,UAAA,GAAAc,WAAA,CAAAE,SAAA;MAAA,MAAAC,OAAA,GAAA/G,4DAAA;MAAA,OAASA,0DAAA,CAAA+G,OAAA,CAAAC,UAAA,CAAW,UAAU,EAAAlB,UAAA,CAAS;IAAA,EAAC;IAC5D9F,6DAAA,oBAA6B;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;IAGzDA,oEAAA,EAAe;;;;;IAjBNA,wDAAA,GAA6C;IAA7CA,yDAAA,CAAAmH,OAAA,CAAAC,cAAA,QAAAD,OAAA,CAAAE,aAAA,CAA6C;IAC9CrH,0DAAA,qBAAAmH,OAAA,CAAAC,cAAA,OAAgD;IAIzCpH,wDAAA,GAA4B;IAA5BA,yDAAA,UAAA8F,UAAA,CAAAyB,cAAA,CAA4B;IAE/BvH,wDAAA,GAA2B;IAA3BA,yDAAA,SAAA8F,UAAA,CAAAyB,cAAA,CAA2B;;;;;IAX3CvH,6DAAA,cAE0E;IACtEA,yDAAA,IAAAwH,+DAAA,2BAkBe;IACnBxH,2DAAA,EAAM;;;;IAnB+BA,wDAAA,GAAW;IAAXA,yDAAA,YAAAyH,OAAA,CAAAC,QAAA,CAAW;;;;;IAkCpC1H,6DAAA,sBACmB;IACnBA,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAFTA,yDAAA,UAAA2H,YAAA,CAAkB;IAClB3H,wDAAA,GACJ;IADIA,iEAAA,MAAA2H,YAAA,CAAAC,cAAA,SAAAD,YAAA,CAAApG,WAAA,MACJ;;;;;;IAEAvB,6DAAA,iBACuD;IADrBA,yDAAA,mBAAA6H,4EAAA;MAAA7H,4DAAA,CAAA8H,IAAA;MAAA,MAAAC,OAAA,GAAA/H,4DAAA;MAAA,OAASA,0DAAA,CAAA+H,OAAA,CAAApG,gBAAA,CAAiB,UAAU,CAAC;IAAA,EAAC;IAEpE3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;IAqBJA,6DAAA,aAAgD;IAAAA,qDAAA,GACnD;IAAAA,2DAAA,EAAI;;;;IAD+CA,wDAAA,GACnD;IADmDA,iEAAA,OAAAgI,MAAA,CAAAC,SAAA,OAAAD,MAAA,CAAAE,OAAA,MACnD;;;;;IAFvBlI,6DAAA,sBAAsF;IAClFA,qDAAA,GAAsB;IAAAA,yDAAA,IAAAmI,2DAAA,iBACC;IAC3BnI,2DAAA,EAAa;;;;IAHqCA,yDAAA,UAAAgI,MAAA,CAAAI,sBAAA,CAAmC;IACjFpI,wDAAA,GAAsB;IAAtBA,iEAAA,MAAAgI,MAAA,CAAAK,cAAA,MAAsB;IAAIrI,wDAAA,GAAuB;IAAvBA,yDAAA,SAAAgI,MAAA,CAAAC,SAAA,MAAuB;;;;;;IAUzDjI,6DAAA,iBACsD;IADpBA,yDAAA,mBAAAsI,4EAAA;MAAAtI,4DAAA,CAAAuI,IAAA;MAAA,MAAAC,OAAA,GAAAxI,4DAAA;MAAA,OAASA,0DAAA,CAAAwI,OAAA,CAAA7G,gBAAA,CAAiB,SAAS,CAAC;IAAA,EAAC;IAEnE3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;;IAgBtBA,6DAAA,iBAC4E;IAD1CA,yDAAA,mBAAAyI,4EAAA;MAAAzI,4DAAA,CAAA0I,IAAA;MAAA,MAAAC,OAAA,GAAA3I,4DAAA;MAAA,OAASA,0DAAA,CAAA2I,OAAA,CAAAhH,gBAAA,CAAiB,kBAAkB,CAAC;IAAA,EAAC;IAE5E3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;;IA2B9BA,6DAAA,iBACiF;IAD/CA,yDAAA,mBAAA4I,4EAAA;MAAA5I,4DAAA,CAAA6I,IAAA;MAAA,MAAAC,OAAA,GAAA9I,4DAAA;MAAA,OAASA,0DAAA,CAAA8I,OAAA,CAAAnH,gBAAA,CAAiB,uBAAuB,CAAC;IAAA,EAAC;IAEjF3B,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAW;;;;;IAyCtCA,6DAAA,cACuF;IACnFA,qDAAA,gBAAQ;IAAAA,2DAAA,EAAK;;;;IAFqBA,yDAAA,CAAA+I,OAAA,CAAA3B,cAAA,QAAA2B,OAAA,CAAA1B,aAAA,CAA6C;IAC/ErH,0DAAA,eAAA+I,OAAA,CAAA3B,cAAA,OAA0C;;;;;IAE9CpH,6DAAA,cAAmD;IAC/CA,qDAAA,GACJ;IAAAA,2DAAA,EAAK;;;;IADDA,wDAAA,GACJ;IADIA,iEAAA,MAAAgJ,SAAA,CAAAzH,WAAA,MACJ;;;;;IACAvB,wDAAA,cAAgE;;;;;IAGhEA,6DAAA,cACyE;IAAAA,qDAAA,uBAAgB;IAAAA,2DAAA,EAAK;;;;IADxDA,yDAAA,CAAAiJ,OAAA,CAAA7B,cAAA,QAAA6B,OAAA,CAAA5B,aAAA,CAA6C;IAC/ErH,0DAAA,eAAAiJ,OAAA,CAAA7B,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAwD;IACpDA,qDAAA,GACJ;IAAAA,2DAAA,EAAK;;;;IADDA,wDAAA,GACJ;IADIA,iEAAA,MAAAkJ,SAAA,CAAAb,cAAA,MACJ;;;;;IACArI,wDAAA,cAAgE;;;;;IAGhEA,6DAAA,cACyE;IAAAA,qDAAA,eAAQ;IAAAA,2DAAA,EAAK;;;;IADhDA,yDAAA,CAAAmJ,OAAA,CAAA/B,cAAA,QAAA+B,OAAA,CAAA9B,aAAA,CAA6C;IAC/ErH,0DAAA,eAAAmJ,OAAA,CAAA/B,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAoC;IAChCA,qDAAA,GACJ;IAAAA,2DAAA,EAAK;;;;IADDA,wDAAA,GACJ;IADIA,iEAAA,MAAAoJ,SAAA,CAAAC,QAAA,MACJ;;;;;IACArJ,wDAAA,cAAgE;;;;;IAGhEA,6DAAA,cACyE;IAAAA,qDAAA,sBAAe;IAAAA,2DAAA,EAAK;;;;IADvDA,yDAAA,CAAAsJ,OAAA,CAAAlC,cAAA,QAAAkC,OAAA,CAAAjC,aAAA,CAA6C;IAC/ErH,0DAAA,eAAAsJ,OAAA,CAAAlC,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAoC;IAC5BA,qDAAA,GAA6B;IAAAA,2DAAA,EAAI;;;;IAAjCA,wDAAA,GAA6B;IAA7BA,iEAAA,OAAAuJ,SAAA,CAAAC,gBAAA,MAA6B;;;;;IAErCxJ,6DAAA,cAA6E;IAAAA,qDAAA,YAAK;IAAAA,2DAAA,EAAK;;;;;IAGvFA,6DAAA,cACyE;IAAAA,qDAAA,iBAAU;IAAAA,2DAAA,EAAK;;;;IADlDA,yDAAA,CAAAyJ,QAAA,CAAArC,cAAA,QAAAqC,QAAA,CAAApC,aAAA,CAA6C;IAC/ErH,0DAAA,eAAAyJ,QAAA,CAAArC,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAoC;IAC7BA,qDAAA,GAA+B;IAAAA,2DAAA,EAAI;IAACA,qDAAA,GAC3C;IAAAA,2DAAA,EAAK;;;;IADEA,wDAAA,GAA+B;IAA/BA,iEAAA,MAAA0J,SAAA,CAAAC,kBAAA,MAA+B;IAAK3J,wDAAA,GAC3C;IAD2CA,iEAAA,OAAA0J,SAAA,CAAAE,qBAAA,QAC3C;;;;;IACA5J,6DAAA,cAA2D;IAACA,qDAAA,GAA+B;IAAAA,2DAAA,EAAK;;;;IAApCA,wDAAA,GAA+B;IAA/BA,iEAAA,OAAA6J,QAAA,CAAAC,OAAA,CAAAH,kBAAA,KAA+B;;;;;IAG3F3J,6DAAA,cACyE;IAAAA,qDAAA,oBAAa;IAAAA,2DAAA,EAAK;;;;IADrDA,yDAAA,CAAA+J,QAAA,CAAA3C,cAAA,QAAA2C,QAAA,CAAA1C,aAAA,CAA6C;IAC/ErH,0DAAA,eAAA+J,QAAA,CAAA3C,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAoC;IAC5BA,qDAAA,GAAkC;IAAAA,2DAAA,EAAI;IAACA,qDAAA,GAC/C;IAAAA,2DAAA,EAAK;;;;IADGA,wDAAA,GAAkC;IAAlCA,iEAAA,OAAAgK,SAAA,CAAAC,qBAAA,MAAkC;IAAKjK,wDAAA,GAC/C;IAD+CA,iEAAA,aAAAgK,SAAA,CAAAJ,qBAAA,QAC/C;;;;;IACA5J,6DAAA,cAA2D;IAACA,qDAAA,GAC5D;IAAAA,2DAAA,EAAK;;;;IADuDA,wDAAA,GAC5D;IAD4DA,iEAAA,OAAAkK,QAAA,CAAAJ,OAAA,CAAAG,qBAAA,MAC5D;;;;;IAGAjK,6DAAA,cACyE;IAAAA,qDAAA,UAAG;IAAAA,2DAAA,EAAK;;;;IAD3CA,yDAAA,CAAAmK,QAAA,CAAA/C,cAAA,QAAA+C,QAAA,CAAA9C,aAAA,CAA6C;IAC/ErH,0DAAA,eAAAmK,QAAA,CAAA/C,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAoC;IAC5BA,qDAAA,GAAwB;IAAAA,2DAAA,EAAI;;;;IAA5BA,wDAAA,GAAwB;IAAxBA,iEAAA,OAAAoK,SAAA,CAAAC,WAAA,MAAwB;;;;;IAEhCrK,6DAAA,cAA2D;IAACA,qDAAA,GAAwB;IAAAA,2DAAA,EAAK;;;;IAA7BA,wDAAA,GAAwB;IAAxBA,iEAAA,OAAAsK,QAAA,CAAAR,OAAA,CAAAO,WAAA,KAAwB;;;;;IAGpFrK,6DAAA,cACyE;IAAAA,qDAAA,eAAQ;IAAAA,2DAAA,EAAK;;;;IADhDA,yDAAA,CAAAuK,QAAA,CAAAnD,cAAA,QAAAmD,QAAA,CAAAlD,aAAA,CAA6C;IAC/ErH,0DAAA,eAAAuK,QAAA,CAAAnD,cAAA,OAA0C;;;;;IAC9CpH,6DAAA,cAAoC;IAC5BA,qDAAA,GAA6B;IAAAA,2DAAA,EAAI;;;;IAAjCA,wDAAA,GAA6B;IAA7BA,iEAAA,OAAAwK,SAAA,CAAAC,gBAAA,MAA6B;;;;;IAErCzK,6DAAA,cAA2D;IAACA,qDAAA,GAA6B;IAAAA,2DAAA,EAAK;;;;IAAlCA,wDAAA,GAA6B;IAA7BA,iEAAA,OAAA0K,QAAA,CAAAZ,OAAA,CAAAW,gBAAA,KAA6B;;;;;IAGzFzK,wDAAA,cAEK;;;;IAFiCA,yDAAA,CAAA2K,QAAA,CAAAvD,cAAA,QAAAuD,QAAA,CAAAtD,aAAA,CAA6C;IAC/ErH,0DAAA,eAAA2K,QAAA,CAAAvD,cAAA,OAA0C;;;;;;IAE9CpH,6DAAA,cAA0C;IACdA,yDAAA,mBAAA4K,kFAAA;MAAA,MAAAhE,WAAA,GAAA5G,4DAAA,CAAA6K,KAAA;MAAA,MAAAC,eAAA,GAAAlE,WAAA,CAAAE,SAAA;MAAA,MAAAiE,QAAA,GAAA/K,4DAAA;MAAA,OAASA,0DAAA,CAAA+K,QAAA,CAAAC,gBAAA,CAAAF,eAAA,CAA4B;IAAA,EAAC;IAC1D9K,6DAAA,oBAAuB;IAAAA,qDAAA,aAAM;IAAAA,2DAAA,EAAW;;;;;IAGhDA,wDAAA,cAAgE;;;;;IAEpEA,wDAAA,cAAiE;;;;;IACjEA,wDAAA,cAAyD;;;;;IACzDA,wDAAA,cAAiE;;;;;IAjFrEA,6DAAA,iBACoC;IAChCA,sEAAA,QAAsC;IAClCA,yDAAA,IAAAiL,wDAAA,kBAEiB;IACjBjL,yDAAA,IAAAkL,wDAAA,kBAEK;IACLlL,yDAAA,IAAAmL,wDAAA,kBAAgE;IACpEnL,oEAAA,EAAe;IACfA,sEAAA,QAA0C;IACtCA,yDAAA,IAAAoL,wDAAA,kBAC8F;IAC9FpL,yDAAA,IAAAqL,wDAAA,kBAEK;IACLrL,yDAAA,IAAAsL,wDAAA,kBAAgE;IACpEtL,oEAAA,EAAe;IACfA,sEAAA,QAAsC;IAClCA,yDAAA,KAAAuL,yDAAA,kBACsF;IACtFvL,yDAAA,KAAAwL,yDAAA,kBAEK;IACLxL,yDAAA,KAAAyL,yDAAA,kBAAgE;IACpEzL,oEAAA,EAAe;IACfA,sEAAA,SAAkE;IAC9DA,yDAAA,KAAA0L,yDAAA,kBAC6F;IAC7F1L,yDAAA,KAAA2L,yDAAA,kBAEK;IACL3L,yDAAA,KAAA4L,yDAAA,kBAAuF;IAC3F5L,oEAAA,EAAe;IACfA,sEAAA,SAAgD;IAC5CA,yDAAA,KAAA6L,yDAAA,kBACwF;IACxF7L,yDAAA,KAAA8L,yDAAA,kBAEK;IACL9L,yDAAA,KAAA+L,yDAAA,kBAAgG;IACpG/L,oEAAA,EAAe;IACfA,sEAAA,SAAmD;IAC/CA,yDAAA,KAAAgM,yDAAA,kBAC2F;IAC3FhM,yDAAA,KAAAiM,yDAAA,kBAEK;IACLjM,yDAAA,KAAAkM,yDAAA,kBACK;IACTlM,oEAAA,EAAe;IACfA,sEAAA,SAAyC;IACrCA,yDAAA,KAAAmM,yDAAA,kBACiF;IACjFnM,yDAAA,KAAAoM,yDAAA,kBAEK;IACLpM,yDAAA,KAAAqM,yDAAA,kBAAyF;IAC7FrM,oEAAA,EAAe;IACfA,sEAAA,SAA8C;IAC1CA,yDAAA,KAAAsM,yDAAA,kBACsF;IACtFtM,yDAAA,KAAAuM,yDAAA,kBAEK;IACLvM,yDAAA,KAAAwM,yDAAA,kBAA8F;IAClGxM,oEAAA,EAAe;IACfA,sEAAA,SAAsC;IAClCA,yDAAA,KAAAyM,yDAAA,kBAEK;IACLzM,yDAAA,KAAA0M,yDAAA,kBAIK;IACL1M,yDAAA,KAAA2M,yDAAA,kBAAgE;IACpE3M,oEAAA,EAAe;IACfA,yDAAA,KAAA4M,yDAAA,kBAAiE;IACjE5M,yDAAA,KAAA6M,yDAAA,kBAAyD;IACzD7M,yDAAA,KAAA8M,yDAAA,kBAAiE;IACrE9M,2DAAA,EAAQ;;;;IAlF6CA,yDAAA,eAAA+M,OAAA,CAAAC,UAAA,CAAyB;IA+EtDhN,wDAAA,IAA0B;IAA1BA,yDAAA,oBAAA+M,OAAA,CAAAE,OAAA,CAA0B;IACbjN,wDAAA,GAAiB;IAAjBA,yDAAA,qBAAA+M,OAAA,CAAAE,OAAA,CAAiB;IAC9BjN,wDAAA,GAA0B;IAA1BA,yDAAA,oBAAA+M,OAAA,CAAAE,OAAA,CAA0B;;;;;IAElDjN,6DAAA,eACmE;IAC9BA,qDAAA,sCAA0B;IAAAA,2DAAA,EAAI;;;;;;;;;IAxZ/EA,6DAAA,eAAuE;IAM5CA,qDAAA,qBAAc;IAAAA,2DAAA,EAAY;IACrCA,wDAAA,gBACsB;IAG1BA,2DAAA,EAAiB;IAEjBA,6DAAA,eAA0B;IAEPA,qDAAA,eAAO;IAAAA,2DAAA,EAAY;IAC9BA,6DAAA,iBAAiJ;IAA1DA,yDAAA,2BAAAkN,0EAAAnM,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAC,QAAA,GAAApN,4DAAA;MAAA,OAAiBA,0DAAA,CAAAoN,QAAA,CAAA/L,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,UAAU,CAAC;IAAA,EAAC;IAAhJf,2DAAA,EAAiJ;IACjJA,yDAAA,KAAAqN,mDAAA,qBAES;IACTrN,6DAAA,gCACoC;IAChCA,yDAAA,KAAAsN,uDAAA,yBAEa;;IACjBtN,2DAAA,EAAmB;IACnBA,yDAAA,KAAAuN,mDAAA,qBAGS;IACbvN,2DAAA,EAAiB;IACjBA,6DAAA,eAAoD;IAI5CA,yDAAA,mBAAAwN,mEAAA;MAAAxN,4DAAA,CAAAmN,KAAA;MAAA,MAAAM,QAAA,GAAAzN,4DAAA;MAAA,OAASA,0DAAA,CAAAyN,QAAA,CAAAC,kBAAA,EAAoB;IAAA,EAAC;IAC9B1N,6DAAA,EACuC;IADvCA,6DAAA,eACuC;IACnCA,wDAAA,gBAA+D;IACnEA,2DAAA,EAAM;IAKlBA,8DAAA,EAA0D;IAA1DA,6DAAA,0BAA0D;IAC3CA,qDAAA,gBAAQ;IAAAA,2DAAA,EAAY;IAC/BA,6DAAA,iBAA2J;IAAlEA,yDAAA,2BAAA6N,0EAAA9M,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAW,QAAA,GAAA9N,4DAAA;MAAA,OAAiBA,0DAAA,CAAA8N,QAAA,CAAAzM,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,kBAAkB,CAAC;IAAA,EAAC;IAA1Jf,2DAAA,EAA2J;IAC3JA,yDAAA,KAAA+N,mDAAA,qBAES;IACT/N,6DAAA,gCACoC;IAChCA,yDAAA,KAAAgO,uDAAA,yBAEa;;IACjBhO,2DAAA,EAAmB;IACnBA,yDAAA,KAAAiO,mDAAA,qBAGS;IACbjO,2DAAA,EAAiB;IAIrBA,yDAAA,KAAAkO,iDAAA,qBAgFO;IAGPlO,6DAAA,eAAyB;IAIbA,yDAAA,mBAAAmO,mEAAA;MAAAnO,4DAAA,CAAAmN,KAAA;MAAA,MAAAzH,IAAA,GAAA1F,0DAAA;MAAA,OAASA,0DAAA,CAAA0F,IAAA,CAAAE,KAAA,EAAiB;IAAA,EAAE;IAC5B5F,6DAAA,oBAAkD;IAAAA,qDAAA,mBAAW;IAAAA,2DAAA,EAAW;IAE5EA,6DAAA,qBACmD;IAA/CA,yDAAA,oBAAAoO,mEAAArN,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAkB,QAAA,GAAArO,4DAAA;MAAA,OAAUA,0DAAA,CAAAqO,QAAA,CAAAC,SAAA,CAAAvN,MAAA,EAAkB,CAAC,CAAC;IAAA,EAAC;IADnCf,2DAAA,EACmD;IACnDA,yDAAA,KAAAuO,kDAAA,oBAGQ;IAERvO,yDAAA,KAAAwO,gDAAA,kBAsBM;IACVxO,2DAAA,EAAM;IAKVA,6DAAA,gBAAyC;IAIdA,qDAAA,qBAAQ;IAAAA,2DAAA,EAAY;IAC/BA,6DAAA,iBAC4C;IAAxCA,yDAAA,2BAAAyO,0EAAA1N,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAuB,QAAA,GAAA1O,4DAAA;MAAA,OAAiBA,0DAAA,CAAA0O,QAAA,CAAArN,aAAA,CAAAN,MAAA,CAAqB;IAAA,EAAC;IAD3Cf,2DAAA,EAC4C;IAC5CA,6DAAA,gCACoC;IAChCA,yDAAA,KAAA2O,uDAAA,yBAGS;;IACb3O,2DAAA,EAAmB;IACnBA,yDAAA,KAAA4O,mDAAA,qBAGS;IACb5O,2DAAA,EAAiB;IAerBA,6DAAA,0BAA2D;IAC5CA,qDAAA,UAAE;IAAAA,2DAAA,EAAY;IACzBA,6DAAA,sBAAyF;IAA9CA,yDAAA,2BAAA6O,+EAAA9N,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAA2B,QAAA,GAAA9O,4DAAA;MAAA,OAAiBA,0DAAA,CAAA8O,QAAA,CAAAzN,aAAA;QAAA0N,EAAA,EAAAhO;MAAA,EAA2B;IAAA,EAAC;IACpFf,yDAAA,KAAAgP,uDAAA,yBAGa;IACjBhP,2DAAA,EAAa;IAGjBA,6DAAA,0BAA0D;IAC3CA,qDAAA,eAAO;IAAAA,2DAAA,EAAY;IAC9BA,6DAAA,iBAC8D;IAA1DA,yDAAA,2BAAAiP,0EAAAlO,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAA+B,QAAA,GAAAlP,4DAAA;MAAA,OAAiBA,0DAAA,CAAAkP,QAAA,CAAA7N,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,UAAU,CAAC;IAAA,EAAC;IAD7Df,2DAAA,EAC8D;IAC9DA,yDAAA,KAAAmP,mDAAA,qBAGS;IACbnP,2DAAA,EAAiB;IAEjBA,6DAAA,0BACsE;IAAlEA,yDAAA,2BAAAoP,mFAAArO,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAkC,QAAA,GAAArP,4DAAA;MAAA,OAAiBA,0DAAA,CAAAqP,QAAA,CAAAhO,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,kBAAkB,CAAC;IAAA,EAAC;IACjEf,6DAAA,iBAAW;IAAAA,qDAAA,gBAAQ;IAAAA,2DAAA,EAAY;IAC/BA,wDAAA,iBAAyD;IAC7DA,2DAAA,EAAiB;IAEjBA,6DAAA,eAA8D;IAE3CA,qDAAA,uBAAe;IAAAA,2DAAA,EAAY;IACtCA,6DAAA,eAA+B;IAEvBA,yDAAA,2BAAAsP,0EAAAvO,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAoC,QAAA,GAAAvP,4DAAA;MAAA,OAAiBA,0DAAA,CAAAuP,QAAA,CAAAlO,aAAA,CAAAN,MAAA,EAAsB,IAAI,EAAE,uBAAuB,CAAC;IAAA,EAAC;IAD1Ef,2DAAA,EAC6E;IAC7EA,yDAAA,KAAAwP,mDAAA,qBAGS;IACbxP,2DAAA,EAAM;IAENA,6DAAA,oBAA+C;IAAAA,qDAAA,kBAAU;IAAAA,2DAAA,EAAW;IAExEA,6DAAA,eAAkB;IAIVA,yDAAA,mBAAAyP,mEAAA;MAAAzP,4DAAA,CAAAmN,KAAA;MAAA,MAAAuC,QAAA,GAAA1P,4DAAA;MAAA,OAASA,0DAAA,CAAA0P,QAAA,CAAAC,sBAAA,EAAwB;IAAA,EAAC;IAClC3P,6DAAA,EACuC;IADvCA,6DAAA,eACuC;IACnCA,wDAAA,gBAEmB;IACvBA,2DAAA,EAAM;IAKlBA,8DAAA,EAA8D;IAA9DA,6DAAA,eAA8D;IAE3CA,qDAAA,yBAAY;IAAAA,2DAAA,EAAY;IACnCA,6DAAA,eAA+B;IAEvBA,yDAAA,2BAAA4P,0EAAA7O,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAA0C,QAAA,GAAA7P,4DAAA;MAAA,OAAiBA,0DAAA,CAAA6P,QAAA,CAAAC,QAAA,CAAA/O,MAAA,CAAgB;IAAA,EAAC;IADtCf,2DAAA,EACyC;IACzCA,yDAAA,KAAA+P,mDAAA,qBAGS;IACb/P,2DAAA,EAAM;IAGVA,6DAAA,eAAkB;IAIVA,yDAAA,mBAAAgQ,mEAAA;MAAAhQ,4DAAA,CAAAmN,KAAA;MAAA,MAAA8C,QAAA,GAAAjQ,4DAAA;MAAA,OAASA,0DAAA,CAAAiQ,QAAA,CAAAH,QAAA,EAAU;IAAA,EAAC;IACpB9P,6DAAA,EACuC;IADvCA,6DAAA,eACuC;IACnCA,wDAAA,gBAA+D;IACnEA,2DAAA,EAAM;IAS1BA,8DAAA,EAA6C;IAA7CA,6DAAA,eAA6C;IAErBA,yDAAA,mBAAAkQ,kEAAAnP,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAgD,QAAA,GAAAnQ,4DAAA;MAAA,OAASA,0DAAA,CAAAmQ,QAAA,CAAAC,WAAA,CAAArP,MAAA,CAAAsP,MAAA,CAAAtL,KAAA,CAAgC;IAAA,EAAC;IAA1D/E,2DAAA,EAC0J;IAC1JA,6DAAA,gBAAyE;IACrEA,6DAAA,EAAgG;IAAhGA,6DAAA,eAAgG;IAC5FA,wDAAA,iBAE0B;IAC9BA,2DAAA,EAAM;IAMlBA,8DAAA,EAAmF;IAAnFA,6DAAA,gBAAmF;IAC/EA,yDAAA,MAAAsQ,mDAAA,qBAkFQ;IACRtQ,yDAAA,MAAAuQ,iDAAA,kBAGM;IACVvQ,2DAAA,EAAM;IAENA,6DAAA,iBAAyB;IAGbA,yDAAA,2BAAAwQ,oFAAAzP,MAAA;MAAAf,4DAAA,CAAAmN,KAAA;MAAA,MAAAsD,QAAA,GAAAzQ,4DAAA;MAAA,OAAiBA,0DAAA,CAAAyQ,QAAA,CAAApP,aAAA,CAAAN,MAAA,EAAsB,IAAI,CAAC;IAAA,EAAC;IAC7Cf,6DAAA,kBAAW;IAAAA,qDAAA,oBAAW;IAAAA,2DAAA,EAAY;IAClCA,wDAAA,kBAA4E;IAChFA,2DAAA,EAAiB;;;;;;;;;IAlamBA,yDAAA,cAAA0Q,MAAA,CAAAC,IAAA,CAAkB;IAOtC3Q,wDAAA,GAAwB;IAAxBA,yDAAA,kBAAA4Q,GAAA,CAAwB,QAAAF,MAAA,CAAAG,OAAA,SAAAH,MAAA,CAAAnL,OAAA;IAEPvF,wDAAA,GAAc;IAAdA,yDAAA,QAAA4Q,GAAA,CAAc;IAOW5Q,wDAAA,GAAgC;IAAhCA,yDAAA,oBAAA8Q,GAAA,CAAgC;IACxB9Q,wDAAA,GAAgC;IAAhCA,yDAAA,UAAA0Q,MAAA,CAAAC,IAAA,CAAA7L,GAAA,YAAAC,KAAA,CAAgC;IAI1F/E,wDAAA,GAA+B;IAA/BA,yDAAA,gBAAA0Q,MAAA,CAAAzL,eAAA,CAA+B;IACCjF,wDAAA,GAA2B;IAA3BA,yDAAA,YAAAA,0DAAA,SAAA0Q,MAAA,CAAAK,gBAAA,EAA2B;IAK1D/Q,wDAAA,GAA+B;IAA/BA,yDAAA,SAAA0Q,MAAA,CAAAC,IAAA,CAAA7L,GAAA,YAAAC,KAAA,CAA+B;IAK5B/E,wDAAA,GAA6C;IAA7CA,yDAAA,CAAA0Q,MAAA,CAAAtJ,cAAA,QAAAsJ,MAAA,CAAArJ,aAAA,CAA6C;IAACrH,0DAAA,eAAA0Q,MAAA,CAAAtJ,cAAA,CAAmC;IActCpH,wDAAA,GAAiC;IAAjCA,yDAAA,oBAAAgR,IAAA,CAAiC;IAC1BhR,wDAAA,GAAiC;IAAjCA,yDAAA,UAAA0Q,MAAA,CAAAC,IAAA,CAAA7L,GAAA,aAAAC,KAAA,CAAiC;IAI3F/E,wDAAA,GAA+B;IAA/BA,yDAAA,gBAAA0Q,MAAA,CAAAzL,eAAA,CAA+B;IACEjF,wDAAA,GAA6B;IAA7BA,yDAAA,YAAAA,0DAAA,SAAA0Q,MAAA,CAAAO,kBAAA,EAA6B;IAK7DjR,wDAAA,GAAgC;IAAhCA,yDAAA,SAAA0Q,MAAA,CAAAC,IAAA,CAAA7L,GAAA,aAAAC,KAAA,CAAgC;IAOtC/E,wDAAA,GAAoB;IAApBA,yDAAA,SAAA0Q,MAAA,CAAAQ,cAAA,CAAoB;IAsFflR,wDAAA,GAA6C;IAA7CA,yDAAA,CAAA0Q,MAAA,CAAAtJ,cAAA,QAAAsJ,MAAA,CAAArJ,aAAA,CAA6C;IAACrH,0DAAA,qBAAA0Q,MAAA,CAAAtJ,cAAA,OAAgD;IAI5CpH,wDAAA,GAAyB;IAAzBA,yDAAA,WAAA0Q,MAAA,CAAAS,cAAA,CAAyB;IAEvEnR,wDAAA,GAA2B;IAA3BA,yDAAA,SAAA0Q,MAAA,CAAAhJ,QAAA,CAAA0J,MAAA,OAA2B;IAK7BpR,wDAAA,GAAyB;IAAzBA,yDAAA,SAAA0Q,MAAA,CAAAhJ,QAAA,CAAA0J,MAAA,KAAyB;IA4BjCpR,wDAAA,GAAkC;IAAlCA,yDAAA,cAAA0Q,MAAA,CAAAW,oBAAA,CAAkC;IAK+BrR,wDAAA,GAA6B;IAA7BA,yDAAA,oBAAAsR,IAAA,CAA6B;IAGhFtR,wDAAA,GAA+B;IAA/BA,yDAAA,gBAAA0Q,MAAA,CAAAa,eAAA,CAA+B;IACEvR,wDAAA,GAAqC;IAArCA,yDAAA,aAAAwR,QAAA,GAAAxR,0DAAA,SAAA0Q,MAAA,CAAAe,kBAAA,eAAAD,QAAA,KAAAE,SAAA,GAAAF,QAAA,GAAAxR,8DAAA,KAAA4R,GAAA,EAAqC;IAMrE5R,wDAAA,GAAgD;IAAhDA,yDAAA,SAAA0Q,MAAA,CAAAW,oBAAA,CAAAvM,GAAA,aAAAC,KAAA,CAAgD;IAqB1B/E,wDAAA,GAAqB;IAArBA,yDAAA,YAAA0Q,MAAA,CAAAmB,kBAAA,CAAqB;IAY/C7R,wDAAA,GAA+C;IAA/CA,yDAAA,SAAA0Q,MAAA,CAAAW,oBAAA,CAAAvM,GAAA,YAAAC,KAAA,CAA+C;IAkB1B/E,wDAAA,IAAwD;IAAxDA,yDAAA,SAAA0Q,MAAA,CAAAW,oBAAA,CAAAvM,GAAA,qBAAAC,KAAA,CAAwD;IAQtE/E,wDAAA,GAA6C;IAA7CA,yDAAA,CAAA0Q,MAAA,CAAAtJ,cAAA,QAAAsJ,MAAA,CAAArJ,aAAA,CAA6C;IAACrH,0DAAA,eAAA0Q,MAAA,CAAAtJ,cAAA,CAAmC;IAqBnEpH,wDAAA,GAA6D;IAA7DA,yDAAA,SAAA0Q,MAAA,CAAAW,oBAAA,CAAAvM,GAAA,0BAAAC,KAAA,CAA6D;IAO3E/E,wDAAA,GAA6C;IAA7CA,yDAAA,CAAA0Q,MAAA,CAAAtJ,cAAA,QAAAsJ,MAAA,CAAArJ,aAAA,CAA6C;IAACrH,0DAAA,eAAA0Q,MAAA,CAAAtJ,cAAA,CAAmC;IAgC7FpH,wDAAA,IAAiC;IAAjCA,yDAAA,SAAA0Q,MAAA,CAAA1D,UAAA,CAAA8E,IAAA,CAAAV,MAAA,MAAiC;IAmFnCpR,wDAAA,GAAkC;IAAlCA,yDAAA,SAAA0Q,MAAA,CAAA1D,UAAA,CAAA8E,IAAA,CAAAV,MAAA,OAAkC;IAMtCpR,wDAAA,GAAkB;IAAlBA,yDAAA,cAAA0Q,MAAA,CAAAC,IAAA,CAAkB;;;;;;IAYhC3Q,6DAAA,eAAwF;IAGjBA,yDAAA,mBAAA+R,iEAAA;MAAA/R,4DAAA,CAAAgS,KAAA;MAAA,MAAAC,QAAA,GAAAjS,4DAAA;MAAA,OAASA,0DAAA,CAAAiS,QAAA,CAAAC,QAAA,EAAU;IAAA,EAAC;IACnFlS,6DAAA,gBAA+C;IAAAA,qDAAA,cAAO;IAAAA,2DAAA,EAAO;;;;IAHvCA,wDAAA,GAA6C;IAA7CA,yDAAA,CAAAmS,MAAA,CAAA/K,cAAA,QAAA+K,MAAA,CAAA9K,aAAA,CAA6C;IACnErH,0DAAA,qBAAAmS,MAAA,CAAA/K,cAAA,OAAgD;;;ADna5D,MAOagL,yBAAyB;EAiFlCC,YACYC,eAA+B,EAC/BC,sBAA6C,EAC9CC,kBAAqC,EACrCC,KAAsB,EACtBC,OAAkB,EACjBC,QAAkB,EACnBC,SAAkD,EACjDC,MAAc,EACdC,KAAqB;IARrB,KAAAR,eAAe,GAAfA,eAAe;IACf,KAAAC,sBAAsB,GAAtBA,sBAAsB;IACvB,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,OAAO,GAAPA,OAAO;IACN,KAAAC,QAAQ,GAARA,QAAQ;IACT,KAAAC,SAAS,GAATA,SAAS;IACR,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IAtFV,KAAA9F,UAAU,GAA4B,IAAItN,wEAAkB,EAAE;IACrE,KAAAe,SAAS,GAAG,KAAK;IAKjB,KAAA4G,aAAa,GAAW,YAAY;IAC5B,KAAA0L,eAAe,GAAiB,IAAI/T,0CAAO,EAAO;IAC1D,KAAAgU,WAAW,GAAW,GAAG;IAGzB,KAAAC,gBAAgB,GAAG,CAAC;IACpB,KAAAC,cAAc,GAAG,IAAI;IACrB,KAAAC,eAAe,GAAY,KAAK;IAEf,KAAAC,kBAAkB,GAAuB,IAAI9U,wDAAY,EAAQ;IACjE,KAAA+U,mBAAmB,GAAuB,IAAI/U,wDAAY,EAAQ;IAUnF,KAAAgV,cAAc,GAAG,EAAE;IAKnB,KAAAzB,kBAAkB,GAAU,EAAE;IAC9B,KAAA0B,kBAAkB,GAAU,EAAE;IAE9B,KAAA9B,kBAAkB,GAAiC,IAAIlT,kDAAe,CAAC,EAAE,CAAC;IAI1E,KAAA0O,OAAO,GAAG,CAAC,UAAU,EAAE,cAAc,EAAE,UAAU,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,uBAAuB,EAAE,aAAa,EAAE,kBAAkB,EAAE,UAAU,CAAC;IACpK,KAAAuG,eAAe,GAAG,IAAI;IACb,KAAAC,WAAW,GAAG,EAAE;IAEzB,KAAA3J,OAAO,GAAG;MACNO,WAAW,EAAE,CAAC;MACdV,kBAAkB,EAAE,CAAC;MACrBM,qBAAqB,EAAE,CAAC;MACxBQ,gBAAgB,EAAE;KACrB;IAED,KAAAiJ,gBAAgB,GAAW,CAAC;IAI5B,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAC,MAAM,GAAY;MACdC,IAAI,EAAE,CAAC,CAAC;MACRC,KAAK,EAAE,CAAC;KACX;IAIS,KAAA3C,cAAc,GAAG,CACvB,MAAM,EACN,MAAM,EACN,MAAM,CACT;IACD,KAAA4C,aAAa,GAAW,EAAE;IAE1B,KAAAC,OAAO,GAA0B,IAAI;IACrC,KAAAtM,QAAQ,GAAG,EAAE;IACb,KAAAuM,cAAc,GAAW,EAAE;IAE3B,KAAAC,SAAS,GAAG,IAAI,CAACpB,KAAK,CAACqB,QAAQ,CAACC,QAAQ,CAACtP,GAAG,CAAC,SAAS,CAAC,GAAG,IAAI,GAAG,KAAK;IACtE,KAAAuP,OAAO,GAAGC,MAAM,CAAC,IAAI,CAACxB,KAAK,CAACqB,QAAQ,CAACC,QAAQ,CAACtP,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI;IAErE,KAAAuB,OAAO,GAAG,GAAGvG,0EAAoB,GAAG;IAahC,IAAI0U,MAAM,GAAG,IAAI,CAACN,SAAS,GAAG;MAAEO,YAAY,EAAE,IAAI;MAAED,MAAM,EAAE,6BAA6B,IAAI,CAACH,OAAO;IAAE,CAAE,GAAG;MAAEI,YAAY,EAAE,IAAI;MAAED,MAAM,EAAE;IAAwB,CAAE;IACpK,IAAI,CAAChC,kBAAkB,CAACkC,cAAc,CAACF,MAAM,CAAC;IAE9C,IAAI,CAACG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IAEpD;IACA,IAAI,CAACzC,eAAe,CAAC0C,QAAQ,CACxBC,IAAI,CAAC/V,gDAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,CAAC,CACrCmC,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAAC/N,cAAc,GAAG+N,OAAO,CAAC/N,cAAc;MAC5C,IAAI,CAACgO,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;MAChD,IAAI,CAAClE,cAAc,GAAGiE,OAAO,CAACjE,cAAc,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK;IACrE,CAAC,CAAC;IAEN;IACA,IAAI,CAACL,OAAO,GAAG,IAAI;IACnB;IACA,IAAI,CAACtL,OAAO,GAAG,IAAI8P,IAAI,EAAE;EAC7B;EAIA;EACAC,cAAcA,CAAA;IACV,IAAI,CAAC7C,KAAK,CAAC8C,UAAU,CAACL,SAAS,CAAC;MAC5BM,IAAI,EAAGC,MAAoB,IAAI;QAC3B,IAAI,CAAChV,SAAS,GAAG,IAAI;QACrB,IAAI,CAACF,YAAY,GAAG;UAChB,GAAGkV,MAAM;UACTC,UAAU,EAAE;SACf;QACD,IAAIC,IAAI,GAAG,CAAC;QACZtW,4CAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CACX4V,IAAI,CACDtW,+CAAQ,CAAC,MAAK;UACV,IAAI,CAAC8B,SAAS,GAAG,KAAK;UACtB,IAAI,CAACF,YAAY,GAAG,IAAI;QAC5B,CAAC,CAAC,EACFpB,gDAAS,CAAC,MAAMwW,IAAI,GAAG,CAAC,CAAC,EACzBzW,gDAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,EAC/B3T,0CAAG,CAAC,MAAOuW,IAAI,IAAI,CAAE,CAAC,CACzB,CACAT,SAAS,EAAE;MACpB;KACH,CAAC;EACN;EAEAU,QAAQA,CAAA;IACJ;IACA,IAAI,CAACtD,eAAe,CAACuD,UAAU,EAAE;IACjC,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACC,YAAY,EAAE;IAEnB;IACA,IAAI,CAAC1E,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACkR,YAAY,CAACf,IAAI,CACvDxW,mDAAY,CAAC,GAAG,CAAC;IAAG;IACpBC,2DAAoB,EAAE;IAAE;IACxBO,gDAAS,CAAE8F,KAAK,IAAI;MAChB,MAAMkR,UAAU,GAAG,OAAOlR,KAAK,KAAK,QAAQ,GAAGA,KAAK,CAACkR,UAAU,GAAG,IAAI;MACtE,MAAMC,UAAU,GAAG,OAAOnR,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAG,IAAI;MAC3D,OAAO,IAAI,CAACwN,sBAAsB,CAAC4D,YAAY,CAACF,UAAU,EAAEC,UAAU,CAAC,CAACjB,IAAI,CACxEzW,iDAAU,CAAC,MAAMM,yCAAE,CAAC;QAAEsX,IAAI,EAAE;MAAE,CAAE,CAAC,CAAC,CAAC;OACtC;IACL,CAAC,CAAC,CACL,CAAClB,SAAS,CAACmB,QAAQ,IAAG;MACnB,IAAI,CAAC5E,kBAAkB,CAAC+D,IAAI,CAACa,QAAQ,CAACD,IAAI,IAAI,EAAE,CAAC;IACrD,CAAC,CAAC;EACN;EAEAN,OAAOA,CAAA;IAEH,IAAI,CAACnF,IAAI,GAAG,IAAIpR,sDAAS,CAAC;MACtB+W,KAAK,EAAE,IAAIhX,wDAAW,CAAE,IAAI,CAACqT,QAAQ,CAAC4D,SAAS,CAAC,IAAIlB,IAAI,EAAE,EAAE,YAAY,CAAC,EAAG,CAAC7V,gEAAmB,CAAC,CAAC;MAClGiX,OAAO,EAAE,IAAInX,wDAAW,CAAE,EAAE,EAAG,CAACE,iEAAoB,CAAC,IAAI,CAACwT,WAAW,CAAC,CAAC,CAAC;MACxE2D,QAAQ,EAAE,IAAIrX,wDAAW,CAAE,EAAG,CAAC;MAC/BsX,6BAA6B,EAAE,IAAItX,wDAAW,CAAE,EAAG,CAAC;MACpDuX,WAAW,EAAE,IAAIvX,wDAAW,CAAC;QAAEyF,KAAK,EAAE,EAAE;QAAE+R,QAAQ,EAAE;MAAI,CAAE;KAC7D,CAAC;IAEF,IAAI,IAAI,CAAC5F,cAAc,EAAE;MACrB,IAAI,CAACrM,SAAS,GAAG,IAAItF,sDAAS,CAAC;QAC3BwX,gBAAgB,EAAE,IAAIzX,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;QAC5DwX,cAAc,EAAE,IAAI1X,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;QAC1DyX,SAAS,EAAE,IAAI3X,wDAAW,CAAC,EAAE,EAAEE,gEAAmB,CAAC;QACnD0X,WAAW,EAAE,IAAI5X,wDAAW,CAAC,EAAE,EAAEE,gEAAmB,CAAC;QACrD2X,UAAU,EAAE,IAAI7X,wDAAW,CAAC,KAAK,EAAEE,gEAAmB,CAAC;QACvD4X,OAAO,EAAE,IAAI9X,wDAAW,CAAC,KAAK,EAAEE,gEAAmB,CAAC;QACpD6X,cAAc,EAAE,IAAI/X,wDAAW,CAAC,KAAK,EAAEE,gEAAmB,CAAC;QAC3D8X,aAAa,EAAE,IAAIhY,wDAAW,CAAE,IAAI,CAACqT,QAAQ,CAAC4D,SAAS,CAAC,IAAIlB,IAAI,EAAE,EAAE,YAAY,CAAC,EAAG,CAAC7V,gEAAmB,CAAC;QACzG;OACH,CAAC;;;IAGN,IAAI,CAAC6R,oBAAoB,GAAG,IAAI9R,sDAAS,CAAC;MACtCgY,QAAQ,EAAE,IAAIjY,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;MACpDgY,YAAY,EAAE,IAAIlY,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;MACxDiY,OAAO,EAAE,IAAInY,wDAAW,CAAE,EAAG,CAAC;MAC9BkK,gBAAgB,EAAE,IAAIlK,wDAAW,CAAE,EAAE,EAAGE,gEAAmB,CAAC;MAC5D6J,QAAQ,EAAE,IAAI/J,wDAAW,CAAE,EAAE,EAAG,CAACE,gEAAmB,EAAEA,2DAAc,CAAC,CAAC,CAAC,CAAC,CAAC;MACzEoK,qBAAqB,EAAE,IAAItK,wDAAW,CAAE,EAAE,EAAGE,gEAAmB;KACnE,CAAC;IAEF,IAAI,CAACmY,oBAAoB,EAAE;EAC/B;EAEAC,oBAAoBA,CAAA;IAChB,IAAI,CAAC/E,MAAM,CAACgF,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;EACrC;EAEA;EACAC,WAAWA,CAAA,GACX;EAEA;;;;;;EAMAzW,aAAaA,CAACN,MAAM,EAAEgX,cAAwB,EAAEC,gBAAyB;IAErE,IAAIjX,MAAM,CAACkV,UAAU,EAAE;MACnB,IAAI,CAAC5E,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACmT,MAAM,EAAE;MACtD,IAAI,CAACC,4BAA4B,CAACnX,MAAM,CAACkV,UAAU,CAAC;MAEpD;MACA;MACAkC,UAAU,CAAC,MAAK;QACZ,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,6BAA6B,CAAqB;QAC/FF,aAAa,EAAEG,KAAK,EAAE;MAC1B,CAAC,EAAE,CAAC,CAAC;;IAGT,IAAIxX,MAAM,IAAIgX,cAAc,KAAK,IAAI,IAAIC,gBAAgB,EAAE;MACvD;MACA,IAAIjX,MAAM,YAAYyX,aAAa,EAAEzX,MAAM,CAAC0X,cAAc,EAAE;MAE5D;MACA;MACAN,UAAU,CAAC,MAAK;QACZ,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,oBAAoBN,gBAAgB,GAAG,CAAqB;QACzGI,aAAa,EAAEG,KAAK,EAAE;MAC1B,CAAC,EAAE,CAAC,CAAC;;EAEb;EAEA;;;EAGA5W,gBAAgBA,CAAC+W,KAAK;IAClB,IAAIA,KAAK,IAAI,eAAe,EAAE;MAC1B,IAAI,IAAI,CAAC/H,IAAI,CAAC7L,GAAG,CAAC4T,KAAK,CAAC,EAAE;QACtB,IAAI,CAAC/H,IAAI,CAAC7L,GAAG,CAAC4T,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;OACpC,MAAM,IAAI,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC4T,KAAK,CAAC,EAAE;QAC7C,IAAI,CAACrH,oBAAoB,CAACvM,GAAG,CAAC4T,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;OACpD,MAAM;QACH,IAAI,CAAC9T,SAAS,CAACC,GAAG,CAAC4T,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;;MAE1C,IAAI,CAACtX,aAAa,CAACqX,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC;;IAG7C,IAAIA,KAAK,KAAK,UAAU,EAAE;MACtB,IAAI,CAACrH,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAAC8T,OAAO,EAAE;MACvD,IAAI,CAACvH,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MAC1D,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MACtD,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;;IAG1D,IAAID,KAAK,KAAK,eAAe,EAAE;MAC3B,IAAI,CAACrH,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MACtD,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MAC1D,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MACtD,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,SAAS,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MACrD,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MAC9D,IAAI,CAACtH,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;;EAE3E;EAEA7I,QAAQA,CAAC/O,MAAsB;IAC3B,IAAIA,MAAM,EAAE8X,GAAG,KAAK,OAAO,EAAE;MACzB9X,MAAM,CAAC0X,cAAc,EAAE;;IAG3B,IAAI,CAAC,IAAI,CAACpH,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACC,KAAK,IAAI,CAAC,IAAI,CAACsM,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK,IAAI,CAAC,IAAI,CAACsM,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK,IAAI,CAAC,IAAI,CAACsM,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAACC,KAAK,IAAI,CAAC,IAAI,CAACsM,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACC,KAAK,EAAE;MAC3R,OAAO,IAAI,CAAC0N,KAAK,CAACqG,OAAO,CAAC,8DAA8D,CAAC;;IAG7F,IAAI,IAAI,CAACzH,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK,IAAI,CAAC,EAAE;MACtD,OAAO,IAAI,CAAC0N,KAAK,CAACqG,OAAO,CAAC,8CAA8C,CAAC;;IAG7E,IAAI,IAAI,CAACzH,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAACC,KAAK,IAAI,CAAC,EAAE;MAC9D,OAAO,IAAI,CAAC0N,KAAK,CAACqG,OAAO,CAAC,qDAAqD,CAAC;;IAGpF,IAAI,IAAI,CAACzH,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACC,KAAK,GAAG,CAAC,IAAI,IAAI,CAACsM,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACC,KAAK,GAAG,GAAG,EAAE;MACxI,OAAO,IAAI,CAAC0N,KAAK,CAACqG,OAAO,CAAC,oEAAoE,CAAC;;IAGnG,IAAI,CAAC,IAAI,CAACzH,oBAAoB,CAAC0H,KAAK,EAAE;MAClC,OAAO,IAAI,CAACtG,KAAK,CAACuG,KAAK,CAAC,2BAA2B,CAAC;KACvD,MAAM;MACH,IAAIC,yBAAyB,GAAG,IAAI,CAAC1F,kBAAkB,CAAC2F,IAAI,CAAEC,IAAgB,IAAKA,IAAI,CAAClD,UAAU,KAAK,IAAI,CAAC5E,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK,CAACkR,UAAU,IAAIkD,IAAI,CAAC/Q,sBAAsB,KAAK,IAAI,CAACiJ,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACC,KAAK,CAAC;MACzP,IAAIkU,yBAAyB,EAAE;QAC3B,IAAI,CAAC5H,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;QAC1D,OAAO,IAAI,CAAClG,KAAK,CAACqG,OAAO,CAAC,mEAAmE,CAAC;;MAGlG,IAAIvB,QAAQ,GAAoB;QAC5BtB,UAAU,EAAE,IAAI,CAAC5E,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK,CAACkR,UAAU;QACtEwB,OAAO,EAAE,IAAI,CAACpG,oBAAoB,CAACvM,GAAG,CAAC,SAAS,CAAC,CAACC,KAAK;QACvDsE,QAAQ,EAAE,IAAI,CAACgI,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK;QACzDqU,eAAe,EAAE,IAAI,CAAC/H,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAACC,KAAK;QACxE6E,qBAAqB,EAAE,IAAI,CAACyH,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACC,KAAK;QACnFqD,sBAAsB,EAAE,IAAI,CAACiJ,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACC;OACzE;MAED,IAAI,CAACsU,aAAa,CAAC9B,QAAQ,CAAC;;IAGhC;IACA,IAAI,CAAClG,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACwU,KAAK,CAAC;MAAEvU,KAAK,EAAE;IAAE,CAAE,CAAC;IAC9D,MAAMwU,aAAa,GAAGlB,QAAQ,CAACC,aAAa,CAAC,8BAA8B,CAAqB;IAChGiB,aAAa,EAAEhB,KAAK,EAAE;EAC1B;EAEArG,QAAQA,CAAA;IAEJ;IACA,IAAI,CAACxK,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC7I,GAAG,CAAEmV,OAAuB,IAAI;MAC1D,OAAO;QAAEzM,cAAc,EAAEyM,OAAO,CAACzM,cAAc,IAAI,IAAI;QAAExB,IAAI,EAAE,CAACiO,OAAO,CAACzM,cAAc,GAAG,+BAA+ByM,OAAO,CAACwF,MAAM,EAAE,GAAGxF,OAAO,CAACjO;MAAI,CAAE;IAC7J,CAAC,CAAC;IAEF;IACA,IAAI,CAACwN,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAAC1U,GAAG,CAAEsa,IAAgB,IAAI;MACvEA,IAAI,CAACM,aAAa,GAAGN,IAAI,CAAC1O,gBAAgB;MAC1C,OAAO0O,IAAI,CAAC1O,gBAAgB;MAC5B,OAAO0O,IAAI;IAEf,CAAC,CAAC;IAEF;IACA,MAAMO,sBAAsB,GAAG,IAAI,CAAC/G,QAAQ,CAAC4D,SAAS,CAAC,IAAI,CAAC5F,IAAI,CAAC7L,GAAG,CAAC,OAAO,CAAC,CAACC,KAAK,EAAE,YAAY,CAAC;IAElG,IAAI,IAAI,CAACmM,cAAc,EAAE;MACrB;MACA,MAAMyI,wBAAwB,GAAG,IAAI,CAAChH,QAAQ,CAAC4D,SAAS,CAAC,IAAI,CAAC1R,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC,CAACC,KAAK,EAAE,YAAY,CAAC;MAEjH,IAAI6U,IAAI,GAAG;QACPrY,WAAW,EAAE,IAAI,CAACsD,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAACC,KAAK;QACzD8U,SAAS,EAAE,IAAI,CAAChV,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAACC,KAAK;QACrD+U,WAAW,EAAEC,QAAQ,CAAC,IAAI,CAAClV,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC,CAACC,KAAK,CAAC+U,WAAW,CAAC;QACxEE,aAAa,EAAED,QAAQ,CAAC,IAAI,CAAClV,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC,CAACC,KAAK,CAACiV,aAAa,CAAC;QAC9E;QACA1C,aAAa,EAAEqC,wBAAwB;QACvCxC,UAAU,EAAE,IAAI,CAACtS,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC,CAACC,KAAK,GAAG,CAAC,GAAG,CAAC;QAC1DqS,OAAO,EAAE,IAAI,CAACvS,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC,CAACC,KAAK,GAAG,CAAC,GAAG,CAAC;QACpDsS,cAAc,EAAE,IAAI,CAACxS,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAACC,KAAK,GAAG,CAAC,GAAG;OACpE;;IAGL;IACA,MAAMkV,OAAO,GAAmC;MAC5CC,KAAK,EAAE;QACHC,SAAS,EAAEJ,QAAQ,CAAC,IAAI,CAACpJ,IAAI,CAAC7L,GAAG,CAAC,SAAS,CAAC,CAACC,KAAK,CAACqV,EAAE,CAAC;QACtDC,SAAS,EAAE,IAAI,CAAC1J,IAAI,CAAC7L,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK,CAACuV,MAAM;QACjDhE,KAAK,EAAEoD,sBAAsB;QAC7BD,aAAa,EAAE,IAAI,CAAC9I,IAAI,CAAC7L,GAAG,CAAC,aAAa,CAAC,CAACC,KAAK;QACjD4E,kBAAkB,EAAE,IAAI,CAACG,OAAO,CAACH,kBAAkB;QACnDM,qBAAqB,EAAE,IAAI,CAACH,OAAO,CAACG,qBAAqB;QACzDI,WAAW,EAAE,IAAI,CAACP,OAAO,CAACO,WAAW,CAACkQ,QAAQ,EAAE;QAChDC,oBAAoB,EAAE,IAAI,CAAC7J,IAAI,CAAC7L,GAAG,CAAC,+BAA+B,CAAC,CAACC,KAAK,GAAG,IAAI,CAAC4L,IAAI,CAAC7L,GAAG,CAAC,+BAA+B,CAAC,CAACC,KAAK,GAAG,CAAC;QACrI0V,iBAAiB,EAAE,IAAI,CAAC/G;OAC3B;MACDkG,IAAI,EAAE,IAAI,CAAC1I,cAAc,GAAG0I,IAAI,GAAG,IAAI;MACvCc,KAAK,EAAE,IAAI,CAACnH,kBAAkB;MAC9B7L,QAAQ,EAAE,IAAI,CAACA;KAClB;IAED,IAAI,IAAI,CAACwM,SAAS,EAAE;MAChB,IAAI,CAAC3B,sBAAsB,CAACoI,WAAW,CAAC,IAAI,CAACtG,OAAO,EAAE4F,OAAO,CAAC,CACzD/E,SAAS,CAAC;QACPM,IAAI,EAAG1D,IAAI,IAAI;UACX,IAAIA,IAAI,EAAE;YACN,IAAI,CAACuB,mBAAmB,CAACuH,IAAI,EAAE;YAC/B,IAAI,CAAChD,oBAAoB,EAAE;;QAEnC;OACH,CAAC;KACT,MAAM;MACH,IAAI,CAACrF,sBAAsB,CAACsI,SAAS,CAACZ,OAAO,CAAC,CACzC/E,SAAS,CAAC;QACPM,IAAI,EAAG1D,IAAI,IAAI;UACX,IAAIA,IAAI,EAAE;YACN,IAAI,CAACsB,kBAAkB,CAACwH,IAAI,EAAE;YAC9B,IAAI,CAAChD,oBAAoB,EAAE;;QAEnC;OACH,CAAC;;EAEd;EAEA;;;;EAIAjI,sBAAsBA,CAAA;IAClB,MAAMmL,oBAAoB,GAAG,IAAI,CAACzJ,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACC,KAAK;IAE5E,IAAI,CAAC+V,oBAAoB,EAAE;MACvB,OAAO,IAAI,CAACrI,KAAK,CAACuG,KAAK,CAAC,+BAA+B,CAAC;;IAG5D;IACA,IAAI,CAACtG,OAAO,CACPqI,IAAI,CAAClb,qGAAyB,EAAE;MAC7BiS,IAAI,EAAEgJ,oBAAoB;MAC1BE,UAAU,EAAE;KACf,CAAC,CACDC,WAAW,EAAE,CACb/F,SAAS,CAAC;MACPM,IAAI,EAAG1D,IAAoB,IAAI;QAC3B,IAAIA,IAAI,EAAE;UACN,IAAI,CAACT,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAAC6T,QAAQ,CAAC7G,IAAI,CAACoJ,MAAM,CAAC;UACvE;UACA,IAAI,CAACzI,KAAK,CAAC0I,OAAO,CAAC,+BAA+B,CAAC;;MAE3D,CAAC;MACDnC,KAAK,EAAGA,KAAK,IAAI;QACboC,OAAO,CAACpC,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;QAC7D,IAAI,CAACvG,KAAK,CAACuG,KAAK,CAAC,iDAAiD,CAAC;MACvE;KACH,CAAC;EACV;EAEAtL,kBAAkBA,CAAA;IACd;IACA,IAAI,CAACgF,OAAO,CACPqI,IAAI,CAAChb,6GAAa,EAAE;MACjBib,UAAU,EAAE;KACf,CAAC,CACDC,WAAW,EAAE,CACb/F,SAAS,CAAC;MACPM,IAAI,EAAG1D,IAAoB,IAAI;QAC3B,IAAIA,IAAI,EAAE;UACN,IAAI,CAACnB,IAAI,CAAC7L,GAAG,CAAC,SAAS,CAAC,CAAC6T,QAAQ,CAAC7G,IAAI,CAACoJ,MAAM,CAAC;UAC9C;UACA,IAAI,CAACzI,KAAK,CAAC0I,OAAO,CAAC,iCAAiC,CAAC;UACrD,IAAI,CAACE,WAAW,EAAE;;MAE1B,CAAC;MACDrC,KAAK,EAAGA,KAAK,IAAI;QACboC,OAAO,CAACpC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/C,IAAI,CAACvG,KAAK,CAACuG,KAAK,CAAC,mCAAmC,CAAC;MACzD;KACH,CAAC;EACV;EAEA;EAEA;;;;EAIMK,aAAaA,CAACF,IAAI;IAAA,IAAAmC,KAAA;IAAA,OAAAC,kIAAA;MACpB;MACA,MAAMC,SAAS,SAAgC5c,qDAAc,CAAC0c,KAAI,CAAC/I,sBAAsB,CAACkJ,YAAY,CAACtC,IAAI,CAAC,CAAC;MAE7G;MACA,IAAIqC,SAAS,CAACL,OAAO,EAAE;QACnB;QACA,IAAIO,UAAU,GAAe;UACzB,GAAGF,SAAS,CAACN;SAChB;QAEDI,KAAI,CAAC/H,kBAAkB,GAAG,CAACmI,UAAU,EAAE,GAAGJ,KAAI,CAAC/H,kBAAkB,CAAC,CAAC,CAAC;QACpE+H,KAAI,CAACtO,UAAU,GAAG,IAAItN,wEAAkB,CAAC4b,KAAI,CAAC/H,kBAAkB,CAAC,CAAC,CAAC;QAEnE;QACA+H,KAAI,CAAC3D,oBAAoB,EAAE;QAC3B2D,KAAI,CAACK,WAAW,EAAE;QAElBL,KAAI,CAAC3Z,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;QACxC2Z,KAAI,CAAC7I,KAAK,CAAC0I,OAAO,CAAC,4BAA4B,CAAC;OACnD,MAAM;QACH,OAAOG,KAAI,CAAC7I,KAAK,CAACuG,KAAK,CAAC,wCAAwC,CAAC;;IACpE;EACL;EAEA;;;;;;EAMAhO,gBAAgBA,CAACuM,QAAQ;IACrB,IAAI,CAAChE,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACK,MAAM,CAAEuF,IAAI,IAAI;MAAG,OAAOA,IAAI,KAAK5B,QAAQ;IAAC,CAAC,CAAC;IAChG,IAAI,CAACvK,UAAU,GAAG,IAAItN,wEAAkB,CAAC,IAAI,CAAC6T,kBAAkB,CAAC;IAEjE;IACA,IAAI,CAACoI,WAAW,EAAE;IAElB,IAAI,CAAClJ,KAAK,CAAC0I,OAAO,CAAC,8BAA8B,CAAC;EACtD;EAEA;EAEA;;;EAGMpF,YAAYA,CAAA;IAAA,IAAA6F,MAAA;IAAA,OAAAL,kIAAA;MACd,MAAMM,OAAO,CAACC,GAAG,CAAC,CACdF,MAAI,CAACzF,YAAY,EAAE,EACnByF,MAAI,CAACP,WAAW,EAAE,EAClBO,MAAI,CAACG,aAAa,EAAE,EACpBH,MAAI,CAAC1K,cAAc,GAAG0K,MAAI,CAACI,cAAc,EAAE,GAAGH,OAAO,CAACI,OAAO,EAAE,EAC/DL,MAAI,CAAC1K,cAAc,GAAG0K,MAAI,CAACM,eAAe,EAAE,GAAGL,OAAO,CAACI,OAAO,EAAE,EAChEL,MAAI,CAAC1H,SAAS,GAAG0H,MAAI,CAACO,aAAa,EAAE,GAAGN,OAAO,CAACI,OAAO,EAAE,CAC5D,CAAC,CAACG,IAAI,CAAC,MAAK;QACTR,MAAI,CAAC1I,cAAc,GAAG,KAAK;MAC/B,CAAC,CAAC;IAAA;EACN;EAEMiJ,aAAaA,CAAA;IAAA,IAAAE,MAAA;IAAA,OAAAd,kIAAA;MACf,MAAMe,KAAK,SAAS1d,qDAAc,CAACyd,MAAI,CAAC9J,sBAAsB,CAAC4J,aAAa,CAACE,MAAI,CAAChI,OAAO,CAAC,CAAC;MAC3F,IAAIwH,OAAO;QAAA,IAAAU,IAAA,GAAAhB,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1BI,MAAI,CAACnC,KAAK,GAAGoC,KAAK,CAAClG,IAAI,CAAC8D,KAAK;UAC7BmC,MAAI,CAAC9I,kBAAkB,GAAG+I,KAAK,CAAClG,IAAI,CAACsE,KAAK,CAAC7b,GAAG,CAAEsa,IAAgB,IAAI;YAChEA,IAAI,CAAC1O,gBAAgB,GAAG0O,IAAI,CAACM,aAAa;YAC1C,OAAON,IAAI;UACf,CAAC,CAAC;UAEFkD,MAAI,CAAC3U,QAAQ,GAAG4U,KAAK,CAAClG,IAAI,CAAC1O,QAAQ,CAAC7I,GAAG,CAAEsa,IAAoB,IAAI;YAC7D,OAAOA,IAAI;UACf,CAAC,CAAC;UAEFkD,MAAI,CAACzC,IAAI,GAAG0C,KAAK,CAAClG,IAAI,CAACwD,IAAI,IAAI,IAAI;UAEnCyC,MAAI,CAACrP,UAAU,GAAG,IAAItN,wEAAkB,CAAC2c,MAAI,CAAC9I,kBAAkB,CAAC,CAAC,CAAC;UAEnE;UACA8I,MAAI,CAAC1L,IAAI,CAAC6L,UAAU,CAAC;YACjBlG,KAAK,EAAE+F,MAAI,CAACnC,KAAK,CAAC5D,KAAK;YACvBG,OAAO,EAAE;cAAE2D,EAAE,EAAEiC,MAAI,CAACnC,KAAK,CAACC,SAAS;cAAE5Y,WAAW,EAAE8a,MAAI,CAACnC,KAAK,CAACuC;YAAmB,CAAE;YAClF9F,QAAQ,EAAE;cAAEyD,EAAE,EAAEiC,MAAI,CAACnC,KAAK,CAACG,SAAS;cAAE9Y,WAAW,EAAE8a,MAAI,CAACnC,KAAK,CAACwC;YAAmB,CAAE;YACnF9F,6BAA6B,EAAEtC,MAAM,CAAC+H,MAAI,CAACnC,KAAK,CAACM,oBAAoB,CAAC;YACtE3D,WAAW,EAAEwF,MAAI,CAACnC,KAAK,CAACyC;WAC3B,CAAC;UAEF,IAAIN,MAAI,CAACnL,cAAc,EAAE;YACrBmL,MAAI,CAACxX,SAAS,CAAC2X,UAAU,CAAC;cACtBzF,gBAAgB,EAAEsF,MAAI,CAACzC,IAAI,EAAErY,WAAW,IAAI,EAAE;cAC9CyV,cAAc,EAAEqF,MAAI,CAACzC,IAAI,EAAEC,SAAS,IAAI,EAAE;cAC1C5C,SAAS,EAAE;gBAAE6C,WAAW,EAAEuC,MAAI,CAACzC,IAAI,CAACE,WAAW;gBAAEvY,WAAW,EAAE8a,MAAI,CAACzC,IAAI,CAACgD;cAAqB,CAAE;cAC/F1F,WAAW,EAAE;gBAAEkD,EAAE,EAAEiC,MAAI,CAACzC,IAAI,CAACI,aAAa;gBAAEzY,WAAW,EAAE8a,MAAI,CAACzC,IAAI,CAACiD;cAAuB,CAAE;cAC5F1F,UAAU,EAAEkF,MAAI,CAACzC,IAAI,EAAEzC,UAAU,GAAG,IAAI,GAAG,KAAK;cAChDC,OAAO,EAAEiF,MAAI,CAACzC,IAAI,EAAExC,OAAO,GAAG,IAAI,GAAG,KAAK;cAC1CC,cAAc,EAAEgF,MAAI,CAACzC,IAAI,EAAEvC,cAAc,GAAG,IAAI,GAAG,KAAK;cACxDC,aAAa,EAAE+E,MAAI,CAAC1J,QAAQ,CAAC4D,SAAS,CAAC8F,MAAI,CAACzC,IAAI,EAAEtC,aAAa,EAAE,YAAY;cAC7E;aACH,CAAC;;;UAGN+E,MAAI,CAACV,WAAW,EAAE;UAElB;UACAU,MAAI,CAACnJ,cAAc,GAAG,KAAK;UAC3B+I,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAa,EAAA;UAAA,OAAAP,IAAA,CAAAQ,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEM3B,WAAWA,CAAC4B,MAAO;IAAA,IAAAC,MAAA;IAAA,OAAA3B,kIAAA;MACrB,MAAM4B,QAAQ,SAASve,qDAAc,CAACse,MAAI,CAAC3K,sBAAsB,CAAC8I,WAAW,CAAC4B,MAAM,CAAC,CAAC;MACtF,IAAIpB,OAAO;QAAA,IAAAuB,KAAA,GAAA7B,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1BiB,MAAI,CAACG,QAAQ,GAAGF,QAAQ,CAAC/G,IAAI;UAC7B8G,MAAI,CAACnM,gBAAgB,GAAGmM,MAAI,CAACvM,IAAI,CAAC7L,GAAG,CAAC,SAAS,CAAC,CAACkR,YAAY,CAACf,IAAI,CAC9DlW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAKmY,MAAI,CAACI,aAAa,CAACvY,KAAK,EAAE,UAAU,CAAC,CAAC,CACxD;UAED;UACAmY,MAAI,CAAChK,cAAc,GAAG,KAAK;UAC3B+I,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAsB,GAAA;UAAA,OAAAH,KAAA,CAAAL,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEMhB,cAAcA,CAACiB,MAAO;IAAA,IAAAO,MAAA;IAAA,OAAAjC,kIAAA;MACxB,MAAMkC,WAAW,SAAS7e,qDAAc,CAAC4e,MAAI,CAACjL,sBAAsB,CAACyJ,cAAc,EAAE,CAAC;MACtF,IAAIH,OAAO;QAAA,IAAA6B,KAAA,GAAAnC,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1BuB,MAAI,CAACG,WAAW,GAAGF,WAAW,CAACrH,IAAI;UACnCoH,MAAI,CAACrY,mBAAmB,GAAGqY,MAAI,CAAC3Y,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC,CAACkR,YAAY,CAACf,IAAI,CACxElW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAKyY,MAAI,CAACF,aAAa,CAACvY,KAAK,EAAE,aAAa,CAAC,CAAC,CAC3D;UAED;UACAyY,MAAI,CAACtK,cAAc,GAAG,KAAK;UAC3B+I,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAA2B,GAAA;UAAA,OAAAF,KAAA,CAAAX,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEMd,eAAeA,CAACe,MAAO;IAAA,IAAAY,MAAA;IAAA,OAAAtC,kIAAA;MACzB,MAAMuC,YAAY,SAASlf,qDAAc,CAACif,MAAI,CAACtL,sBAAsB,CAAC2J,eAAe,EAAE,CAAC;MACxF,IAAIL,OAAO;QAAA,IAAAkC,KAAA,GAAAxC,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1B4B,MAAI,CAACG,YAAY,GAAGF,YAAY,CAAC1H,IAAI;UACrCyH,MAAI,CAACxY,oBAAoB,GAAGwY,MAAI,CAAChZ,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC,CAACkR,YAAY,CAACf,IAAI,CAC3ElW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAK8Y,MAAI,CAACP,aAAa,CAACvY,KAAK,EAAE,cAAc,CAAC,CAAC,CAC5D;UAED;UACA8Y,MAAI,CAAC3K,cAAc,GAAG,KAAK;UAC3B+I,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAgC,GAAA;UAAA,OAAAF,KAAA,CAAAhB,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEMjB,aAAaA,CAACkB,MAAO;IAAA,IAAAiB,MAAA;IAAA,OAAA3C,kIAAA;MACvB,MAAM4C,UAAU,SAASvf,qDAAc,CAACsf,MAAI,CAAC3L,sBAAsB,CAACwJ,aAAa,CAACkB,MAAM,CAAC,CAAC;MAC1F,IAAIpB,OAAO;QAAA,IAAAuC,KAAA,GAAA7C,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1BiC,MAAI,CAACG,UAAU,GAAGF,UAAU,CAAC,MAAM,CAAC;UACpCD,MAAI,CAACjN,kBAAkB,GAAGiN,MAAI,CAACvN,IAAI,CAAC7L,GAAG,CAAC,UAAU,CAAC,CAACkR,YAAY,CAACf,IAAI,CACjElW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAKmZ,MAAI,CAACI,gBAAgB,CAACvZ,KAAK,CAAC,CAAC,CAC/C;UAED;UACAmZ,MAAI,CAAChL,cAAc,GAAG,KAAK;UAC3B+I,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAsC,GAAA;UAAA,OAAAH,KAAA,CAAArB,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEM7G,YAAYA,CAAA;IAAA,IAAAqI,MAAA;IAAA,OAAAjD,kIAAA;MACd,IAAI;QACA,MAAMkD,SAAS,SAAS7f,qDAAc,CAAC4f,MAAI,CAACjM,sBAAsB,CAAC4D,YAAY,EAAE,CAAC;QAClFqI,MAAI,CAACC,SAAS,GAAGA,SAAS,CAACrI,IAAI;QAC/BoI,MAAI,CAAClL,cAAc,GAAGkL,MAAI,CAACC,SAAS;QACpCD,MAAI,CAACnN,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACkR,YAAY,CAACf,IAAI,CACvDlW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAKyZ,MAAI,CAACE,gBAAgB,CAAC3Z,KAAK,IAAI,EAAE,CAAC,CAAC,CACrD,CAACmQ,SAAS,CAACyJ,QAAQ,IAAG;UACnBH,MAAI,CAAC/M,kBAAkB,CAAC+D,IAAI,CAACmJ,QAAQ,CAAC;QAC1C,CAAC,CAAC;OAEL,CAAC,OAAO3F,KAAK,EAAE;QACZoC,OAAO,CAACpC,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDwF,MAAI,CAAC/M,kBAAkB,CAAC+D,IAAI,CAAC,EAAE,CAAC;;IACnC;EACL;EAEM0C,4BAA4BA,CAACjC,UAAU;IAAA,IAAA2I,MAAA;IAAA,OAAArD,kIAAA;MACzC,MAAMsD,gBAAgB,SAASjgB,qDAAc,CAACggB,MAAI,CAACrM,sBAAsB,CAAC2F,4BAA4B,CAACjC,UAAU,CAAC,CAAC;MACnH,IAAI4F,OAAO;QAAA,IAAAiD,KAAA,GAAAvD,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1B,IAAI/T,OAAO,CAAC,CAAC;UACb0W,MAAI,CAAC/M,kBAAkB,GAAGgN,gBAAgB,CAACzI,IAAI,CAAC2I,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,MAAM,GAAGD,CAAC,CAACC,MAAM,CAAC,CAACrgB,GAAG,CAACsgB,MAAM,IAAG;YAC7F;YACAA,MAAM,CAACD,MAAM,GAAGE,UAAU,CAACD,MAAM,CAACD,MAAM,CAAC;YAEzC;YACA,IAAIC,MAAM,CAACD,MAAM,KAAK,CAAC,EAAE;cACrBhX,OAAO,GAAGiX,MAAM,CAACpQ,EAAE,CAACxN,WAAW;;YAGnC,OAAO;cAAE6G,sBAAsB,EAAE+W,MAAM,CAAC/W,sBAAsB;cAAEiX,cAAc,EAAEF,MAAM,CAACE,cAAc;cAAEhX,cAAc,EAAE8W,MAAM,CAACpQ,EAAE,CAACxN,WAAW;cAAE0G,SAAS,EAAEkX,MAAM,CAACD,MAAM;cAAEhX,OAAO,EAAEA;YAAO,CAAE;UAC9L,CAAC,CAAC;UAEF;UACA,IAAI0W,MAAI,CAAC/M,kBAAkB,CAACT,MAAM,GAAG,CAAC,EAAE;YACpCwN,MAAI,CAACvN,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAAC6T,QAAQ,CAACiG,MAAI,CAAC/M,kBAAkB,CAAC,CAAC,CAAC,CAACzJ,sBAAsB,CAAC;YACzGwW,MAAI,CAACvd,aAAa,CAAC;cAAE0N,EAAE,EAAE6P,MAAI,CAAC/M,kBAAkB,CAAC,CAAC,CAAC,CAACzJ;YAAsB,CAAE,CAAC;;UAEjF6T,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAqD,GAAA;UAAA,OAAAR,KAAA,CAAA/B,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEA;EAEA;;;;;EAKQ0B,gBAAgBA,CAAC3Z,KAAa;IAClC,MAAMwa,WAAW,GAAGxa,KAAK,CAACwV,QAAQ,EAAE,CAACiF,WAAW,EAAE;IAClD,OAAO,IAAI,CAAClM,cAAc,CAACM,MAAM,CAAC2D,QAAQ,IAAG;MACzC,MAAM3P,cAAc,GAAG2P,QAAQ,CAAC3P,cAAc,CAAC2S,QAAQ,EAAE,CAACiF,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC;MAC7F,MAAMhe,WAAW,GAAGgW,QAAQ,CAAChW,WAAW,CAACgZ,QAAQ,EAAE,CAACiF,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC;MACvF,OAAO3X,cAAc,IAAIrG,WAAW;IACxC,CAAC,CAAC;EACN;EAEQ+c,gBAAgBA,CAAC3H,QAAkB;IACvC,MAAM4I,WAAW,GAAG5I,QAAQ,CAAC4D,QAAQ,EAAE,CAACiF,WAAW,EAAE;IACrD,OAAO,IAAI,CAACnB,UAAU,CAACzK,MAAM,CAAC+C,QAAQ,IAAIA,QAAQ,CAAC1U,MAAM,CAACud,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC,CAAC;EAClG;EAEA;;;;;;EAMQjC,aAAaA,CAACnE,IAAqB,EAAEuG,KAAc;IACvD,MAAMH,WAAW,GAAGpG,IAAI,CAACoB,QAAQ,EAAE,CAACiF,WAAW,EAAE;IACjD,OAAO,IAAI,CAAC,GAAGE,KAAK,EAAE,CAAC,CAAC9L,MAAM,CAACuF,IAAI,IAAIA,IAAI,CAAC5X,WAAW,CAACie,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC,CAAC;EAChG;EAEA;EAEAta,eAAeA,CAACgY,MAAM;IAClB,IAAIA,MAAM,CAAC0C,WAAW,IAAI1C,MAAM,CAAC2C,WAAW,EAAE,OAAO3C,MAAM,GAAGA,MAAM,CAAC0C,WAAW,IAAI1C,MAAM,CAAC2C,WAAW,GAAG,EAAE;IAE3G,IAAI3C,MAAM,CAAC1b,WAAW,EAAE,OAAO0b,MAAM,GAAGA,MAAM,CAAC1b,WAAW,GAAG,EAAE;IAE/D,IAAI0b,MAAM,CAAC4C,IAAI,EAAE,OAAO5C,MAAM,GAAG,GAAGA,MAAM,CAAChb,MAAM,IAAIgb,MAAM,CAAC/a,QAAQ,EAAE,GAAG,EAAE;EAC/E;EAEA;;;;;EAKAqP,eAAeA,CAACgG,QAAmB;IAC/B,OAAOA,QAAQ,EAAEtB,UAAU,GAAG,GAAGsB,QAAQ,CAAC3P,cAAc,MAAM2P,QAAQ,CAAChW,WAAW,EAAE,GAAG,EAAE;EAC7F;EAEA;;;EAGAoW,oBAAoBA,CAAA;IAChB,IAAI,IAAI,CAACpE,kBAAkB,CAACnC,MAAM,KAAK,CAAC,EAAE;MACtC;MACA,IAAI,CAACC,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACgb,aAAa,CAACtgB,gEAAmB,CAAC;MAC5E,IAAI,CAAC6R,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACgb,aAAa,CAAC,CAACtgB,gEAAmB,EAAEA,2DAAc,CAAC,CAAC,CAAC,CAAC,CAAC;MACjG,IAAI,CAAC6R,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACgb,aAAa,CAACtgB,gEAAmB,CAAC;MAChF,IAAI,CAAC6R,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAACgb,aAAa,CAACtgB,gEAAmB,CAAC;MACpF,IAAI,CAAC6R,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACgb,aAAa,CAACtgB,gEAAmB,CAAC;KAC5F,MAAM;MACH;MACA,IAAI,CAAC6R,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACib,eAAe,EAAE;MAC3D,IAAI,CAAC1O,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACgb,aAAa,CAACtgB,2DAAc,CAAC,CAAC,CAAC,CAAC;MAC1E,IAAI,CAAC6R,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACib,eAAe,EAAE;MAC/D,IAAI,CAAC1O,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAACib,eAAe,EAAE;MACnE,IAAI,CAAC1O,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACib,eAAe,EAAE;;IAG5E;IACA,IAAI,CAAC1O,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACkb,sBAAsB,EAAE;IAClE,IAAI,CAAC3O,oBAAoB,CAACvM,GAAG,CAAC,UAAU,CAAC,CAACkb,sBAAsB,EAAE;IAClE,IAAI,CAAC3O,oBAAoB,CAACvM,GAAG,CAAC,cAAc,CAAC,CAACkb,sBAAsB,EAAE;IACtE,IAAI,CAAC3O,oBAAoB,CAACvM,GAAG,CAAC,kBAAkB,CAAC,CAACkb,sBAAsB,EAAE;IAC1E,IAAI,CAAC3O,oBAAoB,CAACvM,GAAG,CAAC,uBAAuB,CAAC,CAACkb,sBAAsB,EAAE;EACnF;EAEA;;;EAGArE,WAAWA,CAAA;IACP,MAAMhS,kBAAkB,GAAG,IAAI,CAAC4J,kBAAkB,CAAC0M,MAAM,CAAC,CAACC,GAAG,EAAE/G,IAAI,KAAI;MACpE,MAAMxP,kBAAkB,GAAG2K,MAAM,CAAC6E,IAAI,CAACxP,kBAAkB,CAAC,IAAI,CAAC;MAC/D,OAAOuW,GAAG,GAAGvW,kBAAkB;IACnC,CAAC,EAAE,CAAC,CAAC;IAEL,MAAMM,qBAAqB,GAAG,IAAI,CAACsJ,kBAAkB,CAAC0M,MAAM,CAAC,CAACC,GAAG,EAAE/G,IAAI,KAAI;MACvE,MAAMlP,qBAAqB,GAAGqK,MAAM,CAAC6E,IAAI,CAAClP,qBAAqB,CAAC,IAAI,CAAC;MACrE,OAAOiW,GAAG,GAAGjW,qBAAqB;IACtC,CAAC,EAAE,CAAC,CAAC;IAEL,MAAMI,WAAW,GAAG,IAAI,CAACkJ,kBAAkB,CAAC0M,MAAM,CAAC,CAACC,GAAG,EAAE/G,IAAI,KAAI;MAC7D,MAAM9O,WAAW,GAAGiK,MAAM,CAAC6E,IAAI,CAAC9O,WAAW,CAAC,IAAI,CAAC;MACjD,OAAO6V,GAAG,GAAG7V,WAAW;IAC5B,CAAC,EAAE,CAAC,CAAC;IAEL,MAAMI,gBAAgB,GAAG,IAAI,CAAC8I,kBAAkB,CAAC0M,MAAM,CAAC,CAACC,GAAG,EAAE/G,IAAI,KAAI;MAClE,MAAM1O,gBAAgB,GAAG6J,MAAM,CAAC6E,IAAI,CAAC1O,gBAAgB,CAAC,IAAI,CAAC;MAC3D,OAAOyV,GAAG,GAAGzV,gBAAgB;IACjC,CAAC,EAAE,CAAC,CAAC;IAEL,MAAMoM,WAAW,GAAG,IAAI,CAACtD,kBAAkB,CAAC0M,MAAM,CAAC,CAACC,GAAG,EAAE/G,IAAI,KAAI;MAC7D,MAAMgH,QAAQ,GAAG7L,MAAM,CAAC6E,IAAI,CAAC1O,gBAAgB,CAAC,IAAI,CAAC;MACnD,OAAOyV,GAAG,GAAGC,QAAQ;IACzB,CAAC,EAAE,CAAC,CAAC;IAEL,IAAI,CAACrW,OAAO,GAAG;MACXO,WAAW,EAAE+U,UAAU,CAAE/U,WAAW,CAAE+V,OAAO,CAAC,CAAC,CAAC,CAAC;MACjDzW,kBAAkB,EAAEyV,UAAU,CAAEzV,kBAAkB,CAAEyW,OAAO,CAAC,CAAC,CAAC,CAAC;MAC/DnW,qBAAqB,EAAEmV,UAAU,CAAEnV,qBAAqB,CAAEmW,OAAO,CAAC,CAAC,CAAC,CAAC;MACrE3V,gBAAgB,EAAE2U,UAAU,CAAE3U,gBAAgB,CAAE2V,OAAO,CAAC,CAAC,CAAC;KAC7D;IAED,IAAI,CAACzP,IAAI,CAAC7L,GAAG,CAAC,aAAa,CAAC,EAAE6T,QAAQ,CAAC9B,WAAW,EAAE;MAAEwJ,SAAS,EAAE;IAAK,CAAE,CAAC;EAC7E;EAEA;;;;EAIAC,eAAeA,CAAC1J,6BAA6B;IACzC,IAAI,CAAC+E,WAAW,EAAE;IAElB,IAAI,CAAC7R,OAAO,CAACH,kBAAkB,GAAG,IAAI,CAAC4W,iBAAiB,CAAC,IAAI,CAACzW,OAAO,CAACH,kBAAkB,EAAEiN,6BAA6B,CAAC;IACxH,IAAI,CAAC9M,OAAO,CAACG,qBAAqB,GAAG,IAAI,CAACsW,iBAAiB,CAAC,IAAI,CAACzW,OAAO,CAACG,qBAAqB,EAAE2M,6BAA6B,CAAC;IAC9H,IAAI,CAAC9M,OAAO,CAACW,gBAAgB,GAAG,IAAI,CAAC8V,iBAAiB,CAAC,IAAI,CAACzW,OAAO,CAACW,gBAAgB,EAAEmM,6BAA6B,CAAC;IACpH,IAAI,CAAC9M,OAAO,CAACO,WAAW,GAAG,IAAI,CAACkW,iBAAiB,CAAC,IAAI,CAACzW,OAAO,CAACO,WAAW,EAAEuM,6BAA6B,CAAC;IAE1G;IACA,MAAMC,WAAW,GAAG,IAAI,CAAClG,IAAI,CAAC7L,GAAG,CAAC,aAAa,CAAC,CAACC,KAAK;IACtD;IACA,MAAMyb,UAAU,GAAG,IAAI,CAACD,iBAAiB,CAAC1J,WAAW,EAAED,6BAA6B,CAAC;IAErF;IACA,IAAI,CAACjG,IAAI,CAAC7L,GAAG,CAAC,aAAa,CAAC,EAAE6T,QAAQ,CAAC6H,UAAU,IAAI,CAAC,GAAGA,UAAU,GAAG,IAAI,CAAC7E,WAAW,EAAE,CAAC,CAAC,CAAC;EAC/F;EAEA;;;;;;EAMA4E,iBAAiBA,CAAC5D,KAAa,EAAEnC,oBAA4B;IACzD,MAAMiG,SAAS,GAAI9D,KAAK,GAAGnC,oBAAoB,GAAI,GAAG;IACtD,IAAI,CAAC9G,gBAAgB,GAAG+M,SAAS;IAEjC,OAAOrB,UAAU,CAAC,CAACzC,KAAK,GAAG8D,SAAS,EAAEL,OAAO,CAAC,CAAC,CAAC,CAAC;EACrD;EAEA;;;;EAIAhQ,WAAWA,CAACmP,WAAmB;IAC3B,IAAI,CAACvS,UAAU,CAAC4G,MAAM,GAAG2L,WAAW,CAACmB,IAAI,EAAE,CAAClB,WAAW,EAAE;EAC7D;EAEA;;;;EAIAmB,WAAWA,CAAC5f,MAAM;IACd,MAAM2X,KAAK,GAAG3X,MAAM,CAACsP,MAA0B;IAC/C,MAAMuQ,KAAK,GAAGlI,KAAK,EAAE3T,KAAK;IAE1B;IACA,IAAI,CAAC6b,KAAK,IAAIA,KAAK,KAAK,EAAE,EAAE;MACxB;MACA,IAAI,CAACjQ,IAAI,CAAC7L,GAAG,CAAC,+BAA+B,CAAC,CAAC6T,QAAQ,CAACrE,MAAM,CAAC,IAAI,CAAC4F,KAAK,EAAEM,oBAAoB,CAAC,CAAC;;EAEzG;EAEA;;;;;EAKAlM,SAASA,CAACvN,MAAa,EAAE8f,WAAmB;IACxC,MAAMC,WAAW,GAAI/f,MAAM,CAACsP,MAA2B,CAAC0Q,KAAK,CAAC,CAAC,CAAC;IAEhE,IAAI7a,IAAI,GAAG8a,IAAI,CAACC,KAAK,CAACH,WAAW,CAAC5a,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;IAChD,IAAIgb,cAAc,GAAGJ,WAAW,CAACK,IAAI,CAAC,CAAC;IACvC,IAAIC,iBAAiB,GAAGF,cAAc,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,CAAC,CAAC;IAEzD,IAAI,CAACC,SAAS,CAACT,WAAW,CAAC,CAAC1E,IAAI,CAAEoF,iBAAiB,IAAI;MACnD;MACA,IAAI,CAAC,IAAI,CAACrQ,cAAc,CAACsO,QAAQ,CAAC,GAAG,GAAG2B,iBAAiB,CAAC,EAAE;QACxD,OAAO,IAAI,CAAC3O,KAAK,CAACgP,IAAI,CAAC,iCAAiC,CAAC;;MAG7D;MACA,IAAI3P,IAAI,GAAG;QACP0H,MAAM,EAAEgI,iBAAiB,CAACjH,QAAQ,EAAE,CAAC8G,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxDtb,IAAI,EAAEmb,cAAc;QACpBhb,IAAI,EAAEA,IAAI;QACVwb,SAAS,EAAEN;OACd;MAED;MACA,IAAIP,WAAW,KAAK,CAAC,EAAE;QACnB;QACA,IAAI,CAACnZ,QAAQ,GAAG,CAACoK,IAAI,EAAE,GAAG,IAAI,CAACpK,QAAQ,CAAC;;IAEhD,CAAC,CAAC;EACN;EAEM6Z,SAASA,CAACI,IAAS;IAAA,OAAApG,kIAAA;MACrB,OAAO,IAAIM,OAAO,CAAC,CAACI,OAAO,EAAE2F,MAAM,KAAI;QACnC,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;QAC/BD,MAAM,CAACE,aAAa,CAACJ,IAAI,CAAC;QAC1BE,MAAM,CAACG,MAAM,GAAG,MAAM/F,OAAO,CAAC4F,MAAM,CAAC3G,MAAM,CAAC;QAC5C2G,MAAM,CAACI,OAAO,GAAGjJ,KAAK,IAAI4I,MAAM,CAAC5I,KAAK,CAAC;MAC3C,CAAC,CAAC;IAAC;EACP;EAEAzS,kBAAkBA,CAAC2b,GAAW;IAC1B;IACA,MAAMC,KAAK,GAAGD,GAAG,CAACb,KAAK,CAAC,GAAG,CAAC;IAC5B;IACA,MAAMe,QAAQ,GAAGD,KAAK,CAACA,KAAK,CAAC/Q,MAAM,GAAG,CAAC,CAAC;IACxC,OAAOgR,QAAQ;EACnB;EAEAnc,WAAWA,CAACC,IAAY;IACpB,MAAMmc,KAAK,GAAGnc,IAAI;IAClB,MAAMoc,SAAS,GAAGD,KAAK,GAAG,IAAI;IAC9B,IAAIC,SAAS,GAAG,IAAI,EAAE;MAClB,OAAOA,SAAS,CAAClC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;KACtC,MAAM;MACH,MAAMmC,SAAS,GAAGD,SAAS,GAAG,IAAI;MAClC,OAAOC,SAAS,CAACnC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;;EAE3C;EAEAoC,YAAYA,CAACb,IAAU;IACnB,OAAOA,IAAI,CAACR,IAAI,GAAG,IAAI,GAAG,IAAI,CAAClb,WAAW,CAAC0b,IAAI,CAACzb,IAAI,CAAC,GAAG,GAAG;EAC/D;EAEA;;;;;EAKAc,UAAUA,CAAC6M,IAAY,EAAE8N,IAAS;IAC9B,QAAQ9N,IAAI;MACR;MACA,KAAK,UAAU;QACX;UACI,IAAI,CAACnM,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACkM,MAAM,CAAEI,OAAO,IAAKA,OAAO,CAACjO,IAAI,CAACyZ,WAAW,EAAE,IAAImC,IAAI,CAAC5b,IAAI,CAACyZ,WAAW,EAAE,CAAC;;QAE5G;MAEJ;QAAS;UACLpE,OAAO,CAACpC,KAAK,CAAC,wCAAwC,CAAC;;;EAGnE;;AA75BS5G,yBAAyB;mBAAzBA,yBAAyB,EAAApS,gEAAA,CAAA0iB,+EAAA,GAAA1iB,gEAAA,CAAA4iB,kFAAA,GAAA5iB,gEAAA,CAAA8iB,iGAAA,GAAA9iB,gEAAA,CAAAgjB,8EAAA,GAAAhjB,gEAAA,CAAAkjB,gEAAA,GAAAljB,gEAAA,CAAAojB,sDAAA,GAAApjB,gEAAA,CAAAkjB,mEAAA,GAAAljB,gEAAA,CAAAujB,oDAAA,GAAAvjB,gEAAA,CAAAujB,4DAAA;AAAA;AAAzBnR,yBAAyB;QAAzBA,yBAAyB;EAAAsR,SAAA;EAAAC,SAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;iEAgHvBpkB,8GAAsB;;;;;;;;;;;;;;+EAnHtB,CAAC;IAAEskB,OAAO,EAAEpkB,qEAAgB;IAAEqkB,QAAQ,EAAEpkB,0EAAeA;EAAA,CAAE,CAAC;EAAAqkB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,mCAAAR,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC/BzE7jB,6DAAA,aAAuE;MAK3DA,yDAAA,mBAAAskB,2DAAA;QAAA,OAASR,GAAA,CAAAlM,oBAAA,EAAsB;MAAA,EAAC;MAChC5X,wDAAA,kBAAmG;MACnGA,6DAAA,cAAkD;MAAAA,qDAAA,aAAM;MAAAA,2DAAA,EAAO;MAKvEA,yDAAA,IAAAukB,sDAAA,+BAA8D;MAG9DvkB,yDAAA,IAAAwkB,+CAAA,wBAGa;MAEbxkB,yDAAA,IAAAykB,yCAAA,qBAsaO;MAEPzkB,yDAAA,IAAA0kB,wCAAA,iBAMM;MACV1kB,2DAAA,EAAM;;;MAjcUA,wDAAA,GAA6C;MAA7CA,yDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,0DAAA,WAAA8jB,GAAA,CAAA1c,cAAA,OAAsC,UAAA0c,GAAA,CAAA1c,cAAA;MAI3CpH,wDAAA,GAA0C;MAA1CA,yDAAA,2CAA0C;MAM3EA,wDAAA,GAAoB;MAApBA,yDAAA,SAAA8jB,GAAA,CAAA5Q,cAAA,CAAoB;MAIiBlT,wDAAA,GAAe;MAAfA,yDAAA,SAAA8jB,GAAA,CAAArjB,SAAA,CAAe;MAIjET,wDAAA,GAAqB;MAArBA,yDAAA,UAAA8jB,GAAA,CAAA5Q,cAAA,CAAqB;MAwatBlT,wDAAA,GAAqB;MAArBA,yDAAA,UAAA8jB,GAAA,CAAA5Q,cAAA,CAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxb6D;AAG/C;AAKU;AAC6C;;;;;;;;;;;AAEpG,MAKayR,0BAA0B;EAwBnCtS,YACYC,eAA+B,EAC/BO,MAAc,EACfL,kBAAqC,EACpCoS,cAA6B,EAC7BC,YAA6B,EAC9BnS,OAAkB,EACjBI,KAAqB;IANrB,KAAAR,eAAe,GAAfA,eAAe;IACf,KAAAO,MAAM,GAANA,MAAM;IACP,KAAAL,kBAAkB,GAAlBA,kBAAkB;IACjB,KAAAoS,cAAc,GAAdA,cAAc;IACd,KAAAC,YAAY,GAAZA,YAAY;IACb,KAAAnS,OAAO,GAAPA,OAAO;IACN,KAAAI,KAAK,GAALA,KAAK;IA5BjB,KAAAgS,iBAAiB,GAA0B,EAAE;IAC7C,KAAAC,OAAO,GAAG,CAAC,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,aAAa,EAAE,mBAAmB,EAAE,eAAe,CAAC;IAC/G,KAAA9X,OAAO,GAAG,CAAC,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,aAAa,EAAE,mBAAmB,EAAE,eAAe,CAAC;IACjH,KAAA+X,aAAa,GAAG,CAAC,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,aAAa,EAAE,mBAAmB,EAAE,eAAe,CAAC;IACvH,KAAAC,WAAW,GAAG,CAAC,OAAO,CAAC;IACvB,KAAAzR,eAAe,GAAG,IAAI;IACb,KAAAC,WAAW,GAAG,EAAE;IAEzB,KAAAyR,GAAG,GAAGplB,2GAAqD,GAAG,mBAAmB,GAAG,CAAC,IAAI,CAACgT,KAAK,CAACqB,QAAQ,CAACC,QAAQ,CAACtP,GAAG,CAAC,SAAS,CAAC;IAIhI,KAAAuC,aAAa,GAAW,6BAA6B;IAErD,KAAAge,MAAM,GAAgB,IAAI/lB,uDAAW,CAAC,EAAE,CAAC;IAGzC,KAAAqU,cAAc,GAAW,EAAE;IAEnB,KAAAZ,eAAe,GAAiB,IAAI/T,yCAAO,EAAO;IAWtD,IAAIwV,MAAM,GAAG;MAAEC,YAAY,EAAE,IAAI;MAAED,MAAM,EAAE,WAAW,IAAI,CAAC1B,KAAK,CAACqB,QAAQ,CAACC,QAAQ,CAACtP,GAAG,CAAC,SAAS,CAAC;IAAsB,CAAE;IACzH,IAAI,CAAC0N,kBAAkB,CAACkC,cAAc,CAACF,MAAM,CAAC;EAClD;EAIAoB,QAAQA,CAAA;IACJ;IACA,IAAI,CAACtD,eAAe,CAAC0C,QAAQ,CACxBC,IAAI,CAAC/V,+CAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,CAAC,CACrCmC,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAAC/N,cAAc,GAAG+N,OAAO,CAAC/N,cAAc;MAC5C,IAAI,CAACgO,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;IACpD,CAAC,CAAC;IAEN;IACA,IAAI,CAAC9C,eAAe,CAACuD,UAAU,EAAE;IACjC,IAAI,CAACyP,cAAc,GAAG,IAAI,CAACV,cAAc,CAACW,aAAa,EAAE,CAACtQ,IAAI;IAAE;IAC5DxW,kDAAY,CAAC,GAAG,CAAC,EACjBC,2DAAoB,EAAE,CACzB,CACIwW,SAAS,CAACnQ,KAAK,IAAG;MACf,IAAI,CAAC4O,cAAc,GAAG5O,KAAK;MAC3B,IAAI,CAACygB,KAAK,CAACC,OAAO,CAAC,IAAI,CAAC9R,cAAc,CAAC;IAC3C,CAAC,CAAC;EAEV;EAGAiE,oBAAoBA,CAAA;IAChB,IAAI,CAAC/E,MAAM,CAACgF,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;EACrC;EAEA;EACAC,WAAWA,CAAA;IACP,IAAI,CAAC8M,cAAc,CAACc,WAAW,EAAE;EACrC;;AArESf,0BAA0B;mBAA1BA,0BAA0B,EAAA3kB,gEAAA,CAAA0iB,+EAAA,GAAA1iB,gEAAA,CAAA4iB,oDAAA,GAAA5iB,gEAAA,CAAA8iB,iGAAA,GAAA9iB,gEAAA,CAAAgjB,kFAAA,GAAAhjB,gEAAA,CAAAkjB,kFAAA,GAAAljB,gEAAA,CAAAojB,gEAAA,GAAApjB,gEAAA,CAAA4iB,4DAAA;AAAA;AAA1B+B,0BAA0B;QAA1BA,0BAA0B;EAAAjB,SAAA;EAAAC,SAAA,WAAAkC,iCAAAhC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;iEAqCxBpkB,8GAAsB;;;;;;;;;;;;;;;MCzDrCO,6DAAA,aAAgD;MAIpBA,yDAAA,mBAAA8lB,4DAAA;QAAA,OAAShC,GAAA,CAAAlM,oBAAA,EAAsB;MAAA,EAAC;MAChD5X,wDAAA,kBAAoF;MACpFA,6DAAA,cAAuC;MAAAA,qDAAA,aAAM;MAAAA,2DAAA,EAAO;MAI5DA,6DAAA,aAAuB;MAEnBA,wDAAA,4BAIqB;MACzBA,2DAAA,EAAM;;;MAfMA,wDAAA,GAA6C;MAA7CA,yDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,0DAAA,WAAA8jB,GAAA,CAAA1c,cAAA,OAAsC,UAAA0c,GAAA,CAAA1c,cAAA;MAG1DpH,wDAAA,GAA0C;MAA1CA,yDAAA,2CAA0C;MAOMA,wDAAA,GAAe;MAAfA,yDAAA,gBAAe,iBAAA8jB,GAAA,CAAAiB,OAAA,2CAAAjB,GAAA,CAAAkB,aAAA,cAAAlB,GAAA,CAAAoB,GAAA,eAAApB,GAAA,CAAAtQ,eAAA,qFAAAsQ,GAAA,CAAAmB,WAAA,iBAAAnB,GAAA,CAAArQ,WAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZzB;AACZ;AAEK;AAEE;;;;;;;;;;;;;;;ICOvEzT,4DAAA,qBACgG;IAC5FA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFTA,wDAAA,SAAAgmB,MAAA,CAAAzlB,YAAA,CAAAC,IAAA,CAA0B,qCAAAwlB,MAAA,CAAAvlB,SAAA;IAC1BT,uDAAA,GACJ;IADIA,gEAAA,MAAAgmB,MAAA,CAAAzlB,YAAA,CAAAK,OAAA,MACJ;;;ADLJ,MAKaf,yBAAyB;EAclCwS,YACoCP,IAAS,EACjCS,sBAA6C,EAC7CD,eAA+B,EAC/BG,KAAsB,EACvBG,SAAkD;IAJzB,KAAAd,IAAI,GAAJA,IAAI;IAC5B,KAAAS,sBAAsB,GAAtBA,sBAAsB;IACtB,KAAAD,eAAe,GAAfA,eAAe;IACf,KAAAG,KAAK,GAALA,KAAK;IACN,KAAAG,SAAS,GAATA,SAAS;IAlBpB,KAAA3F,OAAO,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC;IAG1C,KAAAxM,SAAS,GAAG,KAAK;IAIjB,KAAA4G,aAAa,GAAW,YAAY;IAC5B,KAAA0L,eAAe,GAAiB,IAAI/T,yCAAO,EAAO;IACzC,KAAAoU,kBAAkB,GAAuB,IAAI9U,uDAAY,EAAQ;IACjE,KAAA+U,mBAAmB,GAAuB,IAAI/U,uDAAY,EAAQ;IACnF,KAAA2U,gBAAgB,GAAG,CAAC;IAShB,IAAI,CAACgT,KAAK,GAAG,4BAA4B,IAAI,CAACnU,IAAI,CAACvQ,WAAW,EAAE;IAEhE;IACA,IAAI,CAAC+Q,eAAe,CAAC0C,QAAQ,CACxBC,IAAI,CAAC/V,+CAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,CAAC,CACrCmC,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAAC/N,cAAc,GAAG+N,OAAO,CAAC/N,cAAc;MAC5C,IAAI,CAACgO,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;MAChD,IAAI,CAACnC,gBAAgB,GAAGkC,OAAO,CAAClC,gBAAgB;IACpD,CAAC,CAAC;EACV;EAEA2C,QAAQA,CAAA;IACJ;IACA,IAAI,CAACtD,eAAe,CAACuD,UAAU,EAAE;IACjC,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACR,cAAc,EAAE;EACzB;EAEA;EACAA,cAAcA,CAAA;IACV,IAAI,CAAC7C,KAAK,CAAC8C,UAAU,CAACL,SAAS,CAAC;MAC5BM,IAAI,EAAGC,MAAoB,IAAI;QAC3B,IAAI,CAAChV,SAAS,GAAG,IAAI;QACrB,IAAI,CAACF,YAAY,GAAG;UAChB,GAAGkV,MAAM;UACTC,UAAU,EAAE;SACf;QACD,IAAIC,IAAI,GAAG,CAAC;QACZtW,2CAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CACX4V,IAAI,CACDtW,8CAAQ,CAAC,MAAK;UACV,IAAI,CAAC8B,SAAS,GAAG,KAAK;UACtB,IAAI,CAACF,YAAY,GAAG,IAAI;QAC5B,CAAC,CAAC,EACFpB,+CAAS,CAAC,MAAMwW,IAAI,GAAG,CAAC,CAAC,EACzBzW,+CAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,EAC/B3T,0CAAG,CAAC,MAAOuW,IAAI,IAAI,CAAE,CAAC,CACzB,CACAT,SAAS,EAAE;MACpB;KACH,CAAC;EACN;EAEAY,OAAOA,CAAA;IACH,IAAI,CAACnF,IAAI,GAAG,IAAIpR,sDAAS,CAAC;MACtBgY,QAAQ,EAAE,IAAIjY,wDAAW,CAAC;QAAEyF,KAAK,EAAE,GAAG,IAAI,CAAC+M,IAAI,CAAClK,cAAc,MAAM,IAAI,CAACkK,IAAI,CAACvQ,WAAW,EAAE;QAAEuV,QAAQ,EAAE;MAAI,CAAE,EAAEtX,gEAAmB,CAAC;MACnI0mB,KAAK,EAAE,IAAI5mB,wDAAW,CAAE,EAAE,EAAGE,gEAAmB;KACnD,CAAC;EACN;EAEA0S,QAAQA,CAAA;IACJ,IAAI,CAAC,IAAI,CAACvB,IAAI,CAACoI,KAAK,EAAE;MAClB,OAAO,IAAI,CAACtG,KAAK,CAACuG,KAAK,CAAC,6BAA6B,CAAC;KACzD,MAAM;MACH,MAAMiB,OAAO,GAAwB;QACjChE,UAAU,EAAE,IAAI,CAACnE,IAAI,CAACmE,UAAU;QAChCiQ,KAAK,EAAE,IAAI,CAACvV,IAAI,CAAC7L,GAAG,CAAC,OAAO,CAAC,CAACC;OACjC;MAED,IAAI,CAACwN,sBAAsB,CAAC5C,sBAAsB,CAACsK,OAAO,CAAC,CACtD/E,SAAS,CAAC;QACPM,IAAI,EAAG1D,IAAoB,IAAI;UAC3B,IAAIA,IAAI,EAAE;YACN,IAAI,CAACsB,kBAAkB,CAACwH,IAAI,EAAE;YAC9B,IAAI,CAACuL,WAAW,CAACrU,IAAI,CAAC;;QAE9B;OACH,CAAC;;EAEd;EAEAqU,WAAWA,CAACrU,IAAI;IACZ,IAAI,CAACc,SAAS,CAACwT,KAAK,CAACtU,IAAI,CAAC;EAC9B;;AA/FSjS,yBAAyB;mBAAzBA,yBAAyB,EAAAG,+DAAA,CAetB+lB,sEAAe,GAAA/lB,+DAAA,CAAA0iB,kFAAA,GAAA1iB,+DAAA,CAAA4iB,+EAAA,GAAA5iB,+DAAA,CAAA8iB,iFAAA,GAAA9iB,+DAAA,CAAAgjB,mEAAA;AAAA;AAflBnjB,yBAAyB;QAAzBA,yBAAyB;EAAA6jB,SAAA;EAAA2C,OAAA;IAAAjT,kBAAA;IAAAC,mBAAA;EAAA;EAAA4Q,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAkC,mCAAAzC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCftC7jB,4DAAA,aACkM;MAG/IA,oDAAA,GAAS;MAAAA,0DAAA,EAAO;MAC3DA,4DAAA,UAAK;MACuBA,wDAAA,mBAAAumB,2DAAA;QAAA,OAASzC,GAAA,CAAAqC,WAAA,CAAY,KAAK,CAAC;MAAA,EAAC;MAChDnmB,4DAAA,kBAA6B;MAAAA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAKzDA,wDAAA,IAAAwmB,+CAAA,wBAGa;MACbxmB,4DAAA,cAA2E;MAExDA,oDAAA,qBAAQ;MAAAA,0DAAA,EAAY;MAC/BA,uDAAA,gBAAsE;MAC1EA,0DAAA,EAAiB;MACjBA,4DAAA,yBAAqD;MACtCA,oDAAA,aAAK;MAAAA,0DAAA,EAAY;MAC5BA,4DAAA,gBAAqE;MAA7BA,wDAAA,2BAAAymB,mEAAA;QAAA,OAAiB3C,GAAA,CAAA5R,QAAA,EAAU;MAAA,EAAC;MAApElS,0DAAA,EAAqE;MAG7EA,4DAAA,eAAsE;MAGCA,wDAAA,mBAAA0mB,4DAAA;QAAA,OAAS5C,GAAA,CAAA5R,QAAA,EAAU;MAAA,EAAC;MACnFlS,4DAAA,gBAA+C;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAO;;;MA5BjEA,uDAAA,GAA6C;MAA7CA,wDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,yDAAA,qBAAA8jB,GAAA,CAAA1c,cAAA,OAAgD;MAEpDpH,uDAAA,GAAS;MAATA,+DAAA,CAAA8jB,GAAA,CAAAmC,KAAA,CAAS;MASCjmB,uDAAA,GAAe;MAAfA,wDAAA,SAAA8jB,GAAA,CAAArjB,SAAA,CAAe;MAGhBT,uDAAA,GAAkB;MAAlBA,wDAAA,cAAA8jB,GAAA,CAAAnT,IAAA,CAAkB;MAGvB3Q,uDAAA,GAA0B;MAA1BA,wDAAA,UAAA8jB,GAAA,CAAAhS,IAAA,CAAAvQ,WAAA,CAA0B;MAQ/CvB,uDAAA,GAA6C;MAA7CA,wDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MACnErH,yDAAA,qBAAA8jB,GAAA,CAAA1c,cAAA,OAAgD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BQ;AACK;AAI8C;AAEvD;AACN;AAGG;;;;;;;;;;;;;;;;;;;;;;ICDzDpH,4DAAA,qBAMC;IACDA,oDAAA,GACA;IAAAA,0DAAA,EAAa;;;;IANTA,wDAAA,SAAAgmB,MAAA,CAAAzlB,YAAA,CAAAC,IAAA,CAA0B,qCAAAwlB,MAAA,CAAAvlB,SAAA;IAK9BT,uDAAA,GACA;IADAA,gEAAA,MAAAgmB,MAAA,CAAAzlB,YAAA,CAAAK,OAAA,MACA;;;;;IAkBoBZ,4DAAA,qBAA2E;IACvEA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAF6CA,wDAAA,UAAA2mB,SAAA,CAAgB;IACtE3mB,uDAAA,GACJ;IADIA,gEAAA,MAAA2mB,SAAA,CAAAplB,WAAA,MACJ;;;;;;IAEJvB,4DAAA,iBACqC;IADHA,wDAAA,mBAAA4mB,0EAAA;MAAA5mB,2DAAA,CAAA6mB,GAAA;MAAA,MAAAC,MAAA,GAAA9mB,2DAAA;MAAA,OAASA,yDAAA,CAAA8mB,MAAA,CAAAnlB,gBAAA,CAAiB,QAAQ,CAAC;IAAA,EAAC;IAElE3B,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;;IAnB9CA,4DAAA,eAAkH;IAIvFA,oDAAA,YAAK;IAAAA,0DAAA,EAAY;IAC5BA,uDAAA,gBAAqG;IAGzGA,0DAAA,EAAiB;IACjBA,4DAAA,0BAA6D;IAC9CA,oDAAA,cAAM;IAAAA,0DAAA,EAAY;IAC7BA,uDAAA,iBAAiG;IACjGA,4DAAA,gCAAgG;IAC5FA,wDAAA,KAAA+mB,qDAAA,yBAEa;;IACjB/mB,0DAAA,EAAmB;IACnBA,wDAAA,KAAAgnB,iDAAA,qBAGS;IACbhnB,0DAAA,EAAiB;IACjBA,4DAAA,0BAA6D;IAC9CA,oDAAA,qBAAa;IAAAA,0DAAA,EAAY;IACpCA,uDAAA,iBAA4D;IAChEA,0DAAA,EAAiB;IACjBA,4DAAA,eAAkB;IAIVA,wDAAA,mBAAAinB,iEAAA;MAAAjnB,2DAAA,CAAAknB,IAAA;MAAA,MAAAC,OAAA,GAAAnnB,2DAAA;MAAA,OAASA,yDAAA,CAAAmnB,OAAA,CAAArX,QAAA,EAAU;IAAA,EAAC;IACpB9P,4DAAA,EACuC;IADvCA,4DAAA,eACuC;IAC/BA,uDAAA,gBAA+D;IACvEA,0DAAA,EAAM;;;;;;IAlCqEA,wDAAA,cAAAM,MAAA,CAAAqQ,IAAA,CAAkB;IAKjF3Q,uDAAA,GAAwB;IAAxBA,wDAAA,kBAAAonB,GAAA,CAAwB;IACPpnB,uDAAA,GAAc;IAAdA,wDAAA,QAAAonB,GAAA,CAAc;IAKMpnB,uDAAA,GAA0B;IAA1BA,wDAAA,oBAAA4Q,GAAA,CAA0B;IACb5Q,uDAAA,GAA6B;IAA7BA,wDAAA,gBAAAM,MAAA,CAAA+mB,aAAA,CAA6B;IAC5DrnB,uDAAA,GAAyB;IAAzBA,wDAAA,YAAAA,yDAAA,SAAAM,MAAA,CAAAgnB,cAAA,EAAyB;IAKvDtnB,uDAAA,GAA8B;IAA9BA,wDAAA,SAAAM,MAAA,CAAAqQ,IAAA,CAAA7L,GAAA,WAAAC,KAAA,CAA8B;IAS3B/E,uDAAA,GAA6C;IAA7CA,wDAAA,CAAAM,MAAA,CAAA8G,cAAA,QAAA9G,MAAA,CAAA+G,aAAA,CAA6C;IAACrH,yDAAA,eAAAM,MAAA,CAAA8G,cAAA,CAAmC;;;;;IAqBzFpH,4DAAA,aACuF;IACnFA,oDAAA,aAAK;IAAAA,0DAAA,EAAK;;;;IAFwBA,wDAAA,CAAAunB,OAAA,CAAAngB,cAAA,QAAAmgB,OAAA,CAAAlgB,aAAA,CAA6C;IAC/ErH,yDAAA,eAAAunB,OAAA,CAAAngB,cAAA,OAA0C;;;;;IAE9CpH,4DAAA,aAA2D;IACvDA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA4E,OAAA,CAAA4iB,WAAA,CAAAC,UAAA,CAAAC,gBAAA,CAAApR,KAAA,OACJ;;;;;IAGAtW,4DAAA,aACyE;IACrEA,oDAAA,cAAM;IAAAA,0DAAA,EAAK;;;;IAFuBA,wDAAA,CAAA2nB,OAAA,CAAAvgB,cAAA,QAAAugB,OAAA,CAAAtgB,aAAA,CAA6C;IAC/ErH,yDAAA,eAAA2nB,OAAA,CAAAvgB,cAAA,OAA0C;;;;;IAE9CpH,4DAAA,aAA2D;IACvDA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA4nB,gBAAA,CAAAC,kBAAA,MACJ;;;;;IAGA7nB,4DAAA,aACyE;IAAAA,oDAAA,oBAAa;IAAAA,0DAAA,EAAK;;;;IADrDA,wDAAA,CAAAyH,OAAA,CAAAL,cAAA,QAAAK,OAAA,CAAAJ,aAAA,CAA6C;IAC/ErH,yDAAA,eAAAyH,OAAA,CAAAL,cAAA,OAA0C;;;;;IAC9CpH,4DAAA,aAA4C;IACxCA,oDAAA,GACJ;IAAAA,0DAAA,EAAK;;;;IADDA,uDAAA,GACJ;IADIA,gEAAA,MAAA8nB,gBAAA,CAAAC,aAAA,MACJ;;;;;IAGA/nB,uDAAA,aAEK;;;;IAFiCA,wDAAA,CAAAgoB,OAAA,CAAA5gB,cAAA,QAAA4gB,OAAA,CAAA3gB,aAAA,CAA6C;IAC/ErH,yDAAA,eAAAgoB,OAAA,CAAA5gB,cAAA,OAA0C;;;;;;IAG1CpH,4DAAA,oBAAuH;IAA/FA,wDAAA,mBAAAioB,8EAAA;MAAAjoB,2DAAA,CAAAkoB,IAAA;MAAA,MAAAC,gBAAA,GAAAnoB,2DAAA,GAAA8G,SAAA;MAAA,MAAApF,OAAA,GAAA1B,2DAAA;MAAA,OAASA,yDAAA,CAAA0B,OAAA,CAAA0mB,iBAAA,CAAAD,gBAAA,CAA+B;IAAA,EAAC;IAC7DnoB,uDAAA,mBACiD;IACrDA,0DAAA,EAAS;;;;IAFgEA,uDAAA,GAA6C;IAA7CA,wDAAA,CAAAkB,OAAA,CAAAkG,cAAA,QAAAlG,OAAA,CAAAmG,aAAA,CAA6C;IAClHrH,yDAAA,UAAAkB,OAAA,CAAAkG,cAAA,OAAoC;IADNpH,wDAAA,uCAAsC;;;;;IAF5EA,4DAAA,aAA4C;IACxCA,wDAAA,IAAAqoB,qDAAA,qBAGS;IACbroB,0DAAA,EAAK;;;;IAJ0EA,uDAAA,GAA0C;IAA1CA,wDAAA,SAAAmoB,gBAAA,CAAAG,cAAA,UAA0C;;;;;IAM7HtoB,uDAAA,aAAiE;;;;;IACjEA,uDAAA,aAAwD;;;;;IAE5DA,4DAAA,cAAyF;IACpDA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAI;;;;;IA5ClFA,4DAAA,cAAsD;IAEZA,oDAAA,gCAAoB;IAAAA,0DAAA,EAAO;IAEjEA,4DAAA,cAAoE;IAE5DA,qEAAA,OAAmC;IAC/BA,wDAAA,IAAAuoB,2CAAA,iBAEc;IACdvoB,wDAAA,IAAAwoB,2CAAA,iBAEK;IACTxoB,mEAAA,EAAe;IACfA,qEAAA,OAAgD;IAC5CA,wDAAA,KAAAyoB,4CAAA,iBAEe;IACfzoB,wDAAA,KAAA0oB,4CAAA,iBAEK;IACT1oB,mEAAA,EAAe;IACfA,qEAAA,QAA2C;IACvCA,wDAAA,KAAA2oB,4CAAA,iBAC2F;IAC3F3oB,wDAAA,KAAA4oB,4CAAA,iBAEK;IACT5oB,mEAAA,EAAe;IACfA,qEAAA,QAAsC;IAClCA,wDAAA,KAAA6oB,4CAAA,iBAEK;IACL7oB,wDAAA,KAAA8oB,4CAAA,iBAKK;IACT9oB,mEAAA,EAAe;IACfA,wDAAA,KAAA+oB,4CAAA,iBAAiE;IACjE/oB,wDAAA,KAAAgpB,4CAAA,iBAAwD;IAC5DhpB,0DAAA,EAAQ;IACRA,wDAAA,KAAAipB,6CAAA,kBAEM;IACVjpB,0DAAA,EAAM;;;;IAzCeA,uDAAA,GAAyB;IAAzBA,wDAAA,eAAA0Q,MAAA,CAAA1D,UAAA,CAAyB;IAmClBhN,uDAAA,IAA0B;IAA1BA,wDAAA,oBAAA0Q,MAAA,CAAAzD,OAAA,CAA0B;IACbjN,uDAAA,GAAgB;IAAhBA,wDAAA,qBAAA0Q,MAAA,CAAAzD,OAAA,CAAgB;IAE/CjN,uDAAA,GAAkC;IAAlCA,wDAAA,SAAA0Q,MAAA,CAAA1D,UAAA,CAAA8E,IAAA,CAAAV,MAAA,OAAkC;;;;;;;;AD5FpD,MAMa8X,sBAAsB;EAgB/B7W,YACoCP,IAAS,EACjCQ,eAA+B,EAC/B6W,qBAA4C,EAC5CxW,QAAkB,EAClByW,OAAgC,EAChC5B,WAA+B,EAChC/U,KAAsB,EACtBG,SAA+C;IAPtB,KAAAd,IAAI,GAAJA,IAAI;IAC5B,KAAAQ,eAAe,GAAfA,eAAe;IACf,KAAA6W,qBAAqB,GAArBA,qBAAqB;IACrB,KAAAxW,QAAQ,GAARA,QAAQ;IACR,KAAAyW,OAAO,GAAPA,OAAO;IACP,KAAA5B,WAAW,GAAXA,WAAW;IACZ,KAAA/U,KAAK,GAALA,KAAK;IACL,KAAAG,SAAS,GAATA,SAAS;IAvBpB,KAAAyW,OAAO,GAAU,EAAE;IAInB,KAAA5oB,SAAS,GAAG,KAAK;IAIjB,KAAA4G,aAAa,GAAW,YAAY;IACpC,KAAA4F,OAAO,GAAG,CAAC,OAAO,EAAE,oBAAoB,EAAE,eAAe,EAAE,UAAU,CAAC;IAG/D,KAAAD,UAAU,GAA4B,IAAItN,uEAAkB,EAAE;IAC7D,KAAAqT,eAAe,GAAiB,IAAI/T,0CAAO,EAAO;IAYtD,IAAI,CAACmmB,MAAM,GAAG,IAAI,CAACrT,IAAI,GAAG,IAAI,CAACA,IAAI,GAAG,IAAI;EAC9C;EAEA8D,QAAQA,CAAA;IACJ;IACA,IAAI,CAACtD,eAAe,CAAC0C,QAAQ,CACxBC,IAAI,CAAC/V,gDAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,CAAC,CACrCmC,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAAC/N,cAAc,GAAG+N,OAAO,CAAC/N,cAAc;MAC5C,IAAI,CAACgO,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;IACpD,CAAC,CAAC;IAEN;IACA,IAAI,CAAC9C,eAAe,CAACuD,UAAU,EAAE;IACjC,IAAI,CAACP,cAAc,EAAE;IACrB,IAAI,CAACQ,OAAO,EAAE;IACd,IAAI,CAACwT,UAAU,EAAE;IACjB,IAAI,CAACC,cAAc,EAAE;EACzB;EAEA;EACAjU,cAAcA,CAAA;IACV,IAAI,CAAC7C,KAAK,CAAC8C,UAAU,CAACL,SAAS,CAAC;MAC5BM,IAAI,EAAGC,MAAoB,IAAI;QAC3B,IAAI,CAAChV,SAAS,GAAG,IAAI;QACrB,IAAI,CAACF,YAAY,GAAG;UAChB,GAAGkV,MAAM;UACTC,UAAU,EAAE;SACf;QACD,IAAIC,IAAI,GAAG,CAAC;QACZtW,4CAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CACf4V,IAAI,CACDtW,+CAAQ,CAAC,MAAK;UACV,IAAI,CAAC8B,SAAS,GAAG,KAAK;UACtB,IAAI,CAACF,YAAY,GAAG,IAAI;QAC5B,CAAC,CAAC,EACFpB,gDAAS,CAAC,MAAMwW,IAAI,GAAG,CAAC,CAAC,EACzBzW,gDAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,EAC/B3T,0CAAG,CAAC,MAAOuW,IAAI,IAAI,CAAE,CAAC,CACzB,CACAT,SAAS,EAAE;MAChB;KACH,CAAC;EACN;EAEAY,OAAOA,CAAA;IACH,IAAI,CAACnF,IAAI,GAAG,IAAIpR,sDAAS,CAAC;MACtB+W,KAAK,EAAE,IAAIhX,wDAAW,CAAC,IAAI+V,IAAI,EAAE,EAAE7V,gEAAmB,CAAC;MACvDgqB,MAAM,EAAE,IAAIlqB,wDAAW,CAAC,EAAE,EAAEE,gEAAmB,CAAC;MAChDuoB,aAAa,EAAE,IAAIzoB,wDAAW,CAAC,EAAE,EAAEE,gEAAmB;KACzD,CAAC;EACN;EAEAsQ,QAAQA,CAAC/O,MAAsB;IAC3B,IAAIA,MAAM,EAAE8X,GAAG,KAAK,OAAO,EAAE;MACzB9X,MAAM,CAAC0X,cAAc,EAAE;;IAE3B,IAAI,CAAC,IAAI,CAAC9H,IAAI,CAACoI,KAAK,EAAE;MAClB,IAAI,CAACpI,IAAI,CAAC8Y,gBAAgB,EAAE;MAC5B,OAAO,IAAI,CAAChX,KAAK,CAACuG,KAAK,CAAC,wEAAwE,CAAC;KACpG,MAAM;MACH,MAAM1C,KAAK,GAAG,IAAI,CAAC3F,IAAI,CAAC7L,GAAG,CAAC,OAAO,CAAC,CAACC,KAAK;MAC1C;MACA,MAAM2kB,gBAAgB,GAAG,IAAI,CAAC/W,QAAQ,CAAC4D,SAAS,CAACD,KAAK,EAAE,YAAY,CAAC;MAErE,IAAI2D,OAAO,GAAG;QACV5F,OAAO,EAAE,IAAI,CAAC8Q,MAAM,CAAC9Q,OAAO;QAC5BsV,QAAQ,EAAE,IAAI,CAAChZ,IAAI,CAAC7L,GAAG,CAAC,QAAQ,CAAC,CAACC,KAAK,CAAC4kB,QAAQ;QAChDrT,KAAK,EAAEoT,gBAAgB;QACvB3B,aAAa,EAAE,IAAI,CAACpX,IAAI,CAAC7L,GAAG,CAAC,eAAe,CAAC,CAACC;OACjD;MAED,IAAI,CAACokB,qBAAqB,CAACS,eAAe,CAAC3P,OAAO,CAAC,CAAC/E,SAAS,CAAE2U,IAAI,IAAI;QACnE;QACA,IAAI,CAACpX,KAAK,CAAC0I,OAAO,CAAC0O,IAAI,CAACC,OAAO,CAAC;QAChC,IAAI,CAACnoB,gBAAgB,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAACA,gBAAgB,CAAC,eAAe,CAAC;QACtC,IAAI,CAAC4nB,cAAc,EAAE;QACrB,IAAI,CAACQ,eAAe,EAAE;MAC1B,CAAC,EAAG/Q,KAAK,IAAI;QACT;QACA,IAAI,CAACvG,KAAK,CAACuG,KAAK,CAAC,iDAAiD,CAAC;MACvE,CAAC,CAAC;;EAEV;EAEMuQ,cAAcA,CAAA;IAAA,IAAAjO,KAAA;IAAA,OAAAC,kIAAA;MAChB,MAAMyO,YAAY,SAASprB,qDAAc,CAAC0c,KAAI,CAAC6N,qBAAqB,CAACI,cAAc,CAACjO,KAAI,CAAC6J,MAAM,CAAC9Q,OAAO,CAAC,CAAC;MACzGiH,KAAI,CAAC2O,aAAa,GAAGD,YAAY,CAAC7O,OAAO;MACzCG,KAAI,CAAC4O,WAAW,GAAGF,YAAY,CAACE,WAAW;MAC3C5O,KAAI,CAACtO,UAAU,GAAG,IAAItN,uEAAkB,CAACsqB,YAAY,CAAC9O,MAAM,CAAC;MAC7D,IAAI8O,YAAY,CAAC7O,OAAO,KAAK,KAAK,EAAE;QAChCG,KAAI,CAAC7I,KAAK,CAACqG,OAAO,CAACkR,YAAY,CAAC9O,MAAM,CAAC;QACvC/C,UAAU,CAAC,MAAK;UACZmD,KAAI,CAAC6K,WAAW,EAAE;QACtB,CAAC,EAAE,IAAI,CAAC;;IACX;EACL;EAEMmD,UAAUA,CAACrM,MAAO;IAAA,IAAArB,MAAA;IAAA,OAAAL,kIAAA;MACpB,MAAM4O,OAAO,SAASvrB,qDAAc,CAACgd,MAAI,CAACuN,qBAAqB,CAACG,UAAU,CAACrM,MAAM,CAAC,CAAC;MACnF,IAAIpB,OAAO;QAAA,IAAAU,IAAA,GAAAhB,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC1BL,MAAI,CAACyN,OAAO,GAAGc,OAAO,CAAC/T,IAAI;UAEvB;UACA;UACA;UACA;UACA;UAEJwF,MAAI,CAAC0L,cAAc,GAAG1L,MAAI,CAACjL,IAAI,CAAC7L,GAAG,CAAC,QAAQ,CAAC,CAACkR,YAAY,CAACf,IAAI,CAC3DlW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAK6W,MAAI,CAACwO,mBAAmB,CAACrlB,KAAK,EAAE6W,MAAI,CAACyN,OAAO,EAAE,aAAa,CAAC,CAAC,CAC/E;UAEDpN,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC;QAAA,iBAAAa,EAAA;UAAA,OAAAP,IAAA,CAAAQ,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACN;EAEAqK,aAAaA,CAACpK,MAAM;IAChB,IAAIA,MAAM,CAAC1b,WAAW,EAAE;MACpB,OAAO0b,MAAM,CAAC1b,WAAW;;IAE7B,IAAI0b,MAAM,CAACoN,QAAQ,EAAE;MACjB,OAAOpN,MAAM,CAACoN,QAAQ;;IAE1B,OAAOpN,MAAM;EACjB;EAEA;;;;;;;EAOQmN,mBAAmBA,CAACrlB,KAAa,EAAEulB,KAAY,EAAEC,KAAa;IAClE,MAAMhL,WAAW,GAAGxa,KAAK,CAACwV,QAAQ,EAAE,CAACiF,WAAW,EAAE;IAClD,OAAO8K,KAAK,CAAC1W,MAAM,CAAC4W,GAAG,IAAG;MACtB,MAAMtP,MAAM,GAAGsP,GAAG,CAAC,GAAGD,KAAK,EAAE,CAAC,CAAChQ,QAAQ,EAAE,CAACiF,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC;MAC7E,OAAOrE,MAAM;IACjB,CAAC,CAAC;EACN;EAEA;;;EAGAvZ,gBAAgBA,CAAC+W,KAAK;IAClB,IAAI,CAAC/H,IAAI,CAAC7L,GAAG,CAAC4T,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;EACrC;EAEAoR,eAAeA,CAAA;IACX;IACA,MAAMU,aAAa,GAAG,CAAC,QAAQ,EAAE,eAAe,CAAC;IAEjD;IACAC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACha,IAAI,CAACia,QAAQ,CAAC,CAACC,OAAO,CAAChS,GAAG,IAAG;MAC1C;MACA,IAAI4R,aAAa,CAAChL,QAAQ,CAAC5G,GAAG,CAAC,EAAE;QAC7B,IAAI,CAAClI,IAAI,CAACia,QAAQ,CAAC/R,GAAG,CAAC,CAACiS,SAAS,CAAC,IAAI,CAAC;QACvC,IAAI,CAACna,IAAI,CAACia,QAAQ,CAAC/R,GAAG,CAAC,CAACkS,eAAe,EAAE;QACzC,IAAI,CAACpa,IAAI,CAACia,QAAQ,CAAC/R,GAAG,CAAC,CAACmS,cAAc,EAAE;;IAEhD,CAAC,CAAC;EACN;EAEA;;;;EAIA5C,iBAAiBA,CAAC6C,YAAY;IAC1B,IAAI,CAAC7B,OAAO,CAACrO,IAAI,CAAC;MACdkL,KAAK,EAAE,8BAA8B,GAAGgF,YAAY,CAACC,aAAa;MAClEtqB,OAAO,EAAE,oDAAoD,IAAI,CAAC4mB,WAAW,CAACC,UAAU,CAACwD,YAAY,CAAC3U,KAAK,CAAC,oBAAoB2U,YAAY,CAACpD,kBAAkB,IAAI;MACnKsD,WAAW,EAAE,KAAK;MAClBC,OAAO,EAAE;QACLhC,OAAO,EAAE;UACLiC,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE,MAAM;UACbC,KAAK,EAAE;SACV;QACDC,MAAM,EAAE;UACJH,IAAI,EAAE,IAAI;UACVE,KAAK,EAAE;;;KAGlB,CAAC,CACGtQ,WAAW,EAAE,CACb/F,SAAS,CAACsV,GAAG,IAAG;MACb,IAAIA,GAAG,KAAK,WAAW,EAAE;QACrB,IAAI,CAACrB,qBAAqB,CAACf,iBAAiB,CAAC6C,YAAY,CAACC,aAAa,CAAC,CAAChW,SAAS,CAAC;UAC/EM,IAAI,EAAGgV,GAAG,IAAI;YACV;YACA,IAAI,CAAC/X,KAAK,CAAC0I,OAAO,CAACqP,GAAG,CAACV,OAAO,CAAC;YAC/B,IAAI,CAACP,cAAc,EAAE;UACzB,CAAC;UACDvQ,KAAK,EAAGA,KAAK,IAAI;YACb;YACAoC,OAAO,CAACpC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;YAC7C,IAAI,CAACvG,KAAK,CAACqG,OAAO,CAAC,sEAAsE,CAAC;UAC9F;SACH,CAAC;;IAEV,CAAC,CAAC;EACV;EAEA5G,QAAQA,CAAA,GAER;EAEA4F,WAAWA,CAAA,GAEX;EAEAqO,WAAWA,CAAA;IACP,IAAI,CAACvT,SAAS,CAACwT,KAAK,CAAC,KAAK,CAAC;EAC/B;;AAlPS8C,sBAAsB;mBAAtBA,sBAAsB,EAAAlpB,+DAAA,CAiBnB+lB,sEAAe,GAAA/lB,+DAAA,CAAA0iB,+EAAA,GAAA1iB,+DAAA,CAAA4iB,kFAAA,GAAA5iB,+DAAA,CAAA8iB,sDAAA,GAAA9iB,+DAAA,CAAAgjB,gFAAA,GAAAhjB,+DAAA,CAAAkjB,uFAAA,GAAAljB,+DAAA,CAAAojB,8EAAA,GAAApjB,+DAAA,CAAAujB,mEAAA;AAAA;AAjBlB2F,sBAAsB;QAAtBA,sBAAsB;EAAAxF,SAAA;EAAAiI,QAAA,GAAA3rB,gEAAA,CAFpB,CAAC;IAAE+jB,OAAO,EAAEpkB,qEAAgB;IAAEqkB,QAAQ,EAAEpkB,0EAAeA;EAAA,CAAE,CAAC;EAAAqkB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAyH,gCAAAhI,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCpBzE7jB,4DAAA,aAA0L;MAGvIA,oDAAA,GAAuC;MAAAA,0DAAA,EAAO;MACzFA,4DAAA,UAAK;MACuBA,wDAAA,mBAAA8rB,wDAAA;QAAA,OAAShI,GAAA,CAAAqC,WAAA,EAAa;MAAA,EAAC;MAC3CnmB,4DAAA,kBAA6B;MAAAA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAKzDA,wDAAA,IAAA+rB,4CAAA,wBAQa;MACb/rB,4DAAA,aAAqG;MAC7DA,oDAAA,IAA6B;MAAAA,0DAAA,EAAO;MACxEA,4DAAA,eAAoC;MAAAA,oDAAA,IAAkC;MAAAA,0DAAA,EAAO;MAEjFA,wDAAA,KAAAgsB,uCAAA,oBAuCO;MAEPhsB,wDAAA,KAAAisB,sCAAA,kBA+CM;MACVjsB,0DAAA,EAAM;;;MAhHGA,uDAAA,GAA6C;MAA7CA,wDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,yDAAA,qBAAA8jB,GAAA,CAAA1c,cAAA,OAAgD;MAEpDpH,uDAAA,GAAuC;MAAvCA,gEAAA,6BAAA8jB,GAAA,CAAAqB,MAAA,CAAA9Q,OAAA,KAAuC;MAYjFrU,uDAAA,GAAe;MAAfA,wDAAA,SAAA8jB,GAAA,CAAArjB,SAAA,CAAe;MAKwBT,uDAAA,GAAwD;MAAxDA,wDAAA,YAAAA,6DAAA,KAAA4R,GAAA,EAAAkS,GAAA,CAAAoG,WAAA,YAAwD;MAC5DlqB,uDAAA,GAA6B;MAA7BA,gEAAA,cAAA8jB,GAAA,CAAAqB,MAAA,CAAA1O,OAAA,KAA6B;MAC7BzW,uDAAA,GAAkC;MAAlCA,gEAAA,qBAAA8jB,GAAA,CAAAqB,MAAA,CAAA7O,KAAA,KAAkC;MAEnEtW,uDAAA,GAA0B;MAA1BA,wDAAA,SAAA8jB,GAAA,CAAAoG,WAAA,UAA0B;MAyCTlqB,uDAAA,GAA4B;MAA5BA,wDAAA,SAAA8jB,GAAA,CAAAmG,aAAA,UAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEA;AACN;AAIoC;;;;;;;;;;;;;;;;ICgB1EjqB,uDAAA,gCAC4H;;;;;IADvFA,wDAAA,QAAAosB,GAAA,CAAc;;;;;;IAGnDpsB,4DAAA,iBACkG;IADhEA,wDAAA,mBAAAqsB,+DAAA;MAAArsB,2DAAA,CAAAgR,IAAA;MAAA,MAAAsb,MAAA,GAAAtsB,2DAAA;MAAA,OAASA,yDAAA,CAAAssB,MAAA,CAAA3qB,gBAAA,CAAiB,OAAO,CAAC;IAAA,EAAC;IAEjE3B,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAKlCA,4DAAA,cAAuF;IAAAA,oDAAA,cAAO;IAAAA,0DAAA,EAAO;;;;;;IAKjGA,4DAAA,iBACmD;IADjBA,wDAAA,mBAAAusB,gFAAA;MAAAvsB,2DAAA,CAAAwsB,IAAA;MAAA,MAAA7E,OAAA,GAAA3nB,2DAAA;MAAA,OAASA,yDAAA,CAAA2nB,OAAA,CAAAhmB,gBAAA,CAAiB,SAAS,CAAC;IAAA,EAAC;IAEnE3B,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAM1BA,4DAAA,qBAA+E;IAC3EA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFgDA,wDAAA,UAAAysB,WAAA,CAAiB;IAC1EzsB,uDAAA,GACJ;IADIA,gEAAA,MAAAysB,WAAA,CAAAlrB,WAAA,MACJ;;;;;IAdRvB,4DAAA,wBACmF;IAC/EA,uDAAA,gBAC8B;IAC9BA,wDAAA,IAAA0sB,uDAAA,qBAGS;IACT1sB,4DAAA,iBAAkC;IACpBA,oDAAA,sBAAe;IAAAA,0DAAA,EAAW;IAExCA,4DAAA,+BAAwG;IACpGA,wDAAA,IAAA2sB,2DAAA,yBAEa;;IACjB3sB,0DAAA,EAAmB;;;;;IAb0CA,uDAAA,GAAgC;IAAhCA,wDAAA,oBAAA4sB,IAAA,CAAgC;IAGxF5sB,uDAAA,GAA4C;IAA5CA,wDAAA,SAAA6sB,MAAA,CAAAC,WAAA,CAAAhoB,GAAA,YAAAC,KAAA,OAA4C;IAMuB/E,uDAAA,GAA+B;IAA/BA,wDAAA,gBAAA6sB,MAAA,CAAA5nB,eAAA,CAA+B;IACnEjF,uDAAA,GAA2B;IAA3BA,wDAAA,YAAAA,yDAAA,OAAA6sB,MAAA,CAAA9b,gBAAA,EAA2B;;;;;IAQnE/Q,4DAAA,cAAwF;IAAAA,oDAAA,eAAQ;IAAAA,0DAAA,EAAO;;;;;;IAKnGA,4DAAA,iBACoD;IADlBA,wDAAA,mBAAA+sB,gFAAA;MAAA/sB,2DAAA,CAAAgtB,IAAA;MAAA,MAAAC,OAAA,GAAAjtB,2DAAA;MAAA,OAASA,yDAAA,CAAAitB,OAAA,CAAAtrB,gBAAA,CAAiB,UAAU,CAAC;IAAA,EAAC;IAEpE3B,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAM1BA,4DAAA,qBAAmF;IAC/EA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFmDA,wDAAA,UAAAktB,YAAA,CAAkB;IAC9EltB,uDAAA,GACJ;IADIA,gEAAA,MAAAktB,YAAA,CAAAjrB,MAAA,OAAAirB,YAAA,CAAAhrB,QAAA,MACJ;;;;;IAdRlC,4DAAA,wBACmF;IAC/EA,uDAAA,gBAC+B;IAC/BA,wDAAA,IAAAmtB,uDAAA,qBAGS;IACTntB,4DAAA,iBAAkC;IACpBA,oDAAA,sBAAe;IAAAA,0DAAA,EAAW;IAExCA,4DAAA,+BAAyG;IACrGA,wDAAA,IAAAotB,2DAAA,yBAEa;;IACjBptB,0DAAA,EAAmB;;;;;IAb2CA,uDAAA,GAAiC;IAAjCA,wDAAA,oBAAAqtB,IAAA,CAAiC;IAG1FrtB,uDAAA,GAA6C;IAA7CA,wDAAA,SAAAstB,MAAA,CAAAR,WAAA,CAAAhoB,GAAA,aAAAC,KAAA,OAA6C;IAMuB/E,uDAAA,GAA+B;IAA/BA,wDAAA,gBAAAstB,MAAA,CAAAroB,eAAA,CAA+B;IACnEjF,uDAAA,GAA6B;IAA7BA,wDAAA,YAAAA,yDAAA,OAAAstB,MAAA,CAAArc,kBAAA,EAA6B;;;;;IAOtEjR,4DAAA,cAA6G;IAAAA,oDAAA,kBAAW;IAAAA,0DAAA,EAAO;;;;;;IAK3HA,4DAAA,iBACuD;IADrBA,wDAAA,mBAAAutB,gFAAA;MAAAvtB,2DAAA,CAAAwtB,IAAA;MAAA,MAAAC,OAAA,GAAAztB,2DAAA;MAAA,OAASA,yDAAA,CAAAytB,OAAA,CAAA9rB,gBAAA,CAAiB,aAAa,CAAC;IAAA,EAAC;IAEvE3B,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;IAM1BA,4DAAA,qBAA2F;IACvFA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAFwDA,wDAAA,UAAA0tB,eAAA,CAAqB;IACtF1tB,uDAAA,GACJ;IADIA,gEAAA,MAAA0tB,eAAA,CAAAnsB,WAAA,MACJ;;;;;IAdRvB,4DAAA,wBACmF;IAC/EA,uDAAA,gBACkC;IAClCA,wDAAA,IAAA2tB,uDAAA,qBAGS;IACT3tB,4DAAA,iBAAkC;IACpBA,oDAAA,sBAAe;IAAAA,0DAAA,EAAW;IAExCA,4DAAA,+BAA4G;IACxGA,wDAAA,IAAA4tB,2DAAA,yBAEa;;IACjB5tB,0DAAA,EAAmB;;;;;IAb8CA,uDAAA,GAAoC;IAApCA,wDAAA,oBAAA6tB,IAAA,CAAoC;IAGhG7tB,uDAAA,GAAgD;IAAhDA,wDAAA,SAAA8mB,MAAA,CAAAgG,WAAA,CAAAhoB,GAAA,gBAAAC,KAAA,OAAgD;IAMuB/E,uDAAA,GAA+B;IAA/BA,wDAAA,gBAAA8mB,MAAA,CAAA7hB,eAAA,CAA+B;IACnEjF,uDAAA,GAA+B;IAA/BA,wDAAA,YAAAA,yDAAA,OAAA8mB,MAAA,CAAAzhB,oBAAA,EAA+B;;;ADzEnF,MAMayoB,mBAAmB;EAgB9Bzb,YAC8BP,IAAS,EAC7BQ,eAA+B,EAC/Byb,WAA4B,EAC5Bpb,QAAkB,EAClBwW,qBAA4C;IAJxB,KAAArX,IAAI,GAAJA,IAAI;IACxB,KAAAQ,eAAe,GAAfA,eAAe;IACf,KAAAyb,WAAW,GAAXA,WAAW;IACX,KAAApb,QAAQ,GAARA,QAAQ;IACR,KAAAwW,qBAAqB,GAArBA,qBAAqB;IAnBxB,KAAA6E,WAAW,GAAiB,EAAE;IAGrC,KAAA9c,cAAc,GAAY,KAAK;IAC/B,KAAA7J,aAAa,GAAW,YAAY;IAC5B,KAAA0L,eAAe,GAAiB,IAAI/T,yCAAO,EAAO;IAgBxD;IACA,IAAI,CAACsT,eAAe,CAAC0C,QAAQ,CAC1BC,IAAI,CAAC/V,+CAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,CAAC,CACrCmC,SAAS,CAACC,OAAO,IAAG;MACnB,IAAI,CAAC/N,cAAc,GAAG+N,OAAO,CAAC/N,cAAc;MAC5C,IAAI,CAACgO,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;MAChD,IAAI,CAAClE,cAAc,GAAGiE,OAAO,CAACjE,cAAc,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK;IACnE,CAAC,CAAC;EACN;EAEA0E,QAAQA,CAAA;IACN,IAAI,CAACkX,WAAW,GAAG,IAAIvtB,qDAAS,CAAC;MAC/B0uB,iBAAiB,EAAE,IAAI3uB,uDAAW,CAAE,EAAG,CAAC;MACxC4uB,cAAc,EAAE,IAAI5uB,uDAAW,CAAE,EAAG,CAAC;MACrC4X,WAAW,EAAE,IAAI5X,uDAAW,CAAE,EAAG,CAAC;MAClCmX,OAAO,EAAE,IAAInX,uDAAW,CAAE,EAAG,CAAC;MAC9BqX,QAAQ,EAAE,IAAIrX,uDAAW,CAAE,EAAG;KAC/B,CAAC;IAEF;IACA,IAAI,CAACgT,eAAe,CAACuD,UAAU,EAAE;IACjC,IAAI,CAACiX,WAAW,CAACtQ,UAAU,CAAC,IAAI,CAAC1K,IAAI,CAAC8B,MAAM,CAAC;IAE7C,IAAI,CAACmC,YAAY,EAAE;EAErB;EAEA+B,WAAWA,CAAA;IACT,IAAI,CAAC/E,eAAe,CAACyC,IAAI,CAAC,IAAI,CAAC;IAC/B,IAAI,CAACzC,eAAe,CAACob,QAAQ,EAAE;EACjC;EAEA;;;EAGMpY,YAAYA,CAAA;IAAA,IAAAuF,KAAA;IAAA,OAAAC,kIAAA;MAChB,MAAMM,OAAO,CAACC,GAAG,CAAC,CAChBR,KAAI,CAACD,WAAW,EAAE,EAClBC,KAAI,CAACS,aAAa,EAAE,EACpBT,KAAI,CAAC8S,cAAc,EAAE,CACtB,CAAC,CAAChS,IAAI,CAAC,MAAK,CACb,CAAC,CAAC;IAAA;EACJ;EACAiS,YAAYA,CAAA;IACV,IAAI,CAACvB,WAAW,CAACxT,KAAK,CAAC;MACrB2U,iBAAiB,EAAE,EAAE;MACrBC,cAAc,EAAE,EAAE;MAClBhX,WAAW,EAAE,CAAC,CAAC;MACfT,OAAO,EAAE,CAAC,CAAC;MACXE,QAAQ,EAAE,CAAC;KACZ,CAAC;EACJ;EAEAwP,WAAWA,CAACrU,IAAA,GAAY,IAAI;IAC1B,IAAIA,IAAI,EAAE;MACRA,IAAI,CAACmc,iBAAiB,GAAG,IAAI,CAACtb,QAAQ,CAAC4D,SAAS,CAAC,IAAI,CAACuW,WAAW,CAAChoB,GAAG,CAAC,mBAAmB,CAAC,CAACC,KAAK,EAAE,YAAY,CAAC;MAC/G+M,IAAI,CAACoc,cAAc,GAAG,IAAI,CAACvb,QAAQ,CAAC4D,SAAS,CAAC,IAAI,CAACuW,WAAW,CAAChoB,GAAG,CAAC,gBAAgB,CAAC,CAACC,KAAK,EAAE,YAAY,CAAC;;IAE3G,IAAI,CAACgpB,WAAW,CAAC3H,KAAK,CAACtU,IAAI,CAAC;EAC9B;EAEMuJ,WAAWA,CAAC4B,MAAO;IAAA,IAAArB,MAAA;IAAA,OAAAL,kIAAA;MACvB,MAAM4B,QAAQ,SAASve,oDAAc,CAACgd,MAAI,CAACuN,qBAAqB,CAAC9N,WAAW,CAAC4B,MAAM,CAAC,CAAC;MACrF,IAAIpB,OAAO;QAAA,IAAAU,IAAA,GAAAhB,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC5BL,MAAI,CAACyB,QAAQ,GAAGF,QAAQ,CAAC/G,IAAI;UAC7BwF,MAAI,CAAC7K,gBAAgB,GAAG6K,MAAI,CAACkR,WAAW,CAAChoB,GAAG,CAAC,SAAS,CAAC,CAACkR,YAAY,CAACf,IAAI,CACvElW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAK6W,MAAI,CAAC0B,aAAa,CAACvY,KAAK,EAAE,UAAU,CAAC,CAAC,CACtD;UAEDkX,OAAO,CAAC,IAAI,CAAC;QACf,CAAC;QAAA,iBAAAa,EAAA;UAAA,OAAAP,IAAA,CAAAQ,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACJ;EAEMjB,aAAaA,CAACkB,MAAO;IAAA,IAAAZ,MAAA;IAAA,OAAAd,kIAAA;MACzB,MAAM4C,UAAU,SAASvf,oDAAc,CAACyd,MAAI,CAAC8M,qBAAqB,CAACpN,aAAa,CAACkB,MAAM,CAAC,CAAC;MACzF,IAAIpB,OAAO;QAAA,IAAAuB,KAAA,GAAA7B,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC5BI,MAAI,CAACgC,UAAU,GAAGF,UAAU,CAAC,MAAM,CAAC;UACpC9B,MAAI,CAACpL,kBAAkB,GAAGoL,MAAI,CAACyQ,WAAW,CAAChoB,GAAG,CAAC,UAAU,CAAC,CAACkR,YAAY,CAACf,IAAI,CAC1ElW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAKsX,MAAI,CAACiC,gBAAgB,CAACvZ,KAAK,CAAC,CAAC,CAC7C;UAEDkX,OAAO,CAAC,IAAI,CAAC;QACf,CAAC;QAAA,iBAAAsB,GAAA;UAAA,OAAAH,KAAA,CAAAL,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACJ;EAEMoR,cAAcA,CAAA;IAAA,IAAAlR,MAAA;IAAA,OAAA3B,kIAAA;MAClB,MAAMuC,YAAY,SAASlf,oDAAc,CAACse,MAAI,CAACiM,qBAAqB,CAACjN,eAAe,EAAE,CAAC;MACvF,IAAIL,OAAO;QAAA,IAAA6B,KAAA,GAAAnC,kIAAA,CAAC,WAAOU,OAAO,EAAI;UAC5BiB,MAAI,CAACc,YAAY,GAAGF,YAAY,CAAC,MAAM,CAAC;UACxCZ,MAAI,CAAC7X,oBAAoB,GAAG6X,MAAI,CAAC4P,WAAW,CAAChoB,GAAG,CAAC,aAAa,CAAC,CAACkR,YAAY,CAACf,IAAI,CAC/ElW,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAAEkG,KAAK,IAAKmY,MAAI,CAACI,aAAa,CAACvY,KAAK,EAAE,cAAc,CAAC,CAAC,CAC1D;UAEDkX,OAAO,CAAC,IAAI,CAAC;QACf,CAAC;QAAA,iBAAA2B,GAAA;UAAA,OAAAF,KAAA,CAAAX,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IAAA;EACJ;EAEA/X,eAAeA,CAACgY,MAAM;IACpB,IAAIA,MAAM,CAAC0C,WAAW,IAAI1C,MAAM,CAAC2C,WAAW,EAAE,OAAO3C,MAAM,GAAGA,MAAM,CAAC0C,WAAW,IAAI1C,MAAM,CAAC2C,WAAW,GAAG,EAAE;IAE3G,IAAI3C,MAAM,CAAC1b,WAAW,EAAE,OAAO0b,MAAM,GAAGA,MAAM,CAAC1b,WAAW,GAAG,EAAE;IAE/D,IAAI0b,MAAM,CAAC4C,IAAI,EAAE,OAAO5C,MAAM,GAAG,GAAGA,MAAM,CAAChb,MAAM,IAAIgb,MAAM,CAAC/a,QAAQ,EAAE,GAAG,EAAE;EAC7E;EAEA;;;;;;EAMQob,aAAaA,CAACnE,IAAqB,EAAEuG,KAAc;IACzD,MAAMH,WAAW,GAAGpG,IAAI,CAACoB,QAAQ,EAAE,CAACiF,WAAW,EAAE;IACjD,OAAO,IAAI,CAAC,GAAGE,KAAK,EAAE,CAAC,CAAC9L,MAAM,CAACuF,IAAI,IAAIA,IAAI,CAAC5X,WAAW,CAACie,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC,CAAC;EAC9F;EAEQjB,gBAAgBA,CAAC3H,QAAkB;IACzC,MAAM4I,WAAW,GAAG5I,QAAQ,CAAC4D,QAAQ,EAAE,CAACiF,WAAW,EAAE;IACrD,OAAO,IAAI,CAACnB,UAAU,CAACzK,MAAM,CAAC+C,QAAQ,IAAIA,QAAQ,CAAC1U,MAAM,CAACud,WAAW,EAAE,CAACC,QAAQ,CAACF,WAAW,CAAC,CAAC;EAChG;EAEA;;;EAGA5d,gBAAgBA,CAAC+W,KAAK;IAEpB,IAAIA,KAAK,KAAK,OAAO,EAAE;MACrB,IAAI,CAACoU,WAAW,CAAChoB,GAAG,CAAC,mBAAmB,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;MACtD,IAAI,CAACmU,WAAW,CAAChoB,GAAG,CAAC,gBAAgB,CAAC,CAAC6T,QAAQ,CAAC,EAAE,CAAC;;IAGrD,IAAI,IAAI,CAACmU,WAAW,CAAChoB,GAAG,CAAC4T,KAAK,CAAC,EAAE;MAC/B,IAAI,CAACoU,WAAW,CAAChoB,GAAG,CAAC4T,KAAK,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE5C;;AAhKWmV,mBAAmB;mBAAnBA,mBAAmB,EAAA9tB,+DAAA,CAiBpB,WAAW,GAAAA,+DAAA,CAAA0iB,+EAAA,GAAA1iB,+DAAA,CAAA4iB,kFAAA,GAAA5iB,+DAAA,CAAA8iB,sDAAA,GAAA9iB,+DAAA,CAAAgjB,kFAAA;AAAA;AAjBV8K,mBAAmB;QAAnBA,mBAAmB;EAAApK,SAAA;EAAAO,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAkK,6BAAAzK,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCnBhC7jB,4DAAA,aACmC;MAGgBA,oDAAA,cAAO;MAAAA,0DAAA,EAAO;MACzDA,4DAAA,UAAK;MACyCA,wDAAA,mBAAAuuB,qDAAA;QAAA,OAASzK,GAAA,CAAAuK,YAAA,EAAc;MAAA,EAAC;MAC9DruB,4DAAA,kBAA6B;MAAAA,oDAAA,cAAO;MAAAA,0DAAA,EAAW;MAEnDA,4DAAA,gBAAoD;MAA5BA,wDAAA,mBAAAwuB,qDAAA;QAAA,OAAS1K,GAAA,CAAAqC,WAAA,CAAY,IAAI,CAAC;MAAA,EAAC;MAC/CnmB,4DAAA,kBAA6B;MAAAA,oDAAA,aAAK;MAAAA,0DAAA,EAAW;MAIzDA,4DAAA,eAAkF;MAE1BA,oDAAA,uBAAe;MAAAA,0DAAA,EAAO;MAC1EA,4DAAA,yBAA+F;MAEvFA,uDAAA,iBAA4E;MAEhFA,0DAAA,EAAuB;MACvBA,wDAAA,KAAAyuB,qDAAA,oCAC4H;MAC5HzuB,uDAAA,uCAAuD;MACvDA,wDAAA,KAAA0uB,sCAAA,qBAGS;MACb1uB,0DAAA,EAAiB;MAGjBA,wDAAA,KAAA2uB,oCAAA,mBAAqG;MACrG3uB,wDAAA,KAAA4uB,8CAAA,8BAiBiB;MAGjB5uB,wDAAA,KAAA6uB,oCAAA,mBAAuG;MACvG7uB,wDAAA,KAAA8uB,8CAAA,8BAgBiB;MAGjB9uB,wDAAA,KAAA+uB,oCAAA,mBAA+H;MAC/H/uB,wDAAA,KAAAgvB,8CAAA,8BAgBiB;MACrBhvB,0DAAA,EAAO;MACPA,4DAAA,eAA+D;MAIvDA,wDAAA,mBAAAivB,sDAAA;QAAA,OAASnL,GAAA,CAAAuK,YAAA,EAAc;MAAA,EAAC;MACxBruB,4DAAA,gBAAoC;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAO;MAEtDA,4DAAA,kBAGqD;MAAjDA,wDAAA,mBAAAkvB,sDAAA;QAAA,OAASpL,GAAA,CAAAqC,WAAA,CAAYrC,GAAA,CAAAgJ,WAAA,CAAAqC,WAAA,EAAyB,CAAC;MAAA,EAAC;MAChDnvB,4DAAA,gBAAmC;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAO;;;;MAtGzDA,wDAAA,+BAA8B;MACzBA,uDAAA,GAA6C;MAA7CA,wDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,yDAAA,qBAAA8jB,GAAA,CAAA1c,cAAA,OAAgD;MAY3CpH,uDAAA,IAAyB;MAAzBA,wDAAA,cAAA8jB,GAAA,CAAAgJ,WAAA,CAAyB;MAInD9sB,uDAAA,GAAsB;MAAtBA,wDAAA,gBAAAosB,GAAA,CAAsB;MAKvCpsB,uDAAA,GAA6F;MAA7FA,wDAAA,UAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,sBAAAC,KAAA,KAAA+e,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,mBAAAC,KAAA,CAA6F;MAG7F/E,uDAAA,GAA2F;MAA3FA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,sBAAAC,KAAA,IAAA+e,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,mBAAAC,KAAA,CAA2F;MAM7F/E,uDAAA,GAAgC;MAAhCA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,YAAgC;MACtB9E,uDAAA,GAAgC;MAAhCA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,YAAgC;MAoB1C9E,uDAAA,GAAiC;MAAjCA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,aAAiC;MACvB9E,uDAAA,GAAiC;MAAjCA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,aAAiC;MAmB3C9E,uDAAA,GAAsD;MAAtDA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,mBAAAgf,GAAA,CAAA5S,cAAA,CAAsD;MAC5ClR,uDAAA,GAAsD;MAAtDA,wDAAA,SAAA8jB,GAAA,CAAAgJ,WAAA,CAAAhoB,GAAA,mBAAAgf,GAAA,CAAA5S,cAAA,CAAsD;MAmB/ClR,uDAAA,GAA6C;MAA7CA,wDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,yDAAA,UAAA8jB,GAAA,CAAA1c,cAAA,OAAqC,WAAA0c,GAAA,CAAA1c,cAAA;MAMjFpH,uDAAA,GAA6C;MAA7CA,wDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MACnErH,yDAAA,qBAAA8jB,GAAA,CAAA1c,cAAA,OAAgD;;;;;;eDnF9C+kB,4DAAcA;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjByE;AACT;AAChC;AAGf;AACuD;AAE7C;AAUmB;AAES;;;;;;;;;;;;;;;;;;IChBvEnsB,6DAAA,oBAEmF;IAFxCA,yDAAA,mBAAAovB,kEAAA;MAAApvB,4DAAA,CAAAonB,GAAA;MAAA,MAAA1W,MAAA,GAAA1Q,4DAAA;MAAA,OAASA,0DAAA,CAAA0Q,MAAA,CAAAmK,SAAA,EAAW;IAAA,EAAC;IAG5D7a,6DAAA,aAA+B;IAE3BA,6DAAA,EACuC;IADvCA,6DAAA,cACuC;IACnCA,wDAAA,eAC0Y;IAC9YA,2DAAA,EAAM;IACNA,8DAAA,EAAmD;IAAnDA,6DAAA,eAAmD;IAAAA,qDAAA,kBAAW;IAAAA,2DAAA,EAAO;;;;IAVNA,yDAAA,CAAAgmB,MAAA,CAAA5e,cAAA,QAAA4e,MAAA,CAAA3e,aAAA,CAA6C;IAChHrH,0DAAA,WAAAgmB,MAAA,CAAA5e,cAAA,OAAqC,UAAA4e,MAAA,CAAA5e,cAAA;;;ADiBrD,MAKaioB,uBAAuB;EAkChChd,YACYE,sBAA6C,EAC7CD,eAA+B,EAC/B8W,OAAgC,EAChC3W,KAAsB,EACtBC,OAAkB,EAClBkS,cAA6B,EAC7B/R,MAAc,EACfL,kBAAqC,EACpC8c,UAAsB,EACtBzK,YAA6B;IAT7B,KAAAtS,sBAAsB,GAAtBA,sBAAsB;IACtB,KAAAD,eAAe,GAAfA,eAAe;IACf,KAAA8W,OAAO,GAAPA,OAAO;IACP,KAAA3W,KAAK,GAALA,KAAK;IACL,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAkS,cAAc,GAAdA,cAAc;IACd,KAAA/R,MAAM,GAANA,MAAM;IACP,KAAAL,kBAAkB,GAAlBA,kBAAkB;IACjB,KAAA8c,UAAU,GAAVA,UAAU;IACV,KAAAzK,YAAY,GAAZA,YAAY;IA3CxB;IACA,KAAAQ,MAAM,GAAgB,IAAI/lB,wDAAW,CAAC,EAAE,CAAC;IAIzC,KAAA+H,aAAa,GAAW,6BAA6B;IAC7C,KAAA0L,eAAe,GAAiB,IAAI/T,0CAAO,EAAO;IAE1D;IACA,KAAA+lB,OAAO,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,aAAa,EAAE,OAAO,EAAE,UAAU,CAAC;IACtG,KAAAC,aAAa,GAAG,CAAC,WAAW,EAAE,QAAQ,EAAE,cAAc,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,aAAa,EAAE,eAAe,EAAE,UAAU,CAAC;IAInI,KAAAuK,aAAa,GAAU,EAAE;IAClB,KAAAviB,UAAU,GAAwC,IAAItN,wEAAkB,EAAE;IACjF,KAAA8T,eAAe,GAAG,IAAI;IACtB,KAAAgc,cAAc,GAAG,IAAI;IAErB,KAAA7b,cAAc,GAAW,EAAE;IAC3B,KAAAsR,WAAW,GAAG,CAAC,SAAS,CAAC;IACzB,KAAArR,MAAM,GAAY;MACd+C,QAAQ,EAAE,CAAC,CAAC;MACZF,OAAO,EAAE,CAAC,CAAC;MACXS,WAAW,EAAE,CAAC,CAAC;MACf+W,iBAAiB,EAAE,EAAE;MACrBC,cAAc,EAAE;KACnB;IACQ,KAAAza,WAAW,GAAG,EAAE;IACf,KAAAgc,sBAAsB,GAAG,IAAInxB,wDAAY,EAAO;IAC1D,KAAA4mB,GAAG,GAAGplB,+FAAyC,GAAG,cAAc;IAChE,KAAA6vB,UAAU,GAAY,KAAK;IAevB,IAAI,CAACnd,kBAAkB,CAACod,SAAS,CAAC,IAAI,CAAC/c,MAAM,CAAC;IAE9C;;;IAGA,IAAI,CAACW,eAAe,GAAG,CACnB;MACIqc,WAAW,EAAG3V,KAAsB,IAAK,EAAE;MAC3C4V,cAAc,EAAG5V,KAAsB,IAAK,EAAE;MAC9C6V,kBAAkB,EAAG7V,KAAsB,IAAK,EAAE;MAClD8V,OAAO,EAAG9V,KAAsB,IAAK;KACxC,CACJ;IAED,IAAI,CAAC+V,QAAQ,GAAI/V,KAAsB,IAAK,IAAI;IAEhD,IAAI,CAACsV,cAAc,GAAG,CAClB;MACIU,YAAY,EAAE,QAAQ;MACtBC,YAAY,EAAE,QAAQ;MACtBN,WAAW,EAAG3V,KAAsB,IAAKA,KAAK,CAACkW,eAAe,KAAK,IAAI,GAAG,iBAAiB,GAAG,0BAA0B;MACxHN,cAAc,EAAG5V,KAAsB,IAAK,EAAE;MAC9C6V,kBAAkB,EAAG7V,KAAsB,IAAKA,KAAK,CAACkW,eAAe,KAAK,KAAK,GAAG,0BAA0B,GAAG,EAAE;MACjHJ,OAAO,EAAG9V,KAAsB,IAAK;KACxC,EACD;MACIgW,YAAY,EAAE,UAAU;MACxBC,YAAY,EAAE,UAAU;MACxBN,WAAW,EAAG3V,KAAsB,IAAKA,KAAK,CAACoO,cAAc,KAAK,IAAI,GAAG,mBAAmB,GAAG,4BAA4B;MAC3HwH,cAAc,EAAG5V,KAAsB,IAAK,EAAE;MAC9C6V,kBAAkB,EAAG7V,KAAsB,IAAKA,KAAK,CAACoO,cAAc,KAAK,KAAK,GAAG,4BAA4B,GAAG,EAAE;MAClH0H,OAAO,EAAG9V,KAAsB,IAAK;KACxC,EACD;MACIgW,YAAY,EAAE,2BAA2B;MACzCC,YAAY,EAAE,gBAAgB;MAC9BN,WAAW,EAAG3V,KAAsB,IAAK,8BAA8B;MACvE4V,cAAc,EAAG5V,KAAsB,IAAK,EAAE;MAC9C6V,kBAAkB,EAAG7V,KAAsB,IAAK,EAAE;MAClD8V,OAAO,EAAG9V,KAAsB,IAAK;KACxC,EACD;MACIgW,YAAY,EAAE,oBAAoB;MAClCC,YAAY,EAAE,4BAA4B;MAC1CN,WAAW,EAAG3V,KAAsB,IAAK,IAAI,CAACyV,UAAU,IAAIzV,KAAK,CAACmW,UAAU,KAAK,CAAC,GAAG,sBAAsB,GAAG,+BAA+B;MAC7IP,cAAc,EAAG5V,KAAsB,IAAK,EAAE;MAC9C6V,kBAAkB,EAAG7V,KAAsB,IAAK,EAAE;MAClD8V,OAAO,EAAG9V,KAAsB,IAAK;KACxC,EACD;MACIgW,YAAY,EAAE,mBAAmB;MACjCC,YAAY,EAAE,gBAAgB;MAC9BN,WAAW,EAAG3V,KAAsB,IAAKA,KAAK,CAACmW,UAAU,KAAK,CAAC,GAAG,sBAAsB,GAAG,+BAA+B;MAC1HP,cAAc,EAAG5V,KAAsB,IAAK,EAAE;MAC9C6V,kBAAkB,EAAG7V,KAAsB,IAAK,EAAE;MAClD8V,OAAO,EAAG9V,KAAsB,IAAK;KACxC,CACJ;IAED;IACA,IAAI,CAAC5H,eAAe,CAAC0C,QAAQ,CACxBC,IAAI,CAAC/V,gDAAS,CAAC,IAAI,CAAC6T,eAAe,CAAC,CAAC,CACrCmC,SAAS,CAACC,OAAO,IAAG;MACjB,IAAI,CAAC/N,cAAc,GAAG+N,OAAO,CAAC/N,cAAc;MAC5C,IAAI,CAACgO,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;IACpD,CAAC,CAAC;EACV;EAGAQ,QAAQA,CAAA;IAEJ;IACA,IAAI,CAACtD,eAAe,CAACuD,UAAU,EAAE;IACjC,IAAI,CAACyP,cAAc,GAAG,IAAI,CAACV,cAAc,CAACW,aAAa,EAAE,CAACtQ,IAAI;IAAE;IAC5DxW,mDAAY,CAAC,GAAG,CAAC,EACjBC,2DAAoB,EAAE,CACzB,CACIwW,SAAS,CAACnQ,KAAK,IAAG;MACf,IAAI,CAAC4O,cAAc,GAAG5O,KAAK;MAC3B,IAAI,CAACygB,KAAK,CAACC,OAAO,CAAC,IAAI,CAAC9R,cAAc,CAAC;IAC3C,CAAC,CAAC;IAEN,IAAI,CAAC2c,eAAe,GAAG,IAAI,CAAC1L,cAAc,CAAC2L,cAAc,EAAE,CAACrb,SAAS,CAACsb,KAAK,IAAG;MAC1E,IAAI,CAACC,YAAY,CAAC,IAAI,CAAC7L,cAAc,CAAC8L,eAAe,EAAE,CAAC;IAC5D,CAAC,CAAC;EACN;EAEA7V,SAASA,CAAA;IACL,IAAI,CAAChI,MAAM,CAACgF,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC;EAC1C;EAEA8C,WAAWA,CAAC6V,KAAK;IACb,MAAMpW,EAAE,GAAGoW,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACuC,OAAO;IACpC,IAAI,CAACxB,MAAM,CAACgF,QAAQ,CAAC,CAAC,kBAAkB,EAAEuC,EAAE,CAAC,CAAC;EAClD;EAEAwW,wBAAwBA,CAACJ,KAAK;IAC1B,MAAMpW,EAAE,GAAGoW,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACuC,OAAO;IACpC,IAAI,CAACxB,MAAM,CAACgF,QAAQ,CAAC,CAAC,wBAAwB,EAAEuC,EAAE,CAAC,CAAC;EACxD;EAEA;;;;EAIAyW,WAAWA,CAACL,KAAK;IACb,IAAI,CAACpH,OAAO,CAACrO,IAAI,CAAC;MACdkL,KAAK,EAAE,kBAAkB,GAAGuK,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACuC,OAAO;MACrDzT,OAAO,EAAE,6BAA6B4vB,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACuC,OAAO,OAAOmc,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAAC2E,OAAO,GAAG;MAClG0U,WAAW,EAAE,KAAK;MAClBC,OAAO,EAAE;QACLhC,OAAO,EAAE;UACLiC,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE,MAAM;UACbC,KAAK,EAAE;SACV;QACDC,MAAM,EAAE;UACJH,IAAI,EAAE,IAAI;UACVE,KAAK,EAAE;;;KAGlB,CAAC,CACGtQ,WAAW,EAAE,CACb/F,SAAS,CAACsV,GAAG,IAAG;MACb,IAAIA,GAAG,KAAK,WAAW,EAAE;QACrB,IAAI,CAACjY,sBAAsB,CAACse,WAAW,CAACL,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACuC,OAAO,CAAC,CAACa,SAAS,CAAC;UACzEM,IAAI,EAAGgV,GAAG,IAAI;YACV;YACA,IAAI,CAAC/X,KAAK,CAAC0I,OAAO,CAAC,4BAA4B,CAAC;YAChD,IAAIqP,GAAG,EAAE;cACL,IAAI,CAAChF,KAAK,CAACsL,WAAW,EAAE;;UAEhC,CAAC;UACD9X,KAAK,EAAGA,KAAK,IAAI;YACb;YACAoC,OAAO,CAACpC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;YAC7C,IAAI,CAACvG,KAAK,CAACqG,OAAO,CAAC,4DAA4D,CAAC;UACpF;SACH,CAAC;;IAEV,CAAC,CAAC;EACV;EAEAiY,aAAaA,CAACP,KAAK;IACf,IAAI,CAAC9d,OAAO,CACPqI,IAAI,CAACmO,4FAAsB,EAAE;MAAEpX,IAAI,EAAE0e,KAAK,CAACG,MAAM,CAAC7e,IAAI;MAAEkJ,UAAU,EAAE,WAAW;MAAEgW,SAAS,EAAE;IAAK,CAAE,CAAC,CACpG/V,WAAW,EAAE,CACb/F,SAAS,CAAC;MACPM,IAAI,EAAEA,CAAA,KAAK,CAEX;KACH,CAAC;EACV;EAEAyb,cAAcA,CAACrQ,KAAc;IACzB,IAAI,CAAC+O,UAAU,GAAG/O,KAAK;EAC3B;EAEA6P,YAAYA,CAACS,MAAiB;IAC1B,IAAI,CAACrM,YAAY,CACZ9J,IAAI,CAAC+S,mFAAmB,EAAEoD,MAAM,CAACC,WAAW,EAAE;MAC3Cvd,MAAM,EAAE,IAAI,CAACA,MAAM;MACnB9B,IAAI,EAAE,IAAI,CAAC0T,KAAK,CAAC4L,sBAAsB;KAC1C,CAAC,CACDnW,WAAW,EAAE,CACb/F,SAAS,CAAC;MACPM,IAAI,EAAE5B,MAAM,IAAG;QACX,IAAIA,MAAM,EAAE;UACR,IAAI,CAACA,MAAM,GAAGA,MAAM;UACpB,IAAI,CAACH,WAAW,GAAG,IAAI,CAACG,MAAM,CAAC+C,QAAQ,IAAI,CAAC,CAAC,GAAG,oBAAoB,GAAG,IAAI,CAAC/C,MAAM,CAAC+C,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,EAAE;UAChH,IAAI,CAAClD,WAAW,IAAI,IAAI,CAACG,MAAM,CAAC6C,OAAO,IAAI,CAAC,CAAC,GAAG,oBAAoB,GAAG,IAAI,CAAC7C,MAAM,CAAC6C,OAAO,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE;UAC3G,IAAI,CAAChD,WAAW,IAAI,IAAI,CAACG,MAAM,CAACsD,WAAW,IAAI,CAAC,CAAC,GAAG,wBAAwB,GAAG,IAAI,CAACtD,MAAM,CAACsD,WAAW,CAAC,eAAe,CAAC,GAAG,GAAG,GAAG,EAAE;UAClI,IAAI,CAACzD,WAAW,IAAI,IAAI,CAACG,MAAM,CAACqa,iBAAiB,IAAI,IAAI,GAAG,qBAAqB,GAAG,IAAI,CAACra,MAAM,CAACqa,iBAAiB,GAAG,GAAG,GAAG,EAAE;UAC5H,IAAI,CAACxa,WAAW,IAAI,IAAI,CAACG,MAAM,CAACsa,cAAc,IAAI,IAAI,GAAG,qBAAqB,GAAG,IAAI,CAACta,MAAM,CAACsa,cAAc,GAAG,GAAG,GAAG,EAAE;UACtH,IAAI,CAAC1I,KAAK,CAACC,OAAO,CAAC,IAAI,CAAC9R,cAAc,CAAC;;MAE/C;KACH,CAAC;EACV;EAEA;;;;EAIA0d,eAAeA,CAACb,KAAoC;IAChD,QAAQA,KAAK,CAACrP,IAAI;MACd,KAAK,QAAQ;QACT,IAAIqP,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACse,eAAe,KAAK,KAAK,EAAE;UAC7C,IAAII,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACue,UAAU,KAAK,CAAC,EAAE;YACpC,IAAI,IAAI,CAACV,UAAU,KAAK,IAAI,EAAE;cAC1B,OAAO,IAAI,CAACld,KAAK,CAACqG,OAAO,CAAC,kFAAkF,CAAC;aAChH,MAAM;cACH,OAAO,IAAI,CAACrG,KAAK,CAACqG,OAAO,CAAC,yCAAyC,CAAC;;WAE3E,MAAM;YACH,OAAO,IAAI,CAACrG,KAAK,CAACqG,OAAO,CAAC,oDAAoD,CAAC;;SAEtF,MAAM;UACH,IAAI,CAAC6B,WAAW,CAAC6V,KAAK,CAAC;;QAE3B;MACJ,KAAK,UAAU;QAEX,IAAIA,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACwW,cAAc,KAAK,KAAK,EAAE;UAC5C,IAAIkI,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACue,UAAU,KAAK,CAAC,EAAE;YACpC,IAAI,IAAI,CAACV,UAAU,KAAK,IAAI,EAAE;cAC1B,OAAO,IAAI,CAACld,KAAK,CAACqG,OAAO,CAAC,oFAAoF,CAAC;aAClH,MAAM;cACH,OAAO,IAAI,CAACrG,KAAK,CAACqG,OAAO,CAAC,2CAA2C,CAAC;;WAE7E,MAAM;YACH,OAAO,IAAI,CAACrG,KAAK,CAACqG,OAAO,CAAC,sDAAsD,CAAC;;SAExF,MAAM;UACH,IAAI,CAAC+X,WAAW,CAACL,KAAK,CAAC;;QAE3B;MACJ,KAAK,gBAAgB;QACjB,IAAI,CAACc,oBAAoB,CAACd,KAAK,CAAC;QAChC;MACJ,KAAK,4BAA4B;QAC7B,IAAIA,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACue,UAAU,KAAK,CAAC,EAAE;UACpC,OAAO,IAAI,CAAC5d,KAAK,CAACqG,OAAO,CAAC,8DAA8D,CAAC;SAC5F,MAAM,IAAI,IAAI,CAAC6W,UAAU,KAAK,KAAK,IAAIa,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACse,eAAe,KAAK,KAAK,EAAE;UACjF,OAAO,IAAI,CAAC3d,KAAK,CAACqG,OAAO,CAAC,kDAAkD,CAAC;SAChF,MAAM;UACH,IAAI,CAAC8X,wBAAwB,CAACJ,KAAK,CAAC;;QAExC;MACJ,KAAK,gBAAgB;QACjB,IAAIA,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAACue,UAAU,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC5d,KAAK,CAACgP,IAAI,CAAC,6DAA6D,CAAC;QAC7H,IAAI,CAACsP,aAAa,CAACP,KAAK,CAAC;QACzB;;EAEZ;EAEA;;;;EAIAe,iBAAiBA,CAACC,gBAAuB;IACrC,IAAI,CAACjC,aAAa,GAAGiC,gBAAgB;EACzC;EAEA;;;EAGAF,oBAAoBA,CAACd,KAAM;IACvB,IAAIvW,OAAO,GAAG,IAAI;IAElB;IACA,IAAIuW,KAAK,EAAE;MACP;MACA,IAAI,CAACjB,aAAa,CAACkC,IAAI,CAACjB,KAAK,CAACG,MAAM,CAAC7e,IAAI,CAAC;;IAG9C;IACA,IAAI,CAAC0e,KAAK,KAAK,CAAC,IAAI,CAACjB,aAAa,IAAI,IAAI,CAACA,aAAa,CAACne,MAAM,KAAK,CAAC,CAAC,EAAE;MACpE,OAAO,IAAI,CAACqB,KAAK,CAACuG,KAAK,CAAC,oCAAoC,CAAC;KAChE,MAAM;MACH;MACAiB,OAAO,GAAG;QACN;QACAyX,mBAAmB,EAAE,IAAI,CAACnC,aAAa,CAAC1wB,GAAG,CAAC8yB,OAAO,IAAG;UAClD,IAAIC,KAAK,GAAGD,OAAO,CAACtB,UAAU,KAAK,CAAC,GAAG,SAAS,GAAG,iBAAiB;UACpE,OAAO;YAAE,CAACuB,KAAK,GAAGD,OAAO,CAAC,GAAGC,KAAK,EAAE;UAAC,CAAE;QAC3C,CAAC;OACJ;MAED,IAAI,CAACrf,sBAAsB,CAAC+e,oBAAoB,CAACrX,OAAO,CAAC,CAAC/E,SAAS,CAAC;QAChEM,IAAI,EAAG1D,IAAI,IAAI;UACX,IAAIA,IAAI,CAACqJ,OAAO,KAAK,IAAI,EAAE;YACvB,MAAM0W,WAAW,GAAG/f,IAAI,CAAC/L,IAAI;YAE7B,IAAI,IAAI,CAACupB,UAAU,CAACwC,KAAK,EAAE,EAAE;cACzB,IAAI,CAACjf,MAAM,CAACgF,QAAQ,CAAC,CAAC,UAAU,EAAEga,WAAW,CAAC,CAAC;aAClD,MAAM;cACH,MAAME,UAAU,GAAG,GAAGjyB,0EAAoB,IAAI+xB,WAAW,EAAE;cAC3D;cACA,MAAMG,SAAS,GAAGC,MAAM,CAAClX,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;cAC3C,IAAIiX,SAAS,EAAE;gBACXA,SAAS,CAACE,QAAQ,CAACC,IAAI,GAAGJ,UAAU,CAAC,CAAC;eACzC,MAAM;gBACH3W,OAAO,CAACpC,KAAK,CAAC,oCAAoC,CAAC;;;YAI3D;YACA,IAAI,CAACuW,aAAa,GAAG,EAAE;WAC1B,MAAM;YACHnU,OAAO,CAACpC,KAAK,CAAC,6BAA6B,CAAC;;QAEpD,CAAC;QACDA,KAAK,EAAGA,KAAK,IAAI;UACboC,OAAO,CAACpC,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;QAC7D;OACH,CAAC;;EAGV;EAEAlB,WAAWA,CAAA;IACP,IAAI,CAAC8M,cAAc,CAACc,WAAW,EAAE;IACjC,IAAI,CAAChT,OAAO,CAAC0f,QAAQ,EAAE;EAC3B;;AA/VS/C,uBAAuB;mBAAvBA,uBAAuB,EAAArvB,gEAAA,CAAA0iB,kFAAA,GAAA1iB,gEAAA,CAAA4iB,+EAAA,GAAA5iB,gEAAA,CAAA8iB,gFAAA,GAAA9iB,gEAAA,CAAAgjB,8EAAA,GAAAhjB,gEAAA,CAAAkjB,gEAAA,GAAAljB,gEAAA,CAAAojB,kFAAA,GAAApjB,gEAAA,CAAAujB,oDAAA,GAAAvjB,gEAAA,CAAAqyB,iGAAA,GAAAryB,gEAAA,CAAAsyB,wEAAA,GAAAtyB,gEAAA,CAAAwyB,mFAAA;AAAA;AAAvBnD,uBAAuB;QAAvBA,uBAAuB;EAAA3L,SAAA;EAAAC,SAAA,WAAA8O,8BAAA5O,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;iEAmHrBpkB,8GAAsB;;;;;;;;;;;;;;;;;;MC9IrCO,6DAAA,aAA4C;MAIhCA,yDAAA,IAAA0yB,yCAAA,oBAYS;MACT1yB,6DAAA,gBAGqC;MAAjCA,yDAAA,mBAAA2yB,yDAAA;QAAA,OAAS7O,GAAA,CAAAwN,oBAAA,EAAsB;MAAA,EAAC;MAChCtxB,6DAAA,aAA+B;MAC3BA,6DAAA,EACuC;MADvCA,6DAAA,aACuC;MAE/BA,wDAAA,cACqf;MAGzfA,2DAAA,EAAI;MACJA,6DAAA,YAAM;MAEEA,wDAAA,gBACiD;MACrDA,2DAAA,EAAW;MAGnBA,8DAAA,EAAmD;MAAnDA,6DAAA,gBAAmD;MAAAA,qDAAA,gBAAQ;MAAAA,2DAAA,EAAO;MAKlFA,6DAAA,eAAuB;MAGfA,yDAAA,6BAAA4yB,gFAAA7xB,MAAA;QAAA,OAAmB+iB,GAAA,CAAAyN,iBAAA,CAAAxwB,MAAA,CAAyB;MAAA,EAAC,6BAAA8xB,gFAAA9xB,MAAA;QAAA,OAG1B+iB,GAAA,CAAAuN,eAAA,CAAAtwB,MAAA,CAAuB;MAAA,EAHG,+BAAA+xB,kFAAA/xB,MAAA;QAAA,OAIxB+iB,GAAA,CAAAmN,cAAA,CAAAlwB,MAAA,CAAsB;MAAA,EAJE;MAMjDf,2DAAA,EAAqB;;;MA/CRA,wDAAA,GAAgB;MAAhBA,yDAAA,SAAA8jB,GAAA,CAAA6L,UAAA,CAAgB;MAaD3vB,wDAAA,GAA6C;MAA7CA,yDAAA,CAAA8jB,GAAA,CAAA1c,cAAA,QAAA0c,GAAA,CAAAzc,aAAA,CAA6C;MAACrH,0DAAA,WAAA8jB,GAAA,CAAA1c,cAAA,OAAqC,UAAA0c,GAAA,CAAA1c,cAAA;MA4B7DpH,wDAAA,IAAe;MAAfA,yDAAA,gBAAe,iBAAA8jB,GAAA,CAAAiB,OAAA,2CAAAjB,GAAA,CAAAkB,aAAA,cAAAlB,GAAA,CAAAoB,GAAA,eAAApB,GAAA,CAAAtQ,eAAA,qFAAAsQ,GAAA,CAAAmB,WAAA,iBAAAnB,GAAA,CAAArQ,WAAA,cAAAqQ,GAAA,CAAA0L,cAAA,cAAA1L,GAAA,CAAAmM,QAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACzClB;AACnB;;;;AAGpC,MACapN,qBAAqB;EAC9BxQ,YAAoB0gB,IAAgB,EAAUC,YAAyB;IAAnD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,YAAY,GAAZA,YAAY;EAAiB;EAE3E;;;;;EAKA1B,oBAAoBA,CAACI,mBAAuB;IACxC,OAAO,IAAI,CAACqB,IAAI,CAACE,IAAI,CAAyB,GAAGnzB,wFAAkC,EAAE,EAAE4xB,mBAAmB,CAAC;EAC/G;EAEA7W,SAASA,CAACZ,OAAsB;IAC5B,OAAO,IAAI,CAAC8Y,IAAI,CAACE,IAAI,CAAoB,GAAGnzB,mFAA6B,EAAE,EAAEma,OAAO,CAAC;EACzF;EAEAU,WAAWA,CAACtG,OAAe,EAAE4F,OAAuB;IAChD,OAAO,IAAI,CAAC8Y,IAAI,CAACK,GAAG,CAAyB,GAAGtzB,mFAA6B,EAAE,GAAG,GAAG,GAAGuU,OAAO,EAAE4F,OAAO,CAAC;EAC7G;EAEA4W,WAAWA,CAACxc,OAAO;IACf,OAAO,IAAI,CAAC0e,IAAI,CAACM,MAAM,CAAyB,GAAGvzB,mFAA6B,EAAE,GAAG,GAAG,GAAGuU,OAAO,CAAC;EACvG;EAEA8H,aAAaA,CAAC9H,OAAe;IACzB,IAAIif,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAa,GAAGhF,4FAAsC,EAAE,GAAG,WAAW,GAAGuU,OAAO,CAAC,CACzFa,SAAS,CAAE2U,IAAS,IAAI;MACrB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK;MAC1CH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEArY,WAAWA,CAAC4B,MAAO;IACf,IAAIqW,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAa,GAAGhF,gGAA0C,EAAE,CAAC,CACrEoV,SAAS,CAAE2U,IAAS,IAAI;MACrB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK;MAC1CH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEA3X,aAAaA,CAACkB,MAAO;IACjB,IAAI4W,CAAC,GAAG,sCAAsC;IAC9C,IAAIP,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAa,GAAGhF,qFAA+B,GAAG+zB,CAAC,EAAE,CAAC,CAC9D3e,SAAS,CAAE2U,IAAS,IAAI;MACrB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK;MAC1CH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEAvd,YAAYA,CAACF,UAAmB,EAAEC,UAAmB;IACjD,IAAI2d,CAAC,GAAG,kEAAkE;IAC1E,IAAI5d,UAAU,EAAE;MACZ4d,CAAC,IAAI,uBAAuB5d,UAAU,EAAE;KAC3C,MAAM,IAAIC,UAAU,EAAE;MACnB2d,CAAC,IAAI,wCAAwC3d,UAAU,qCAAqCA,UAAU,EAAE;;IAG5G,IAAIod,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAM,GAAGhF,iFAA2B,GAAG+zB,CAAC,EAAE,CAAC,CAAC5e,IAAI,CACzDpW,yCAAG,CAAEgrB,IAAI,IAAIA,IAAK,CAAC,CACtB,CAAC3U,SAAS,CAAE2U,IAAS,IAAI;MACtB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK,EACtCH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACV,CAAC,CAAC;IACF,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEAxb,4BAA4BA,CAACjC,UAAU;IACnC,IAAI4d,CAAC,GAAG,uBAAuB5d,UAAU,EAAE;IAC3C4d,CAAC,IAAI,YAAY;IACjB,IAAIP,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAa,GAAGhF,+FAAyC,GAAG+zB,CAAC,EAAE,CAAC,CACxE3e,SAAS,CAAE2U,IAAS,IAAI;MACrB;MACAyJ,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEA1X,cAAcA,CAAA;IACV,IAAIsX,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAM,GAAGhF,6EAAuB,EAAE,CAAC,CAACmV,IAAI,CACjDpW,yCAAG,CAAEgrB,IAAI,IAAIA,IAAK,CAAC,CACtB,CAAC3U,SAAS,CAAE2U,IAAS,IAAI;MACtB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK,EACtCH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACV,CAAC,CAAC;IACF,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEAxX,eAAeA,CAAA;IACX,IAAIoX,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAM,GAAGhF,kGAA4C,EAAE,CAAC,CAACmV,IAAI,CACtEpW,yCAAG,CAAEgrB,IAAI,IAAIA,IAAK,CAAC,CACtB,CAAC3U,SAAS,CAAE2U,IAAS,IAAI;MACtB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK,EACtCH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACV,CAAC,CAAC;IACF,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEApK,UAAUA,CAACrM,MAAO;IACd,IAAI4W,CAAC,GAAG,GAAG;IACXA,CAAC,IAAI,CAAC5W,MAAM,GAAG,kBAAkB,GAAG,EAAE;IACtC,IAAIqW,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAa,GAAGhF,+FAAyC,GAAG+zB,CAAC,EAAE,CAAC,CACxE3e,SAAS,CAAE2U,IAAS,IAAI;MACrB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK;MAC1CH,OAAO,CAAC9d,IAAI,CAAC;QACTY,IAAI,EAAEyT,IAAI,CAAC3O;OACd,CAAC;IACN,CAAC,CAAC;IACN,OAAOoY,OAAO,CAACI,YAAY,EAAE;EACjC;EAEAnK,cAAcA,CAAClV,OAAe;IAC1B,IAAIif,OAAO,GAAG,IAAIt0B,yCAAO,EAAO;IAChC,IAAI,CAAC+zB,IAAI,CAACjuB,GAAG,CAAa,GAAGhF,+FAAyC,oBAAoBuU,OAAO,EAAE,CAAC,CAC/Fa,SAAS,CAAE2U,IAAS,IAAI;MACrB,IAAI,CAACmJ,YAAY,CAACQ,WAAW,GAAG3J,IAAI,CAAC4J,KAAK;MAC1CH,OAAO,CAAC9d,IAAI,CAACqU,IAAI,CAAC;IACtB,CAAC,CAAC;IACN,OAAOyJ,OAAO,CAACI,YAAY,EAAE;EACjC;EAEA9J,eAAeA,CAAC3P,OAAyB;IACrC,OAAO,IAAI,CAAC8Y,IAAI,CAACE,IAAI,CAA8B,GAAGnzB,0FAAoC,EAAE,EAAEma,OAAO,CAAC;EAC1G;EAEAmO,iBAAiBA,CAAC8C,aAAa;IAC3B,OAAO,IAAI,CAAC6H,IAAI,CAACM,MAAM,CAAyB,GAAGvzB,0FAAoC,EAAE,GAAG,GAAG,GAAGorB,aAAa,CAAC;EACpH;EAEAvb,sBAAsBA,CAACsK,OAA4B;IAC/C,OAAO,IAAI,CAAC8Y,IAAI,CAACE,IAAI,CAAM,GAAGnzB,oGAA8C,EAAE,EAAEma,OAAO,CAAC;EAC5F;EAEAwB,YAAYA,CAACxB,OAAwB;IACjC,OAAO,IAAI,CAAC8Y,IAAI,CAACE,IAAI,CAAM,GAAGnzB,gGAA0C,EAAE,EAAEma,OAAO,CAAC;EACxF;;AA/JS4I,qBAAqB;mBAArBA,qBAAqB,EAAA7iB,sDAAA,CAAA0iB,4DAAA,GAAA1iB,sDAAA,CAAA4iB,gEAAA;AAAA;AAArBC,qBAAqB;SAArBA,qBAAqB;EAAA8R,OAAA,EAArB9R,qBAAqB,CAAA+R;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTqB;AACE;AAEG;AACH;AACE;AACA;AACO;AACb;AACI;AACG;AACY;AACjB;AACa;AACP;AACU;AACR;AACR;AACuC;AACnC;AACQ;AACM;AACQ;AACY;AACU;AACR;AACZ;AACE;AACqB;AACZ;AACjB;;;AAC7E,MAAMqB,MAAM,GAAW,CACnB;EACIlwB,IAAI,EAAE,EAAE;EACRmwB,SAAS,EAAE7G,0FAAuBA;CACrC,EACD;EACItpB,IAAI,EAAE,MAAM;EACZmwB,SAAS,EAAE9jB,sGAAyBA;CACvC,EACD;EACIrM,IAAI,EAAE,kBAAkB;EACxBmwB,SAAS,EAAE9jB,sGAAyBA;CACvC,EACD;EACIrM,IAAI,EAAE,wBAAwB;EAC9BmwB,SAAS,EAAEvR,oHAA0BA;CACxC,CACJ;AACD,MA4BawR,oBAAoB;AAApBA,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA;AAAoB;AAApBA,oBAAoB;aAFlB,CAACtT,kFAAqB,EAAE+C,kFAAe,EAAE3C,8EAAe,EAAEI,sDAAQ,EAAE0S,yGAAe,EAAErK,wFAAkB,CAAC;EAAA0K,OAAA,GArB/GtB,0DAAY,EACZD,mEAAqB,CAACoB,MAAM,CAAC,EAC7BjB,oEAAc,EACdC,sEAAe,EACfC,sEAAe,EACfC,6EAAkB,EAClBC,gEAAmB,EACnBC,oEAAc,EACdE,kEAAa,EACbD,sEAAkB,EAClBE,wEAAgB,EAChBC,kFAAqB,EACrBV,wEAAgB,EAChBW,0EAAiB,EACjBC,kEAAa,EACbC,wGAAmB,EACnBC,sEAAe,EACfC,8EAAmB,EACnBE,6FAAqB,EAEfnB,0DAAY;AAAA;AAGO;;uHAApBsB,oBAAoB;IAAAG,YAAA,GA3BdjH,0FAAuB,EAAEjd,sGAAyB,EAAE0b,+FAAmB,EAAEjuB,gHAAyB,EAAE8kB,oHAA0B,EACzIuE,wGAAsB;IAAAkN,OAAA,GAGtBtB,0DAAY,EAAApS,0DAAA,EAEZsS,oEAAc,EACdC,sEAAe,EACfC,sEAAe,EACfC,6EAAkB,EAClBC,gEAAmB,EACnBC,oEAAc,EACdE,kEAAa,EACbD,sEAAkB,EAClBE,wEAAgB,EAChBC,kFAAqB,EACrBV,wEAAgB,EAChBW,0EAAiB,EACjBC,kEAAa,EACbC,wGAAmB,EACnBC,sEAAe,EACfC,8EAAmB,EACnBE,6FAAqB;IAAAO,OAAA,GAEf1B,0DAAY;EAAA;AAAA","sources":["./src/app/modules/ventas/genericas/components/alta-edicion/alta-edicion.component.ts","./src/app/modules/ventas/genericas/components/alta-edicion/alta-edicion.component.html","./src/app/modules/ventas/genericas/components/bonificado-detalle/bonificado-detalle.component.ts","./src/app/modules/ventas/genericas/components/bonificado-detalle/bonificado-detalle.component.html","./src/app/modules/ventas/genericas/components/calcular-unitario/calcular-unitario.component.ts","./src/app/modules/ventas/genericas/components/calcular-unitario/calcular-unitario.component.html","./src/app/modules/ventas/genericas/components/estados-ventas/estados-ventas.component.ts","./src/app/modules/ventas/genericas/components/estados-ventas/estados-ventas.component.html","./src/app/modules/ventas/genericas/components/filter-menu/filter-menu.component.ts","./src/app/modules/ventas/genericas/components/filter-menu/filter-menu.component.html","./src/app/modules/ventas/genericas/components/venta-genericas.component.ts","./src/app/modules/ventas/genericas/components/venta-genericas.component.html","./src/app/modules/ventas/genericas/service/venta-generica.service.ts","./src/app/modules/ventas/genericas/venta-generica.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { BehaviorSubject, catchError, debounceTime, distinctUntilChanged, finalize, firstValueFrom, map, Observable, of, startWith, Subject, Subscription, switchMap, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { IArticulo } from 'app/modules/stock/articulos/models/articulo';\r\nimport { VentaGenericasService } from '../../service/venta-generica.service';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MY_DATE_FORMATS } from '@shared/constants/date-format';\r\nimport { ICliente } from 'app/modules/administracion/clientes/models/cliente';\r\nimport { IUsuario } from '@core/user/user.types';\r\nimport { ISelectResponse } from '@shared/models/select-response';\r\nimport { IImagenAdjunto } from '@shared/models/imagen-adjunto';\r\nimport { CalcularUnitarioComponent } from '../calcular-unitario/calcular-unitario.component';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\nimport { dtoCalcularItem, dtoCrearVenta, dtoEditarVenta, IItemVenta, IObra, IVenta } from '../../models/venta-generica';\r\nimport { environment } from 'environments/environment';\r\nimport { SaveComponent } from 'app/modules/administracion/clientes/components/save/save.component';\r\n\r\n@Component({\r\n    selector: 'app-alta-edicion-venta',\r\n    templateUrl: './alta-edicion.component.html',\r\n    styleUrls: ['./alta-edicion.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }]\r\n\r\n})\r\nexport class AltaEdicionVentaComponent implements OnInit, OnDestroy {\r\n    // Necesarios para la app\r\n    title: string;\r\n    user: any;\r\n    public dataSource: MatTableDataSource<any> = new MatTableDataSource();\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    configura_obra: boolean;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    maxPalabras: number = 150;\r\n    minDate: Date;\r\n    maxDate: Date;\r\n    deposito_default = 0;\r\n    mostrarSpinner = true;\r\n    mostrar_mensaje: boolean = false;\r\n\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n    // Particulares del modulo\r\n    data: any;\r\n    venta: IVenta;\r\n    obra: IObra;\r\n    form: FormGroup;\r\n    form_obra: FormGroup;\r\n    form_carga_articulos: FormGroup;\r\n    articulos: IArticulo[];\r\n    articulos_list = [];\r\n    clientes: ICliente[];\r\n    vendedores: IUsuario[];\r\n    localidades: ISelectResponse[];\r\n    tratamientos: ISelectResponse[];\r\n    unidades_de_medida: any[] = [];\r\n    lista_de_articulos: any[] = [];\r\n    filteredVendedores: Observable<IUsuario[]>;\r\n    filteredArticulos$: BehaviorSubject<IArticulo[]> = new BehaviorSubject([]);\r\n    filteredClientes: Observable<ISelectResponse[]>;\r\n    filteredLocalidades: Observable<ISelectResponse[]>;\r\n    filteredTratamientos: Observable<ISelectResponse[]>;\r\n    columns = ['articulo', 'unidadmedida', 'cantidad', 'importe_unitario', 'importe_bonificado', 'importe_no_bonificado', 'importe_iva', 'importe_subtotal', 'acciones'];\r\n    funcionesObjeto = null;\r\n    @Input() extraParams = '';\r\n\r\n    totales = {\r\n        importe_iva: 0,\r\n        importe_bonificado: 0,\r\n        importe_no_bonificado: 0,\r\n        importe_subtotal: 0,\r\n    };\r\n\r\n    importe_desuento: number = 0;\r\n\r\n    SearchTextSub$: Subscription;\r\n    FilterEventSub$: Subscription;\r\n    filtroBusqueda: string = '';\r\n    filter: IFilter = {\r\n        tipo: -1,\r\n        rubro: -1\r\n    };\r\n\r\n    titleImagen: boolean;\r\n    protected fileAdjuntoImagen: any;\r\n    protected validExtension = [\r\n        '.jpg',\r\n        '.png',\r\n        '.pdf'\r\n    ];\r\n    selectedFiles: File[] = [];\r\n    imagen: string;\r\n    adjunto: IImagenAdjunto | null = null;\r\n    adjuntos = [];\r\n    selectedOption: string = '';\r\n\r\n    esEdicion = this.route.snapshot.paramMap.get('idventa') ? true : false;\r\n    idventa = Number(this.route.snapshot.paramMap.get('idventa')) ?? null;\r\n\r\n    urlBase = `${environment.baseRest}/`;\r\n\r\n    constructor(\r\n        private _empresaService: EmpresaService,\r\n        private _ventaGenericasService: VentaGenericasService,\r\n        public _headerTextService: HeaderTextService,\r\n        public alert: AppAlertService,\r\n        public dialogo: MatDialog,\r\n        private datePipe: DatePipe,\r\n        public dialogRef: MatDialogRef<AltaEdicionVentaComponent>,\r\n        private router: Router,\r\n        private route: ActivatedRoute\r\n    ) {\r\n        let titulo = this.esEdicion ? { custom_title: true, titulo: `Edición de Venta Genérica ${this.idventa}` } : { custom_title: true, titulo: 'Alta de Venta Genérica' }\r\n        this._headerTextService.setCustomTitle(titulo);\r\n\r\n        this.user = JSON.parse(localStorage.getItem('user'))\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n                this.configura_obra = empresa.configura_obra === 1 ? true : false;\r\n            });\r\n\r\n        // Se define minDate como null o cualquier otra fecha límite que desees permitir hacia atras\r\n        this.minDate = null;\r\n        // Define maxDate como el dia de hoy\r\n        this.maxDate = new Date();\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.loadServices();\r\n\r\n        // Escuchamos los cambios en el control de 'articulo' para filtrar mientras escribe\r\n        this.form_carga_articulos.get('articulo').valueChanges.pipe(\r\n            debounceTime(300),  // Evita demasiadas llamadas consecutivas\r\n            distinctUntilChanged(), // Solo procede si el valor cambia\r\n            switchMap((value) => {\r\n                const idarticulo = typeof value === 'object' ? value.idarticulo : null;\r\n                const filterLike = typeof value === 'string' ? value : null;\r\n                return this._ventaGenericasService.getArticulos(idarticulo, filterLike).pipe(\r\n                    catchError(() => of({ list: [] })) // Manejo de errores\r\n                );\r\n            })\r\n        ).subscribe(response => {\r\n            this.filteredArticulos$.next(response.list || []);\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n\r\n        this.form = new FormGroup({\r\n            fecha: new FormControl((this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n            cliente: new FormControl((''), [Validators.maxLength(this.maxPalabras)]),\r\n            vendedor: new FormControl(('')),\r\n            porcentaje_descuento_efectivo: new FormControl(('')),\r\n            total_venta: new FormControl({ value: '', disabled: true },),\r\n        });\r\n\r\n        if (this.configura_obra) {\r\n            this.form_obra = new FormGroup({\r\n                descripcion_obra: new FormControl((''), Validators.required),\r\n                direccion_obra: new FormControl((''), Validators.required),\r\n                localidad: new FormControl('', Validators.required),\r\n                tratamiento: new FormControl('', Validators.required),\r\n                colocacion: new FormControl(false, Validators.required),\r\n                acarreo: new FormControl(false, Validators.required),\r\n                retiro_fabrica: new FormControl(false, Validators.required),\r\n                fecha_entrega: new FormControl((this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n                // fecha_medicion: new FormControl((this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n            });\r\n        }\r\n\r\n        this.form_carga_articulos = new FormGroup({\r\n            articulo: new FormControl((''), Validators.required),\r\n            unidadmedida: new FormControl((''), Validators.required),\r\n            detalle: new FormControl(('')),\r\n            importe_unitario: new FormControl((''), Validators.required),\r\n            cantidad: new FormControl((''), [Validators.required, Validators.min(1)]),\r\n            porcentaje_bonificado: new FormControl((''), Validators.required),\r\n        });\r\n\r\n        this.updateFormValidators();\r\n    }\r\n\r\n    volverPaginaAnterior() {\r\n        this.router.navigate(['/ventas']);\r\n    }\r\n\r\n    // Este método es llamado cuando el componente es destruido\r\n    ngOnDestroy(): void {\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param $event \r\n     * @param cambio_de_foco \r\n     * @param redirect_control \r\n     */\r\n    seleccionItem($event, cambio_de_foco?: boolean, redirect_control?: string) {\r\n\r\n        if ($event.idarticulo) {\r\n            this.form_carga_articulos.get('unidadmedida').enable()\r\n            this.getUnidadesDeMedidaArticulos($event.idarticulo);\r\n\r\n            // Muevo el foco al campo \"cantidad\" luego de un pequeño retraso.\r\n            // Lo encapsulo dentro de `setTimeout` porque espero a que el DOM renderice el input \"cantidad\".\r\n            setTimeout(() => {\r\n                const cantidadField = document.querySelector('[formControlName=\"detalle\"]') as HTMLInputElement;\r\n                cantidadField?.focus();\r\n            }, 1);\r\n        }\r\n\r\n        if ($event && cambio_de_foco === true && redirect_control) {\r\n            // Si es un evento de teclado, evita que se propague\r\n            if ($event instanceof KeyboardEvent) $event.preventDefault();\r\n\r\n            // Muevo el foco al campo \"cantidad\" luego de un pequeño retraso.\r\n            // Lo encapsulo dentro de `setTimeout` porque espero a que el DOM renderice el input \"cantidad\".\r\n            setTimeout(() => {\r\n                const cantidadField = document.querySelector(`[formControlName=${redirect_control}]`) as HTMLInputElement;\r\n                cantidadField?.focus();\r\n            }, 1)\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Funcion para limpiar campos\r\n    */\r\n    limpiarCasillero(input) {\r\n        if (input != 'carga_exitosa') {\r\n            if (this.form.get(input)) {\r\n                this.form.get(input).setValue('');\r\n            } else if (this.form_carga_articulos.get(input)) {\r\n                this.form_carga_articulos.get(input).setValue('');\r\n            } else {\r\n                this.form_obra.get(input).setValue('');\r\n            }\r\n            this.seleccionItem(input, false, 'reset');\r\n        }\r\n\r\n        if (input === 'articulo') {\r\n            this.form_carga_articulos.get('unidadmedida').disable();\r\n            this.form_carga_articulos.get('unidadmedida').setValue('');\r\n            this.form_carga_articulos.get('articulo').setValue('');\r\n            this.form_carga_articulos.get('cantidad').setValue('');\r\n        }\r\n\r\n        if (input === 'carga_exitosa') {\r\n            this.form_carga_articulos.get('articulo').setValue('');\r\n            this.form_carga_articulos.get('unidadmedida').setValue('');\r\n            this.form_carga_articulos.get('cantidad').setValue('');\r\n            this.form_carga_articulos.get('detalle').setValue('');\r\n            this.form_carga_articulos.get('importe_unitario').setValue('');\r\n            this.form_carga_articulos.get('porcentaje_bonificado').setValue('');\r\n        }\r\n    }\r\n\r\n    onCargar($event?: KeyboardEvent) {\r\n        if ($event?.key === 'Enter') {\r\n            $event.preventDefault();\r\n        }\r\n\r\n        if (!this.form_carga_articulos.get('unidadmedida').value || !this.form_carga_articulos.get('articulo').value || !this.form_carga_articulos.get('cantidad').value || !this.form_carga_articulos.get('importe_unitario').value || !this.form_carga_articulos.get('porcentaje_bonificado').value) {\r\n            return this.alert.warning('Por favor, complete todos los campos de la carga de articulo');\r\n        }\r\n\r\n        if (this.form_carga_articulos.get('cantidad').value <= 0) {\r\n            return this.alert.warning('Por favor, Ingrese una cantidad mayor a cero');\r\n        }\r\n\r\n        if (this.form_carga_articulos.get('importe_unitario').value <= 0) {\r\n            return this.alert.warning('Por favor, Ingrese una precio unitario mayor a cero');\r\n        }\r\n\r\n        if (this.form_carga_articulos.get('porcentaje_bonificado').value < 0 || this.form_carga_articulos.get('porcentaje_bonificado').value > 100) {\r\n            return this.alert.warning('Por favor, Ingrese un porcentaje de bonificación entre cero y cien');\r\n        }\r\n\r\n        if (!this.form_carga_articulos.valid) {\r\n            return this.alert.error('Debe ingresar un Artículo');\r\n        } else {\r\n            let existe_articulo_en_grilla = this.lista_de_articulos.find((item: IItemVenta) => item.idarticulo === this.form_carga_articulos.get('articulo').value.idarticulo && item.idarticulounidadmedida === this.form_carga_articulos.get('unidadmedida').value);\r\n            if (existe_articulo_en_grilla) {\r\n                this.form_carga_articulos.get('unidadmedida').setValue('');\r\n                return this.alert.warning('Ya existe un movimiento de ese articulo con esa unidad de medida.')\r\n            }\r\n\r\n            let articulo: dtoCalcularItem = {\r\n                idarticulo: this.form_carga_articulos.get('articulo').value.idarticulo,\r\n                detalle: this.form_carga_articulos.get('detalle').value,\r\n                cantidad: this.form_carga_articulos.get('cantidad').value,\r\n                precio_unitario: this.form_carga_articulos.get('importe_unitario').value,\r\n                porcentaje_bonificado: this.form_carga_articulos.get('porcentaje_bonificado').value,\r\n                idarticulounidadmedida: this.form_carga_articulos.get('unidadmedida').value,\r\n            }\r\n\r\n            this.addMovimiento(articulo)\r\n        }\r\n\r\n        // Mueve el foco al campo \"articulo\" después de la carga\r\n        this.form_carga_articulos.get('articulo').reset({ value: '' });\r\n        const articuloField = document.querySelector('[formControlName=\"articulo\"]') as HTMLInputElement;\r\n        articuloField?.focus();\r\n    }\r\n\r\n    onSubmit() {\r\n\r\n        // Se especifica el tipo de base 64\r\n        this.adjuntos = this.adjuntos.map((adjunto: IImagenAdjunto) => {\r\n            return { idventaadjunto: adjunto.idventaadjunto ?? null, path: !adjunto.idventaadjunto ? `data:application/pdf;base64,${adjunto.base64}` : adjunto.path };\r\n        });\r\n\r\n        // Se formatea la lista de articulos para que coincida con el formato deseado agregando \"importe_total\" y eliminando \"importe_subtotal\"\r\n        this.lista_de_articulos = this.lista_de_articulos.map((item: IItemVenta) => {\r\n            item.importe_total = item.importe_subtotal;\r\n            delete item.importe_subtotal;\r\n            return item;\r\n\r\n        });\r\n\r\n        // Se formatea la fecha nuevamente al formato deseado (YYYY-MM-DD)\r\n        const fecha_venta_formateada = this.datePipe.transform(this.form.get('fecha').value, 'yyyy-MM-dd');\r\n\r\n        if (this.configura_obra) {\r\n            // const fecha_medicion_formateada = this.datePipe.transform(this.form_obra.get('fecha_medicion').value, 'yyyy-MM-dd');\r\n            const fecha_entrega_formateada = this.datePipe.transform(this.form_obra.get('fecha_entrega').value, 'yyyy-MM-dd');\r\n\r\n            var obra = {\r\n                descripcion: this.form_obra.get('descripcion_obra').value,\r\n                direccion: this.form_obra.get('direccion_obra').value,\r\n                idlocalidad: parseInt(this.form_obra.get('localidad').value.idlocalidad),\r\n                idtratamiento: parseInt(this.form_obra.get('tratamiento').value.idtratamiento),\r\n                // fecha_medicion: fecha_medicion_formateada,\r\n                fecha_entrega: fecha_entrega_formateada,\r\n                colocacion: this.form_obra.get('colocacion').value ? 1 : 0,\r\n                acarreo: this.form_obra.get('acarreo').value ? 1 : 0,\r\n                retiro_fabrica: this.form_obra.get('retiro_fabrica').value ? 1 : 0\r\n            }\r\n        }\r\n\r\n        // Se crea el payload con los datos necesarios para crear una venta\r\n        const payload: dtoCrearVenta | dtoEditarVenta = {\r\n            venta: {\r\n                idcliente: parseInt(this.form.get('cliente').value.id),\r\n                idusuario: this.form.get('vendedor').value.codigo,\r\n                fecha: fecha_venta_formateada,\r\n                importe_total: this.form.get('total_venta').value,\r\n                importe_bonificado: this.totales.importe_bonificado,\r\n                importe_no_bonificado: this.totales.importe_no_bonificado,\r\n                importe_iva: this.totales.importe_iva.toString(),\r\n                porcentaje_descuento: this.form.get('porcentaje_descuento_efectivo').value ? this.form.get('porcentaje_descuento_efectivo').value : 0,\r\n                importe_descuento: this.importe_desuento\r\n            },\r\n            obra: this.configura_obra ? obra : null,\r\n            items: this.lista_de_articulos,\r\n            adjuntos: this.adjuntos,\r\n        }\r\n\r\n        if (this.esEdicion) {\r\n            this._ventaGenericasService.updateVenta(this.idventa, payload)\r\n                .subscribe({\r\n                    next: (data) => {\r\n                        if (data) {\r\n                            this.editadoExitosamente.emit();\r\n                            this.volverPaginaAnterior();\r\n                        }\r\n                    }\r\n                });\r\n        } else {\r\n            this._ventaGenericasService.saveVenta(payload)\r\n                .subscribe({\r\n                    next: (data) => {\r\n                        if (data) {\r\n                            this.creadoExitosamente.emit();\r\n                            this.volverPaginaAnterior();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Metodo para calcular el precio unitario de un item\r\n     * @returns \r\n     */\r\n    calcularPrecioUnitario() {\r\n        const articuloSeleccionado = this.form_carga_articulos.get('articulo').value;\r\n\r\n        if (!articuloSeleccionado) {\r\n            return this.alert.error('Seleccione un artículo válido');\r\n        }\r\n\r\n        // Abre el diálogo\r\n        this.dialogo\r\n            .open(CalcularUnitarioComponent, {\r\n                data: articuloSeleccionado,\r\n                panelClass: 'ayuda-dialog',\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (data: IResponse<any>) => {\r\n                    if (data) {\r\n                        this.form_carga_articulos.get('importe_unitario').setValue(data.result);\r\n                        // Notifica al usuario\r\n                        this.alert.success('Se calculo el precio unitario');\r\n                    }\r\n                },\r\n                error: (error) => {\r\n                    console.error('Error al calcular el precio unitario:', error);\r\n                    this.alert.error('Ocurrió un error al calcular el precio unitario');\r\n                },\r\n            });\r\n    }\r\n\r\n    cargarNuevoCliente() {\r\n        // Abre el diálogo\r\n        this.dialogo\r\n            .open(SaveComponent, {\r\n                panelClass: 'ayuda-dialog',\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (data: IResponse<any>) => {\r\n                    if (data) {\r\n                        this.form.get('cliente').setValue(data.result);\r\n                        // Notifica al usuario\r\n                        this.alert.success('El cliente fue creado con éxito');\r\n                        this.getClientes();\r\n                    }\r\n                },\r\n                error: (error) => {\r\n                    console.error('Error al crear cliente:', error);\r\n                    this.alert.error('Ocurrió un error al crear cliente');\r\n                },\r\n            });\r\n    }\r\n\r\n    // ################# Carga De Movimientos #################\r\n\r\n    /**\r\n     * Esta funcion añade un nuevo item a la grilla dentro del saveComponent.\r\n     * @var movimiento_articulo Encapsula un objeto con los datos que deseamos mostrar en la tabla.\r\n     */\r\n    async addMovimiento(item) {\r\n        // Obtengo el arituclo calculado\r\n        const ItemVenta: IResponse<IItemVenta> = await firstValueFrom(this._ventaGenericasService.calcularItem(item));\r\n\r\n        // Si la operacion fue exitosa...\r\n        if (ItemVenta.success) {\r\n            // Encapsulo los datos del articulo en un objeto\r\n            let item_venta: IItemVenta = {\r\n                ...ItemVenta.result,\r\n            }\r\n\r\n            this.lista_de_articulos = [item_venta, ...this.lista_de_articulos]; // Se agrega el nuevo articulo al comienzo de la lista para que siempre aparezca primero en la grilla\r\n            this.dataSource = new MatTableDataSource(this.lista_de_articulos); //Actualizo la tabla\r\n\r\n            // Actualizar validaciones según el estado de la grilla\r\n            this.updateFormValidators();\r\n            this.updateTotal();\r\n\r\n            this.limpiarCasillero('carga_exitosa'); // Limpio casillerros para que este listo para volver a cargar\r\n            this.alert.success(\"Artículo añadido con éxito\");\r\n        } else {\r\n            return this.alert.error(\"Ocurrió un error al añadir el artículo\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * El resultado de esta operación es un nuevo \r\n     * array que contiene todos los elementos de la lista original, \r\n     * excepto el artículo que se desea eliminar.\r\n     * @param articulo \r\n     */\r\n    deleteMovimiento(articulo) {\r\n        this.lista_de_articulos = this.lista_de_articulos.filter((item) => { return item !== articulo });\r\n        this.dataSource = new MatTableDataSource(this.lista_de_articulos);\r\n\r\n        // Actualizamos el valor total de la carga\r\n        this.updateTotal();\r\n\r\n        this.alert.success(\"Artículo eliminado con éxito\")\r\n    }\r\n\r\n    // ################# Metodos de comunicacion con el service #################\r\n\r\n    /**\r\n    * Este metodo ejecuta todas las peticiones asincronas al mismo tiempo\r\n    */\r\n    async loadServices() {\r\n        await Promise.all([\r\n            this.getArticulos(),\r\n            this.getClientes(),\r\n            this.getVendedores(),\r\n            this.configura_obra ? this.getLocalidades() : Promise.resolve(),\r\n            this.configura_obra ? this.getTratamientos() : Promise.resolve(),\r\n            this.esEdicion ? this.getDatosVenta() : Promise.resolve()\r\n        ]).then(() => {\r\n            this.mostrarSpinner = false;\r\n        })\r\n    }\r\n\r\n    async getDatosVenta() {\r\n        const Venta = await firstValueFrom(this._ventaGenericasService.getDatosVenta(this.idventa));\r\n        new Promise(async (resolve) => {\r\n            this.venta = Venta.list.venta;\r\n            this.lista_de_articulos = Venta.list.items.map((item: IItemVenta) => {\r\n                item.importe_subtotal = item.importe_total\r\n                return item;\r\n            });\r\n\r\n            this.adjuntos = Venta.list.adjuntos.map((item: IImagenAdjunto) => {\r\n                return item;\r\n            });\r\n\r\n            this.obra = Venta.list.obra ?? null;\r\n\r\n            this.dataSource = new MatTableDataSource(this.lista_de_articulos); //Actualizo la tabla\r\n\r\n            // Rellena los formularios con los datos obtenidos\r\n            this.form.patchValue({\r\n                fecha: this.venta.fecha,\r\n                cliente: { id: this.venta.idcliente, descripcion: this.venta.descripcion_cliente },\r\n                vendedor: { id: this.venta.idusuario, descripcion: this.venta.descripcion_usuario },\r\n                porcentaje_descuento_efectivo: Number(this.venta.porcentaje_descuento),\r\n                total_venta: this.venta.total\r\n            });\r\n\r\n            if (this.configura_obra) {\r\n                this.form_obra.patchValue({\r\n                    descripcion_obra: this.obra?.descripcion ?? '',\r\n                    direccion_obra: this.obra?.direccion ?? '',\r\n                    localidad: { idlocalidad: this.obra.idlocalidad, descripcion: this.obra.descripcion_localidad },\r\n                    tratamiento: { id: this.obra.idtratamiento, descripcion: this.obra.descripcion_tratamiento },\r\n                    colocacion: this.obra?.colocacion ? true : false,\r\n                    acarreo: this.obra?.acarreo ? true : false,\r\n                    retiro_fabrica: this.obra?.retiro_fabrica ? true : false,\r\n                    fecha_entrega: this.datePipe.transform(this.obra?.fecha_entrega, 'yyyy-MM-dd'),\r\n                    // fecha_medicion: this.datePipe.transform(this.obra?.fecha_medicion, 'yyyy-MM-dd'),\r\n                });\r\n            }\r\n\r\n            this.updateTotal();\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    async getClientes(option?) {\r\n        const Clientes = await firstValueFrom(this._ventaGenericasService.getClientes(option));\r\n        new Promise(async (resolve) => {\r\n            this.clientes = Clientes.list;\r\n            this.filteredClientes = this.form.get('cliente').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterSelect(value, 'clientes')),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getLocalidades(option?) {\r\n        const Localidades = await firstValueFrom(this._ventaGenericasService.getLocalidades());\r\n        new Promise(async (resolve) => {\r\n            this.localidades = Localidades.list;\r\n            this.filteredLocalidades = this.form_obra.get('localidad').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterSelect(value, 'localidades')),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getTratamientos(option?) {\r\n        const Tratamientos = await firstValueFrom(this._ventaGenericasService.getTratamientos());\r\n        new Promise(async (resolve) => {\r\n            this.tratamientos = Tratamientos.list;\r\n            this.filteredTratamientos = this.form_obra.get('tratamiento').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterSelect(value, 'tratamientos')),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getVendedores(option?) {\r\n        const Vendedores = await firstValueFrom(this._ventaGenericasService.getVendedores(option));\r\n        new Promise(async (resolve) => {\r\n            this.vendedores = Vendedores['list'];\r\n            this.filteredVendedores = this.form.get('vendedor').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterVendodres(value)),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getArticulos() {\r\n        try {\r\n            const articulos = await firstValueFrom(this._ventaGenericasService.getArticulos());\r\n            this.articulos = articulos.list;\r\n            this.articulos_list = this.articulos;\r\n            this.form_carga_articulos.get('articulo').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterArticulos(value || '')),\r\n            ).subscribe(filtered => {\r\n                this.filteredArticulos$.next(filtered);\r\n            });\r\n            \r\n        } catch (error) {\r\n            console.error('Error al obtener articulos:', error);\r\n            this.filteredArticulos$.next([]);\r\n        }\r\n    }\r\n\r\n    async getUnidadesDeMedidaArticulos(idarticulo) {\r\n        const unidadesDeMedida = await firstValueFrom(this._ventaGenericasService.getUnidadesDeMedidaArticulos(idarticulo));\r\n        new Promise(async (resolve) => {\r\n            let um_base; // Asigno una variable global para que cada UM sepa cual es la um base (factor = '1.00')\r\n            this.unidades_de_medida = unidadesDeMedida.list.sort((a, b) => a.factor - b.factor).map(unidad => {\r\n                //Convierto en numero\r\n                unidad.factor = parseFloat(unidad.factor);\r\n\r\n                // Almaceno solo la um base de un articulo \r\n                if (unidad.factor === 1) {\r\n                    um_base = unidad.um.descripcion;\r\n                }\r\n\r\n                return { idarticulounidadmedida: unidad.idarticulounidadmedida, idunidadmedida: unidad.idunidadmedida, descripcion_um: unidad.um.descripcion, factor_um: unidad.factor, um_base: um_base }\r\n            });\r\n\r\n            // Autoasigna la primera unidad de medida al control del formulario\r\n            if (this.unidades_de_medida.length > 0) {\r\n                this.form_carga_articulos.get('unidadmedida').setValue(this.unidades_de_medida[0].idarticulounidadmedida);\r\n                this.seleccionItem({ um: this.unidades_de_medida[0].idarticulounidadmedida });\r\n            }\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    // ################# Metodo de filtrado para inputs autocomplete #################\r\n\r\n    /**\r\n    * Esta funcion es para filtrar los artículos según el input que se haya ingresado en el buscador de articulos.\r\n    * @param value \r\n    * @returns \r\n    */\r\n    private _filterArticulos(value: string): IArticulo[] {\r\n        const filterValue = value.toString().toLowerCase();\r\n        return this.articulos_list.filter(articulo => {\r\n            const codigo_interno = articulo.codigo_interno.toString().toLowerCase().includes(filterValue);\r\n            const descripcion = articulo.descripcion.toString().toLowerCase().includes(filterValue);\r\n            return codigo_interno || descripcion;\r\n        });\r\n    }\r\n\r\n    private _filterVendodres(vendedor: IUsuario): IUsuario[] {\r\n        const filterValue = vendedor.toString().toLowerCase();\r\n        return this.vendedores.filter(vendedor => vendedor.nombre.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param item Valor a buscar\r\n     * @param model Modelo donde se retorna la lista de valores encontrados\r\n     * @returns Valores encontrados en la lista\r\n     */\r\n    private _filterSelect(item: ISelectResponse, model?: string): ISelectResponse[] {\r\n        const filterValue = item.toString().toLowerCase();\r\n        return this[`${model}`].filter(item => item.descripcion.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    // ################# Metodos para obtener textos de input #################\r\n\r\n    getTextGenerico(option) {\r\n        if (option.RazonSocial || option.razonSocial) return option ? option.RazonSocial || option.razonSocial : '';\r\n\r\n        if (option.descripcion) return option ? option.descripcion : '';\r\n\r\n        if (option.nick) return option ? `${option.nombre} ${option.apellido}` : '';\r\n    }\r\n\r\n    /**\r\n    * Obtenemos la descripcion del articulo seleccionado.\r\n    * @param articulo \r\n    * @returns \r\n    */\r\n    getTextArticulo(articulo: IArticulo): string {\r\n        return articulo?.idarticulo ? `${articulo.codigo_interno} - ${articulo.descripcion}` : '';\r\n    }\r\n\r\n    /**\r\n    * Este metodo sirve para agregar o quitar las validaciones de requeridos a los campos del formulario de carga de articulos.\r\n    */\r\n    updateFormValidators() {\r\n        if (this.lista_de_articulos.length === 0) {\r\n            // Si la grilla está vacía, hacer que los campos sean requeridos\r\n            this.form_carga_articulos.get('articulo').setValidators(Validators.required);\r\n            this.form_carga_articulos.get('cantidad').setValidators([Validators.required, Validators.min(1)]);\r\n            this.form_carga_articulos.get('unidadmedida').setValidators(Validators.required);\r\n            this.form_carga_articulos.get('importe_unitario').setValidators(Validators.required);\r\n            this.form_carga_articulos.get('porcentaje_bonificado').setValidators(Validators.required);\r\n        } else {\r\n            // Si hay elementos en la grilla, quitar la validación de requerido\r\n            this.form_carga_articulos.get('articulo').clearValidators();\r\n            this.form_carga_articulos.get('cantidad').setValidators(Validators.min(1));\r\n            this.form_carga_articulos.get('unidadmedida').clearValidators();\r\n            this.form_carga_articulos.get('importe_unitario').clearValidators();\r\n            this.form_carga_articulos.get('porcentaje_bonificado').clearValidators();\r\n        }\r\n\r\n        // Asegurarse de que Angular reevalúe las validaciones\r\n        this.form_carga_articulos.get('articulo').updateValueAndValidity();\r\n        this.form_carga_articulos.get('cantidad').updateValueAndValidity();\r\n        this.form_carga_articulos.get('unidadmedida').updateValueAndValidity();\r\n        this.form_carga_articulos.get('importe_unitario').updateValueAndValidity();\r\n        this.form_carga_articulos.get('porcentaje_bonificado').updateValueAndValidity();\r\n    }\r\n\r\n    /**\r\n    * Metodo para calcular el valor total entre todos los subtotales de una grilla\r\n    */\r\n    updateTotal() {\r\n        const importe_bonificado = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_bonificado = Number(item.importe_bonificado) || 0;\r\n            return sum + importe_bonificado;\r\n        }, 0);\r\n\r\n        const importe_no_bonificado = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_no_bonificado = Number(item.importe_no_bonificado) || 0;\r\n            return sum + importe_no_bonificado;\r\n        }, 0);\r\n\r\n        const importe_iva = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_iva = Number(item.importe_iva) || 0;\r\n            return sum + importe_iva;\r\n        }, 0);\r\n\r\n        const importe_subtotal = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_subtotal = Number(item.importe_subtotal) || 0;\r\n            return sum + importe_subtotal;\r\n        }, 0);\r\n\r\n        const total_venta = this.lista_de_articulos.reduce((sum, item) => {\r\n            const subtotal = Number(item.importe_subtotal) || 0;\r\n            return sum + subtotal;\r\n        }, 0);\r\n\r\n        this.totales = {\r\n            importe_iva: parseFloat((importe_iva).toFixed(2)),\r\n            importe_bonificado: parseFloat((importe_bonificado).toFixed(2)),\r\n            importe_no_bonificado: parseFloat((importe_no_bonificado).toFixed(2)),\r\n            importe_subtotal: parseFloat((importe_subtotal).toFixed(2))\r\n        };\r\n\r\n        this.form.get('total_venta')?.setValue(total_venta, { emitEvent: false });\r\n    }\r\n\r\n    /**\r\n     * Metodo para actualizar el total de la venta basado en el porcentaje de descuento efectivo\r\n     * @param porcentaje_descuento_efectivo \r\n     */\r\n    updateDescuento(porcentaje_descuento_efectivo) {\r\n        this.updateTotal();\r\n\r\n        this.totales.importe_bonificado = this.calcularDescuento(this.totales.importe_bonificado, porcentaje_descuento_efectivo);\r\n        this.totales.importe_no_bonificado = this.calcularDescuento(this.totales.importe_no_bonificado, porcentaje_descuento_efectivo);\r\n        this.totales.importe_subtotal = this.calcularDescuento(this.totales.importe_subtotal, porcentaje_descuento_efectivo);\r\n        this.totales.importe_iva = this.calcularDescuento(this.totales.importe_iva, porcentaje_descuento_efectivo);\r\n\r\n        // Obtiene el total de la venta\r\n        const total_venta = this.form.get('total_venta').value;\r\n        // Calcula el descuento basado en el porcentaje\r\n        const nuevoTotal = this.calcularDescuento(total_venta, porcentaje_descuento_efectivo);\r\n\r\n        // Actualiza el campo total\r\n        this.form.get('total_venta')?.setValue(nuevoTotal >= 0 ? nuevoTotal : this.updateTotal()); // Evita valores negativos\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param total Valor general\r\n     * @param porcentaje_descuento Porcentaje por el cual queremos obtener el valor \r\n     * @returns nuevo total con descuento\r\n     */\r\n    calcularDescuento(total: number, porcentaje_descuento: number) {\r\n        const descuento = (total * porcentaje_descuento) / 100;\r\n        this.importe_desuento = descuento;\r\n\r\n        return parseFloat((total - descuento).toFixed(2));\r\n    }\r\n\r\n    /**\r\n    * Filtro para buscar en la grilla de articulos\r\n    * @param filterValue \r\n    */\r\n    applyFilter(filterValue: string): void {\r\n        this.dataSource.filter = filterValue.trim().toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Metodo para en la edicion setear el porcentaje original si el input esta vacio\r\n     * @param $event \r\n     */\r\n    onBlurInput($event) {\r\n        const input = $event.target as HTMLInputElement;\r\n        const valor = input?.value;\r\n\r\n        // Verifica si el valor es null o una cadena vacía\r\n        if (!valor || valor === '') {\r\n            // Asigna un valor por defecto\r\n            this.form.get('porcentaje_descuento_efectivo').setValue(Number(this.venta?.porcentaje_descuento));\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \r\n    * @param $event Archivo\r\n    * @param tipo_imagen 0: imagen principal, 1: imagen secundaria\r\n    */\r\n    setImagen($event: Event, tipo_imagen: number) {\r\n        const imagen_data = ($event.target as HTMLInputElement).files[0];\r\n\r\n        let size = Math.round(imagen_data.size / 1024); // Convierto el tamano de la imagen a kilobytes\r\n        let nombre_archivo = imagen_data.name; // Encapsulo el nombre del archivo\r\n        let extension_archivo = nombre_archivo.split('.').pop(); // Obtengo la extension del archivo\r\n\r\n        this.getBase64(imagen_data).then((imagen_en_base_64) => {\r\n            // Valido el formato del archivo\r\n            if (!this.validExtension.includes('.' + extension_archivo)) {\r\n                return this.alert.info(\"Formato de archivo no soportado\");\r\n            }\r\n\r\n            // Encapsulo los valores que me interesan de la imagen\r\n            let data = {\r\n                base64: imagen_en_base_64.toString().split(\"base64,\")[1],\r\n                path: nombre_archivo,\r\n                size: size,\r\n                extension: extension_archivo\r\n            }\r\n\r\n            // Si es de tipo_imagen \"principal\"...\r\n            if (tipo_imagen === 0) {\r\n                // Guardo la informacion en una variable global\r\n                this.adjuntos = [data, ...this.adjuntos];\r\n            }\r\n        });\r\n    }\r\n\r\n    async getBase64(file: any): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n\r\n    getFileNameFromUrl(url: string): string {\r\n        // Divide la URL en partes utilizando el carácter \"/\"\r\n        const parts = url.split('/');\r\n        // El último elemento del array es el nombre del archivo\r\n        const fileName = parts[parts.length - 1];\r\n        return fileName;\r\n    }\r\n\r\n    getFileSize(size: number): string {\r\n        const bytes = size;\r\n        const kilobytes = bytes / 1024;\r\n        if (kilobytes < 1024) {\r\n            return kilobytes.toFixed(2) + ' KB';\r\n        } else {\r\n            const megabytes = kilobytes / 1024;\r\n            return megabytes.toFixed(2) + ' MB';\r\n        }\r\n    }\r\n\r\n    getFileTitle(file: File): string {\r\n        return file.name + ' (' + this.getFileSize(file.size) + ')';\r\n    }\r\n\r\n    /**\r\n     * Metodo parametrizado para eliminar los archivos multimedia segun el momento de persistencia\r\n     * @param tipo Tipo de imagen que se quiere eliminar\r\n     * @param file Archivo a eliminar\r\n     */\r\n    removeFile(tipo: string, file: any) {\r\n        switch (tipo) {\r\n            // Eliminar imagenes secundarias dadas de alta en la operacion actual\r\n            case 'adjuntos':\r\n                {\r\n                    this.adjuntos = this.adjuntos.filter((adjunto) => adjunto.path.toLowerCase() != file.path.toLowerCase());\r\n                }\r\n                break;\r\n\r\n            default: {\r\n                console.error('Ocurrió un error al quitar el adjunto.')\r\n            }\r\n        }\r\n    }\r\n}","<div class=\"w-full flex flex-col relative mt-4 overflow-y-auto h-full\">\r\n    <div class=\"flex justify-start sm:mb-0 mx-4\">\r\n        <button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n            [style.color]=\"color_primario || '' \"\r\n            class=\"fuse-mat-button-large w-full !border border-solid xl:w-28 md:w-20\" mat-flat-button\r\n            (click)=\"volverPaginaAnterior()\">\r\n            <mat-icon class=\"xl:icon-size-5 icon-size-3\" [svgIcon]=\"'heroicons_solid:chevron-left'\"></mat-icon>\r\n            <span class=\"ml-2 xl:text-xl text-sm font-normal\">Volver</span>\r\n        </button>\r\n    </div>\r\n\r\n    <!-- Spinner -->\r\n    <spinner-component *ngIf=\"mostrarSpinner\"></spinner-component>\r\n\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n\r\n    <form *ngIf=\"!mostrarSpinner\" class=\"form-menu p-4\" [formGroup]=\"form\">\r\n        <div class=\"flex flex-col w-full h-full p-4 \">\r\n\r\n            <!-- Carga de venta -->\r\n            <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                <mat-form-field appearance='fill' class=\"w-full sm:w-2/3\">\r\n                    <mat-label>Fecha de Venta</mat-label>\r\n                    <input matInput [matDatepicker]=\"picker\" formControlName=\"fecha\" readonly=\"true\" [min]=\"minDate\"\r\n                        [max]=\"maxDate\" />\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker></mat-datepicker>\r\n                </mat-form-field>\r\n\r\n                <div class=\" w-full flex\">\r\n                    <mat-form-field apparance='fill' class=\" w-3/4\">\r\n                        <mat-label>Cliente</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"cliente\" [matAutocomplete]=\"auto_cliente\" (keydown.enter)=\"seleccionItem($event, true, 'vendedor')\">\r\n                        <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\" *ngIf=\"!form.get('cliente').value\">\r\n                            <mat-icon>arrow_drop_down</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete autoActiveFirstOption #auto_cliente=\"matAutocomplete\"\r\n                            [displayWith]=\"getTextGenerico\">\r\n                            <mat-option *ngFor=\"let cliente of filteredClientes | async \" [value]=\"cliente\" (click)=\"seleccionItem($event, true, 'vendedor')\">\r\n                                {{ cliente.descripcion }}\r\n                            </mat-option>\r\n                        </mat-autocomplete>\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('cliente')\" class=\"mr-2\"\r\n                            *ngIf=\"form.get('cliente').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <div class=\"flex w-1/4 justify-center items-center\">\r\n                        <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                            matTooltip='Añadir'\r\n                            class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                            (click)=\"cargarNuevoCliente()\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M16 10H10V16H6V10H0V6H6V0H10V6H16V10Z\" fill=\"white\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <mat-form-field apparance='fill' class=\" w-full sm:w-2/3\">\r\n                    <mat-label>Vendedor</mat-label>\r\n                    <input type=\"text\" matInput formControlName=\"vendedor\" [matAutocomplete]=\"auto_vendedor\" (keydown.enter)=\"seleccionItem($event, true, 'descripcion_obra')\">\r\n                    <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\" *ngIf=\"!form.get('vendedor').value\">\r\n                        <mat-icon>arrow_drop_down</mat-icon>\r\n                    </button>\r\n                    <mat-autocomplete autoActiveFirstOption #auto_vendedor=\"matAutocomplete\"\r\n                        [displayWith]=\"getTextGenerico\">\r\n                        <mat-option *ngFor=\"let vendedor of filteredVendedores | async\" [value]=\"vendedor\" (click)=\"seleccionItem($event, true, 'descripcion_obra')\">\r\n                            {{ vendedor.nombre}} {{ vendedor.apellido }}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('vendedor')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('vendedor').value\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <!-- Carga de obra -->\r\n            <form *ngIf=\"configura_obra\" [formGroup]=\"form_obra\">\r\n                <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                    <mat-form-field apparance='fill' class=\"  w-full sm:w-full\">\r\n                        <mat-label>Obra</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"descripcion_obra\"\r\n                            (keydown.enter)=\"seleccionItem($event, true,'direccion_obra')\">\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('descripcion_obra')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('descripcion_obra').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <mat-form-field apparance='fill' class=\"  w-full sm:w-full\">\r\n                        <mat-label>Dirección Obra</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"direccion_obra\"\r\n                            (keydown.enter)=\"seleccionItem($event, true,'localidad')\">\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('direccion_obra')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('direccion_obra').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <mat-form-field apparance='fill' class=\" w-full sm:w-3/4\">\r\n                        <mat-label>Localidad - Provincia</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"localidad\" [matAutocomplete]=\"auto_localidad\" (keydown.enter)=\"seleccionItem($event, true, 'tratamiento')\">\r\n                        <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\"\r\n                            *ngIf=\"!form_obra.get('localidad').value\">\r\n                            <mat-icon>arrow_drop_down</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete autoActiveFirstOption #auto_localidad=\"matAutocomplete\"\r\n                            [displayWith]=\"getTextGenerico\">\r\n                            <mat-option *ngFor=\"let localidad of filteredLocalidades | async\" [value]=\"localidad\" (click)=\"seleccionItem($event, true, 'tratamiento')\">\r\n                                {{ localidad.descripcion }}\r\n                            </mat-option>\r\n                        </mat-autocomplete>\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('localidad')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('localidad').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                    <mat-form-field apparance='fill' class=\" w-full sm:w-1/3\">\r\n                        <mat-label>Tratamiento</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"tratamiento\" [matAutocomplete]=\"auto_tratamiento\" (keydown.enter)=\"seleccionItem($event, true, 'articulo')\">\r\n                        <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\"\r\n                            *ngIf=\"!form_obra.get('tratamiento').value\">\r\n                            <mat-icon>arrow_drop_down</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete autoActiveFirstOption #auto_tratamiento=\"matAutocomplete\"\r\n                            [displayWith]=\"getTextGenerico\">\r\n                            <mat-option *ngFor=\"let tratamiento of filteredTratamientos | async\" [value]=\"tratamiento\" (click)=\"seleccionItem($event, true, 'articulo')\">\r\n                                {{ tratamiento.descripcion }}\r\n                            </mat-option>\r\n                        </mat-autocomplete>\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('tratamiento')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('tratamiento').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <div class=\"flex justify-between items-center gap-2 w-1/3\">\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <mat-checkbox formControlName=\"acarreo\"></mat-checkbox>\r\n                            <mat-label>Acarreo</mat-label>\r\n                        </div>\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <mat-checkbox formControlName=\"colocacion\"></mat-checkbox>\r\n                            <mat-label>Colocación</mat-label>\r\n                        </div>\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <mat-checkbox formControlName=\"retiro_fabrica\"></mat-checkbox>\r\n                            <mat-label>Retiro en Fábrica</mat-label>\r\n                        </div>\r\n                    </div>\r\n                    <mat-form-field appearance='fill' class=\"w-full sm:w-1/3\">\r\n                        <mat-label>Fecha de Entrega</mat-label>\r\n                        <input matInput [matDatepicker]=\"picker_entrega\" formControlName=\"fecha_entrega\" readonly=\"true\"\r\n                            [min]=\"maxDate\" />\r\n                        <mat-datepicker-toggle matSuffix [for]=\"picker_entrega\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #picker_entrega></mat-datepicker>\r\n                    </mat-form-field>\r\n                </div>\r\n            </form>\r\n\r\n            <!-- Sección: Adjuntos -->\r\n            <div class=\"mb-3 w-full\">\r\n                <div class=\"flex items-center gap-2\">\r\n                    <button mat-icon-button type=\"button\" matTooltip=\"Añadir Imagen\"\r\n                        [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n                        (click)=\"fileInput.click();\">\r\n                        <mat-icon class=\"text-white transform -rotate-45\">attach_file</mat-icon>\r\n                    </button>\r\n                    <input #fileInput id=\"fileToUploadImagen\" type=\"file\" [accept]=\"validExtension\"\r\n                        (change)=\"setImagen($event, 0)\" class=\"hidden\">\r\n                    <small *ngIf=\"adjuntos.length === 0\" class=\"text-muted text-lg cursor-pointer\"\r\n                        (click)=\"fileInput.click()\">\r\n                        <b>{{ 'Adjuntos' }}</b> (Max: 20Mb)\r\n                    </small>\r\n                    <!-- Archivos Nuevos / Guardados -->\r\n                    <div *ngIf=\"adjuntos.length > 0\"\r\n                        class=\"mt-4 grid gap-2 p-2 bg-slate-200 rounded-lg max-w-full max-h-56 xl:max-h-56 sm:max-h-18 overflow-y-auto\"\r\n                        style=\"grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\">\r\n                        <ng-container *ngFor=\"let imagen of adjuntos\">\r\n                            <div [class]=\"color_primario ? '' : default_color\"\r\n                                [style.background-color]=\"color_primario || '' \"\r\n                                class=\"flex items-center gap-2 px-4 py-2 rounded-lg text-white\">\r\n\r\n                                <!-- Aquí agrego la clase truncate -->\r\n                                <span *ngIf=\"!imagen.idventaadjunto\" class=\"truncate max-w-xs\">{{ imagen.path }} ({{\r\n                                    getFileSize(imagen.size) }})</span>\r\n                                <a *ngIf=\"imagen.idventaadjunto\" href=\"{{urlBase + imagen.path}}\" target=\"_blank\"\r\n                                    class=\"flex items-center truncate max-w-xs\">\r\n                                    {{ getFileNameFromUrl(imagen.path) }}\r\n                                    <mat-icon class=\"ml-2 text-white\">open_in_new</mat-icon>\r\n                                </a>\r\n\r\n                                <button mat-icon-button (click)=\"removeFile('adjuntos', imagen)\">\r\n                                    <mat-icon class=\"text-white\">close</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                        </ng-container>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <!-- Carga de articulos -->\r\n            <form [formGroup]=\"form_carga_articulos\">\r\n                <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                    <div class=\"flex w-full gap-1\">\r\n                        <mat-form-field apparance='fill' class=\"  w-full sm:w-full\">\r\n                            <mat-label>Artículo</mat-label>\r\n                            <input type=\"text\" matInput formControlName=\"articulo\" [matAutocomplete]=\"art_carga\"\r\n                                (ngModelChange)=\"seleccionItem($event)\">\r\n                            <mat-autocomplete autoActiveFirstOption #art_carga=\"matAutocomplete\"\r\n                                [displayWith]=\"getTextArticulo\">\r\n                                <mat-option *ngFor=\"let articulo of (filteredArticulos$ | async) ?? []\"\r\n                                [value]=\"articulo\">\r\n                                {{ articulo.codigo_interno }} - {{ articulo.descripcion }}\r\n                            </mat-option>\r\n                            </mat-autocomplete>\r\n                            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('articulo')\" class=\"mr-2\"\r\n                                *ngIf=\"form_carga_articulos.get('articulo').value\">\r\n                                <mat-icon>clear</mat-icon>\r\n                            </button>\r\n                        </mat-form-field>\r\n                        <!-- Escanner qr -->\r\n                        <!-- <div class=\"flex\">\r\n                            <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                                [style.color]=\"color_secundario\"\r\n                                class=\"flex items-center justify-center w-12 h-12 rounded-full ml-1 mt-1\">\r\n                                <svg width=\"22\" height=\"22\" viewBox=\"0 0 16 16\" fill=\"currentColor\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path\r\n                                        d=\"M2.66667 2.66667H6.66667V6.66667H2.66667V2.66667ZM13.3333 2.66667V6.66667H9.33333V2.66667H13.3333ZM9.33333 10H10.6667V8.66667H9.33333V7.33333H10.6667V8.66667H12V7.33333H13.3333V8.66667H12V10H13.3333V12H12V13.3333H10.6667V12H8.66667V13.3333H7.33333V10.6667H9.33333V10ZM10.6667 10V12H12V10H10.6667ZM2.66667 13.3333V9.33333H6.66667V13.3333H2.66667ZM4 4V5.33333H5.33333V4H4ZM10.6667 4V5.33333H12V4H10.6667ZM4 10.6667V12H5.33333V10.6667H4ZM2.66667 7.33333H4V8.66667H2.66667V7.33333ZM6 7.33333H8.66667V10H7.33333V8.66667H6V7.33333ZM7.33333 4H8.66667V6.66667H7.33333V4ZM1.33333 1.33333V4H0V1.33333C0 0.979711 0.140476 0.640573 0.390524 0.390524C0.640573 0.140476 0.979711 0 1.33333 0L4 0V1.33333H1.33333ZM14.6667 0C15.0203 0 15.3594 0.140476 15.6095 0.390524C15.8595 0.640573 16 0.979711 16 1.33333V4H14.6667V1.33333H12V0H14.6667ZM1.33333 12V14.6667H4V16H1.33333C0.979711 16 0.640573 15.8595 0.390524 15.6095C0.140476 15.3594 0 15.0203 0 14.6667V12H1.33333ZM14.6667 14.6667V12H16V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H12V14.6667H14.6667Z\"\r\n                                        fill=\"currentColor\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div> -->\r\n                    </div>\r\n                    <mat-form-field apparance='fill' class=\" w-full sm:w-full\">\r\n                        <mat-label>UM</mat-label>\r\n                        <mat-select formControlName=\"unidadmedida\" (ngModelChange)=\"seleccionItem({um: $event})\">\r\n                            <mat-option *ngFor=\"let um of unidades_de_medida\" [value]=\"um.idarticulounidadmedida\">\r\n                                {{um.descripcion_um}} <i *ngIf=\"um.factor_um != 1\" class=\"font-light\">(x{{um.factor_um}}\r\n                                    {{um.um_base}})</i>\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n\r\n                    <mat-form-field apparance='fill' class=\"w-full sm:w-full\">\r\n                        <mat-label>Detalle</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"detalle\"\r\n                            (keydown.enter)=\"seleccionItem($event, true, 'cantidad')\">\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('detalle')\" class=\"mr-2\"\r\n                            *ngIf=\"form_carga_articulos.get('detalle').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n\r\n                    <mat-form-field apparance='fill' class=\"w-full sm:w-full\"\r\n                        (keydown.enter)=\"seleccionItem($event, true, 'importe_unitario')\">\r\n                        <mat-label>Cantidad</mat-label>\r\n                        <input matInput type=\"number\" formControlName=\"cantidad\">\r\n                    </mat-form-field>\r\n\r\n                    <div class=\"flex w-full sm:w-1/2 justify-center items-center\">\r\n                        <mat-form-field appearance=\"fill\" class=\"w-full sm:w-full\">\r\n                            <mat-label>Precio Unitario</mat-label>\r\n                            <div class=\"flex items-center\">\r\n                                <input type=\"text\" matInput formControlName=\"importe_unitario\" placeholder=\"$\"\r\n                                    (keydown.enter)=\"seleccionItem($event, true, 'porcentaje_bonificado')\" />\r\n                                <button matSuffix mat-icon-button (click)=\"limpiarCasillero('importe_unitario')\"\r\n                                    class=\"mr-2\" *ngIf=\"form_carga_articulos.get('importe_unitario').value\">\r\n                                    <mat-icon>clear</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                            <!-- Leyenda debajo del input -->\r\n                            <mat-hint class=\"text-xs text-gray-500 italic\">Sin I.V.A.</mat-hint>\r\n                        </mat-form-field>\r\n                        <div class=\"flex\">\r\n                            <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                                matTooltip='Calcular Precio Unitario'\r\n                                class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                                (click)=\"calcularPrecioUnitario()\">\r\n                                <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path\r\n                                        d=\"M22.0104 0H2.96439C1.46792 0 0.24353 1.2 0.24353 2.66667V21.3333C0.24353 22.8 1.46792 24 2.96439 24H22.0104C23.5069 24 24.7312 22.8 24.7312 21.3333V2.66667C24.7312 1.2 23.5069 0 22.0104 0ZM13.8886 5.41333L15.3307 4L17.2489 5.88L19.1671 4L20.6091 5.41333L18.6909 7.29333L20.6091 9.17333L19.1671 10.5867L17.2489 8.72L15.3307 10.6L13.8886 9.18667L15.8068 7.30667L13.8886 5.41333ZM4.66492 6.29333H11.4671V8.29333H4.66492V6.29333ZM11.8072 17.3333H9.08632V20H7.04567V17.3333H4.32482V15.3333H7.04567V12.6667H9.08632V15.3333H11.8072V17.3333ZM20.65 19H13.8478V17H20.65V19ZM20.65 15.6667H13.8478V13.6667H20.65V15.6667Z\"\r\n                                        fill=\"white\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"flex w-full sm:w-1/2 justify-center items-center\">\r\n                        <mat-form-field appearance=\"fill\" class=\"w-full sm:w-full\">\r\n                            <mat-label>Bonificación</mat-label>\r\n                            <div class=\"flex items-center\">\r\n                                <input type=\"text\" matInput formControlName=\"porcentaje_bonificado\" placeholder=\"%\"\r\n                                    (keydown.enter)=\"onCargar($event)\" />\r\n                                <button matSuffix mat-icon-button (click)=\"limpiarCasillero('porcentaje_bonificado')\"\r\n                                    class=\"mr-2\" *ngIf=\"form_carga_articulos.get('porcentaje_bonificado').value\">\r\n                                    <mat-icon>clear</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                        </mat-form-field>\r\n\r\n                        <div class=\"flex\">\r\n                            <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                                matTooltip='Agregar'\r\n                                class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                                (click)=\"onCargar()\">\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path d=\"M16 10H10V16H6V10H0V6H6V0H10V6H16V10Z\" fill=\"white\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </form>\r\n\r\n            <!-- Barra de busqueda de articulos en la grilla -->\r\n            <div class=\"search-container mt-2 mb-2 flex\">\r\n                <div class=\"relative w-full md:w-1/3\">\r\n                    <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Buscar artículo\"\r\n                        class=\"w-full bg-slate-50 border border-gray-200 rounded-lg shadow-md py-2 px-4 text-sm placeholder-gray-500 text-gray-700 transition duration-300\" />\r\n                    <span class=\"absolute inset-y-0 right-4 flex items-center text-gray-400\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                d=\"M12.9 14.32a8 8 0 111.42-1.42l4.39 4.4a1 1 0 11-1.42 1.41l-4.4-4.39zM8 14a6 6 0 100-12 6 6 0 000 12z\"\r\n                                clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Grilla -->\r\n            <div class=\"overflow-y-auto max-h-[300px] h-[300px] shadow-md rounded-lg bg-white\">\r\n                <table *ngIf=\"dataSource.data.length != 0\" mat-table [dataSource]=\"dataSource\"\r\n                    class=' w-full mt-1 min-h-full'>\r\n                    <ng-container matColumnDef='articulo'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tl-lg text-white w-auto\">\r\n                            Articulo</th>\r\n                        <td mat-cell *matCellDef='let item' class=\"w-auto\">\r\n                            {{item.descripcion }}\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='unidadmedida'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Unidad de medida</th>\r\n                        <td mat-cell *matCellDef='let item' class=\"text-center\">\r\n                            {{ item.descripcion_um }}\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='cantidad'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Cantidad</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            {{ item.cantidad }}\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_unitario' class=\"content-end\">\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Precio Unitario</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_unitario }} </b>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"text-lg font-bold bg-slate-200\">TOTAL</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_bonificado'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Bonificado</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b>${{ item.importe_bonificado }} </b> ({{item.porcentaje_bonificado}}%)\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_bonificado}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_no_bonificado'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">No Bonificado</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_no_bonificado }} </b> ({{100 - item.porcentaje_bonificado}}%)\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_no_bonificado}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_iva'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">IVA</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_iva }} </b>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_iva}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_subtotal'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Subtotal</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_subtotal }} </b>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_subtotal}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='acciones'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tr-lg text-white w-auto\">\r\n                        </th>\r\n                        <td mat-cell *matCellDef='let movimiento'>\r\n                            <button mat-icon-button (click)=\"deleteMovimiento(movimiento)\" #delete>\r\n                                <mat-icon color=\"warn\">delete</mat-icon>\r\n                            </button>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>\r\n                    <tr mat-row *matRowDef='let row; columns: columns;'></tr>\r\n                    <tr mat-footer-row *matFooterRowDef=\"columns; sticky: true\"></tr>\r\n                </table>\r\n                <div *ngIf=\"dataSource.data.length === 0\"\r\n                    class=\"flex justify-center items-center h-full mt-0 bg-white \">\r\n                    <p class=\"text-gray-600 text-lg\">No hay artículos cargados.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <form [formGroup]=\"form\">\r\n                <div class=\"flex w-full gap-1 justify-end mt-2\">\r\n                    <mat-form-field apparance='fill' class=\"w-1/3 md:w-1/4\"\r\n                        (keydown.enter)=\"seleccionItem($event, true)\">\r\n                        <mat-label>TOTAL VENTA</mat-label>\r\n                        <input matInput type=\"number\" formControlName=\"total_venta\" readonly=\"true\">\r\n                    </mat-form-field>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </form>\r\n\r\n    <div *ngIf=\"!mostrarSpinner\" class=\"w-full md:flex justify-end md:pb-6 md:px-6 mt-auto\">\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Guardar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { debounceTime, distinctUntilChanged, Subject, Subscription, takeUntil } from 'rxjs';\r\nimport { IVtaVentaBonificada } from '../../models/venta-generica';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { SearchService } from 'app/layout/common/search/search.service';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { environment } from 'environments/environment';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\n\r\n@Component({\r\n    selector: 'app-bonificado-detalle',\r\n    templateUrl: './bonificado-detalle.component.html',\r\n    styleUrls: ['./bonificado-detalle.component.scss']\r\n})\r\nexport class BonificadoDetalleComponent implements OnInit, OnDestroy {\r\n    data: any;\r\n    iddeposito: number;\r\n    venta_bonificadas: IVtaVentaBonificada[] = [];\r\n    headers = ['Venta', 'Bonificado', 'Fecha', 'Importe Neto', 'Importe Iva', 'Importe Descuento', 'Importe Total']\r\n    columns = ['idventa', 'bonificado', 'fecha', 'importe_neto', 'importe_iva', 'importe_descuento', 'importe_total'];\r\n    column_params = ['idventa', 'bonificado', 'fecha', 'importe_neto', 'importe_iva', 'importe_descuento', 'importe_total'];\r\n    filtersLike = ['fecha'];\r\n    funcionesObjeto = null;\r\n    @Input() extraParams = '';\r\n\r\n    env = environment.ventas.view_vta_venta_bonificado_detalles + '?filter[idventa]=' + +this.route.snapshot.paramMap.get('idventa');\r\n\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'border-primary text-primary';\r\n\r\n    search: FormControl = new FormControl('');\r\n    SearchTextSub$: Subscription;\r\n    FilterEventSub$: Subscription;\r\n    filtroBusqueda: string = '';\r\n\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    constructor(\r\n        private _empresaService: EmpresaService,\r\n        private router: Router,\r\n        public _headerTextService: HeaderTextService,\r\n        private _searchService: SearchService,\r\n        private _menuService: JedsMenuService,\r\n        public dialogo: MatDialog,\r\n        private route: ActivatedRoute\r\n    ) {\r\n        let titulo = { custom_title: true, titulo: `Venta N°${this.route.snapshot.paramMap.get('idventa')} detalle bonificado ` } ;\r\n        this._headerTextService.setCustomTitle(titulo);\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.SearchTextSub$ = this._searchService.getSearchText().pipe( //Se obtienen los valores que coinciden con lo ingresado en la barra de busqueda\r\n            debounceTime(250),\r\n            distinctUntilChanged()\r\n        )\r\n            .subscribe(value => {\r\n                this.filtroBusqueda = value;\r\n                this.tabla.filters(this.filtroBusqueda);\r\n            });\r\n\r\n    }\r\n\r\n\r\n    volverPaginaAnterior() {\r\n        this.router.navigate(['/ventas']);\r\n    }\r\n\r\n    // Este método es llamado cuando el componente es destruido\r\n    ngOnDestroy(): void {\r\n        this._searchService.unsubscribe()\r\n    }\r\n}","<div class=\"w-full flex flex-col relative mt-4\">\r\n    <div class=\"flex justify-start sm:mb-0 mx-4\">\r\n        <button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n            [style.color]=\"color_primario || '' \" class=\"fuse-mat-button-large w-full !border border-solid md:w-28\"\r\n            mat-flat-button (click)=\"volverPaginaAnterior()\">\r\n            <mat-icon class=\"icon-size-5\" [svgIcon]=\"'heroicons_solid:chevron-left'\"></mat-icon>\r\n            <span class=\"ml-2 text-lg font-normal\">Volver</span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"pr-2 pl-2\">\r\n        <!-- Tabla dinámica -->\r\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\" [cache]=\"false\"\r\n            [columnsNames]=\"headers\" [renderType]=\"'client'\" [columnsParams]=\"column_params\" [endpoint]=\"env\"\r\n            [functions]=\"funcionesObjeto\" [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\r\n            [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\">\r\n        </app-tabla-dinamica>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { finalize, Subject, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { VentaGenericasService } from '../../service/venta-generica.service';\r\nimport { dtoCalcularUnitario } from '../../models/venta-generica';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\n@Component({\r\n    selector: 'app-calcular-unitario',\r\n    templateUrl: './calcular-unitario.component.html',\r\n    styleUrls: ['./calcular-unitario.component.scss']\r\n})\r\nexport class CalcularUnitarioComponent implements OnInit {\r\n    columns = ['nombre', 'activo', 'acciones'];\r\n    form: FormGroup;\r\n    title: string;\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    deposito_default = 0;\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _ventaGenericasService: VentaGenericasService,\r\n        private _empresaService: EmpresaService,\r\n        private alert: AppAlertService,\r\n        public dialogRef: MatDialogRef<CalcularUnitarioComponent>\r\n    ) {\r\n        this.title = `Calcular Precio Unitario ${this.data.descripcion}`;\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n                this.deposito_default = empresa.deposito_default;\r\n            });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.subscribeAlert();\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            articulo: new FormControl({ value: `${this.data.codigo_interno} | ${this.data.descripcion}`, disabled: true }, Validators.required),\r\n            bruto: new FormControl((''), Validators.required),\r\n        });\r\n    }\r\n\r\n    onSubmit() {\r\n        if (!this.form.valid) {\r\n            return this.alert.error('Revise Los Datos Ingresados');\r\n        } else {\r\n            const payload: dtoCalcularUnitario = {\r\n                idarticulo: this.data.idarticulo,\r\n                bruto: this.form.get('bruto').value\r\n            }\r\n\r\n            this._ventaGenericasService.calcularPrecioUnitario(payload)\r\n                .subscribe({\r\n                    next: (data: IResponse<any>) => {\r\n                        if (data) {\r\n                            this.creadoExitosamente.emit();\r\n                            this.onCloseMenu(data);\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    onCloseMenu(data) {\r\n        this.dialogRef.close(data)\r\n    }\r\n}","<div\r\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"form\">\r\n        <mat-form-field appearance='outline' class=\"w-full\">\r\n            <mat-label>Artículo</mat-label>\r\n            <input matInput formControlName='articulo' [value]=\"data.descripcion\">\r\n        </mat-form-field>\r\n        <mat-form-field appearance='outline' class=\" w-full\">\r\n            <mat-label>Bruto</mat-label>\r\n            <input matInput formControlName='bruto' (keydown.enter)=\"onSubmit()\">\r\n        </mat-form-field>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\">\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Calcular</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Inject, OnDestroy, OnInit } from \"@angular/core\";\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material/dialog\";\r\nimport { IAlertConfig } from \"@shared/models/alert\";\r\nimport { AppAlertService } from \"@shared/service/app/alert.service\";\r\nimport { EmpresaService } from \"@shared/service/app/empresa.service\";\r\nimport { finalize, firstValueFrom, map, Observable, startWith, Subject, takeUntil, takeWhile, tap, timer } from \"rxjs\";\r\nimport { IVtaVentaSelect } from \"../../models/venta-generica\";\r\nimport { MY_DATE_FORMATS } from \"@shared/constants/date-format\";\r\nimport { MAT_DATE_FORMATS } from \"@angular/material/core\";\r\nimport { VentaGenericasService } from \"../../service/venta-generica.service\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { FuseConfirmationService } from \"@fuse/services/confirmation\";\r\nimport { FormateadorService } from \"@shared/service/app/formateador.service\";\r\n\r\n@Component({\r\n    selector: 'app-venta-estados',\r\n    templateUrl: './estados-ventas.component.html',\r\n    styleUrls: ['./estados-ventas.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }]\r\n})\r\nexport class VentasEstadosComponent implements OnInit, OnDestroy {\r\n    estados: any[] = [];\r\n    filteredEstado: Observable<any[]>; \r\n    form: FormGroup;\r\n    ventas: IVtaVentaSelect;\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    columns = ['fecha', 'descripcion_estado', 'observaciones', 'acciones'];\r\n    mostrar_tabla: boolean;\r\n    puede_crear: boolean;\r\n    public dataSource: MatTableDataSource<any> = new MatTableDataSource();\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _empresaService: EmpresaService,\r\n        private _ventaGenericaService: VentaGenericasService, \r\n        private datePipe: DatePipe,\r\n        private confirm: FuseConfirmationService,\r\n        private formateador: FormateadorService,\r\n        public alert: AppAlertService,\r\n        public dialogRef: MatDialogRef<VentasEstadosComponent>\r\n    ) {\r\n        this.ventas = this.data ? this.data : null;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n                \r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.subscribeAlert();\r\n        this.newForm();\r\n        this.getEstados();\r\n        this.getViewEstados();\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                .pipe(\r\n                    finalize(() => {\r\n                        this.showAlert = false;\r\n                        this._alertConfig = null;\r\n                    }),\r\n                    takeWhile(() => time > 0),\r\n                    takeUntil(this._unsubscribeAll),\r\n                    tap(() => (time -= 1))\r\n                )\r\n                .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            fecha: new FormControl(new Date(), Validators.required),\r\n            estado: new FormControl('', Validators.required),\r\n            observaciones: new FormControl('', Validators.required)\r\n        })\r\n    }\r\n\r\n    onCargar($event?: KeyboardEvent) {\r\n        if ($event?.key === 'Enter') {\r\n            $event.preventDefault();\r\n        }\r\n        if (!this.form.valid) {\r\n            this.form.markAllAsTouched();\r\n            return this.alert.error('Por favor, complete todos los campos para la carga del estado de venta');\r\n        } else {\r\n            const fecha = this.form.get('fecha').value;\r\n            // Se formatea la fecha nuevamente al formato deseado (YYYY-MM-DD)\r\n            const fecha_formateada = this.datePipe.transform(fecha, 'yyyy-MM-dd');\r\n    \r\n            let payload = {\r\n                idventa: this.ventas.idventa,\r\n                idestado: this.form.get('estado').value.idestado,\r\n                fecha: fecha_formateada,\r\n                observaciones: this.form.get('observaciones').value\r\n            };\r\n    \r\n            this._ventaGenericaService.saveEstadoVenta(payload).subscribe((resp) => {\r\n                // Mostrar mensaje de éxito\r\n                this.alert.success(resp.mensaje);\r\n                this.limpiarCasillero('estado');\r\n                this.limpiarCasillero('observaciones')\r\n                this.getViewEstados();\r\n                this.resetFormFields();\r\n            }, (error) => {\r\n                // Manejo de errores\r\n                this.alert.error('Ocurrió un error al guardar el estado de venta.');\r\n            });\r\n        }\r\n    }\r\n\r\n    async getViewEstados() {\r\n        const view_estados = await firstValueFrom(this._ventaGenericaService.getViewEstados(this.ventas.idventa));\r\n        this.mostrar_tabla = view_estados.success;\r\n        this.puede_crear = view_estados.puede_crear;\r\n        this.dataSource = new MatTableDataSource(view_estados.result);\r\n        if (view_estados.success === false) {\r\n            this.alert.warning(view_estados.result)\r\n            setTimeout(() => {\r\n                this.onCloseMenu();\r\n            }, 2000);\r\n        } \r\n    }\r\n\r\n    async getEstados(option?) {\r\n        const Estados = await firstValueFrom(this._ventaGenericaService.getEstados(option));\r\n        new Promise(async (resolve) => {\r\n            this.estados = Estados.list;\r\n    \r\n                // // Filtrar y autoasignar el depósito por defecto\r\n                // const depositoPorDefecto = this.depositos.find(deposito => deposito.iddeposito === this.deposito_default);\r\n                // if (depositoPorDefecto && !this.entrega) {\r\n                //     this.form.get('deposito_entrega').setValue(depositoPorDefecto);\r\n                // }\r\n    \r\n            this.filteredEstado = this.form.get('estado').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterTextGenerico(value, this.estados, 'descripcion')),\r\n            );\r\n    \r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    getTextEstado(option) {\r\n        if (option.descripcion) {\r\n            return option.descripcion;\r\n        }\r\n        if (option.deposito) {\r\n            return option.deposito;\r\n        }\r\n        return option;\r\n    }\r\n\r\n    /**\r\n     * Funcion generica para encontrar un item en un arreglo, parametrizable.\r\n     * @param value Valor ingresado por buscador\r\n     * @param array Arreglo donde se compara la busqueda\r\n     * @param param Campo por el que se desea buscar coincidencias\r\n     * @returns Resultado de busqueda\r\n     */\r\n    private _filterTextGenerico(value: string, array: any[], param: string) {\r\n        const filterValue = value.toString().toLowerCase();\r\n        return array.filter(res => {\r\n            const result = res[`${param}`].toString().toLowerCase().includes(filterValue);\r\n            return result;\r\n        });\r\n    }\r\n\r\n    /**\r\n    * Funcion para limpiar campos\r\n    */\r\n    limpiarCasillero(input) {\r\n        this.form.get(input).setValue('');\r\n    }\r\n\r\n    resetFormFields() {\r\n        // Especificar los campos que deseas restablecer\r\n        const fieldsToReset = ['estado', 'observaciones'];\r\n    \r\n        // Iterar sobre los campos del formulario\r\n        Object.keys(this.form.controls).forEach(key => {\r\n            // Solo aplicar cambios a los campos especificados\r\n            if (fieldsToReset.includes(key)) {\r\n                this.form.controls[key].setErrors(null);\r\n                this.form.controls[key].markAsUntouched();\r\n                this.form.controls[key].markAsPristine();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Esta funcion elimina un item\r\n     * @param event \r\n     */\r\n    deleteEstadoVenta(estado_venta) {\r\n        this.confirm.open({\r\n            title: \"Eliminar Estado de Venta: N°\" + estado_venta.idestadoventa,\r\n            message: `¿Desea eliminar el estado de venta registrado el ${this.formateador.formatDate(estado_venta.fecha)} con el estado: \"${estado_venta.descripcion_estado}\"?`,\r\n            dismissible: false,\r\n            actions: {\r\n                confirm: {\r\n                    show: true,\r\n                    color: 'warn',\r\n                    label: 'Si',\r\n                },\r\n                cancel: {\r\n                    show: true,\r\n                    label: 'No',\r\n                },\r\n            },\r\n        })\r\n            .afterClosed()\r\n            .subscribe(res => {\r\n                if (res === 'confirmed') {\r\n                    this._ventaGenericaService.deleteEstadoVenta(estado_venta.idestadoventa).subscribe({\r\n                        next: (res) => {\r\n                            // Manejar la respuesta exitosa\r\n                            this.alert.success(res.mensaje);\r\n                            this.getViewEstados();\r\n                        },\r\n                        error: (error) => {\r\n                            // Manejar el error\r\n                            console.error('Error en el servicio:', error);\r\n                            this.alert.warning(\"Este estado de venta no puede eliminarse. Tiene elementos asociados.\");\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    onSubmit() {\r\n        \r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        \r\n    }\r\n\r\n    onCloseMenu() {\r\n        this.dialogRef.close(false)\r\n    }\r\n}","<div class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-auto sm:w-auto sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">Estados de Venta N°{{ ventas.idventa }}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu()\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert\r\n        class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\"\r\n        [appearance]=\"'outline'\"\r\n        *ngIf=\"showAlert\"\r\n        [@fadeIn]=\"showAlert\"\r\n    >\r\n    {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <div class=\"flex justify-between px-8 pt-6\" [ngClass]=\"{'sm:w-[900px] mb-4': puede_crear === false}\">\r\n        <span class=\"font-medium text-base\">Cliente: {{ ventas.cliente }}</span> \r\n        <span class=\"font-medium text-base\">Fecha de Venta: {{ ventas.fecha }}</span> \r\n    </div>\r\n    <form *ngIf=\"puede_crear === true\" class=\"flex w-full sm:w-[900px] h-full px-4 pt-4 form-menu\" [formGroup]=\"form\">\r\n        <div class=\"flex flex-col w-full h-full px-4\">\r\n            <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                <mat-form-field appearance=\"outline\" class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Fecha</mat-label>\r\n                    <input matInput [matDatepicker]=\"picker\" placeholder=\"dd/mm/aaaa\" formControlName=\"fecha\" readonly />\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker></mat-datepicker>\r\n                </mat-form-field>\r\n                <mat-form-field appearance='outline' class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Estado</mat-label>\r\n                    <input type=\"text\" matInput formControlName=\"estado\" [matAutocomplete]=\"estado\" id=\"estadoInput\">\r\n                    <mat-autocomplete autoActiveFirstOption #estado=\"matAutocomplete\" [displayWith]=\"getTextEstado\">\r\n                        <mat-option *ngFor=\"let estado of filteredEstado | async\" [value]=\"estado\">\r\n                            {{ estado.descripcion }}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('estado')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('estado').value\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"outline\" class=\"w-full sm:w-1/2\">\r\n                    <mat-label>Observaciones</mat-label>\r\n                    <input matInput type=\"text\" formControlName=\"observaciones\">\r\n                </mat-form-field>\r\n                <div class=\"flex\">\r\n                    <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                        matTooltip='Añadir Estado'\r\n                        class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                        (click)=\"onCargar()\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M16 10H10V16H6V10H0V6H6V0H10V6H16V10Z\" fill=\"white\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    <!-- Grilla -->\r\n    <div class=\"px-8 pb-8\" *ngIf=\"mostrar_tabla === true\">\r\n        <div class=\"flex justify-center\">\r\n            <span class=\"font-medium text-lg\">Histórico de estados</span>\r\n        </div>\r\n        <div class=\"overflow-y-auto max-h-auto h-auto shadow-md rounded-lg\">\r\n            <table mat-table [dataSource]=\"dataSource\" class=' w-full mt-1 '>\r\n                <ng-container matColumnDef='fecha'>\r\n                    <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                        [style.background]=\"color_primario || '' \" class=\"rounded-tl-lg text-white w-auto\">\r\n                        Fecha</th>\r\n                    <td mat-cell *matCellDef='let estado_venta' class=\"w-auto\">\r\n                        {{formateador.formatDate(estado_venta.fecha)}}\r\n                    </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef='descripcion_estado'>\r\n                    <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                        [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">\r\n                        Estado</th>\r\n                    <td mat-cell *matCellDef='let estado_venta' class=\"w-auto\">\r\n                        {{estado_venta.descripcion_estado}}\r\n                    </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef='observaciones'>\r\n                    <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                        [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Observaciones</th>\r\n                    <td mat-cell *matCellDef='let estado_venta'>\r\n                        {{ estado_venta.observaciones }}\r\n                    </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef='acciones'>\r\n                    <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                        [style.background]=\"color_primario || '' \" class=\"rounded-tr-lg text-white w-auto\">\r\n                    </th>\r\n                    <td mat-cell *matCellDef='let estado_venta'>\r\n                        <button mat-icon-button (click)=\"deleteEstadoVenta(estado_venta)\" #delete *ngIf=\"estado_venta.puede_eliminar === true\">\r\n                            <mat-icon class=\"icon-size-8\" [svgIcon]=\"'heroicons_solid:eliminar'\" [class]=\"color_primario ? '' : default_color\"\r\n                            [style.color]=\"color_primario || ''\" ></mat-icon>\r\n                        </button>\r\n                    </td>\r\n                </ng-container>\r\n                <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>\r\n                <tr mat-row *matRowDef='let row; columns: columns'></tr>\r\n            </table>\r\n            <div *ngIf=\"dataSource.data.length === 0 \" class=\"flex justify-center items-center h-20\">\r\n                <p class=\"text-gray-600 text-lg\">No hay Estado de Ventas cargados.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { IProveedor } from 'app/modules/administracion/proveedores/models/proveedor';\r\nimport { firstValueFrom, map, Observable, startWith, Subject, takeUntil } from 'rxjs';\r\nimport { VentaGenericasService } from '../../service/venta-generica.service';\r\nimport { ISelectResponse } from '@shared/models/select-response';\r\nimport { IUsuario } from '@core/user/user.types';\r\nimport { ICliente } from 'app/modules/administracion/clientes/models/cliente';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-filter-menu-ventas',\r\n  templateUrl: './filter-menu.component.html',\r\n  styleUrls: ['./filter-menu.component.scss'],\r\n  animations: fuseAnimations\r\n})\r\nexport class FilterMenuComponent implements OnInit, OnDestroy {\r\n  public formFilters: FormGroup;\r\n  public proveedores: IProveedor[] = [];\r\n  color_primario: string;\r\n  color_secundario: string;\r\n  configura_obra: boolean = false;\r\n  default_color: string = 'bg-primary';\r\n  private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n  clientes: ICliente[];\r\n  filteredClientes: Observable<ISelectResponse[]>;\r\n  vendedores: IUsuario[];\r\n  filteredVendedores: Observable<IUsuario[]>;\r\n  tratamientos\r\n  filteredTratamientos: Observable<ISelectResponse[]>;\r\n\r\n  constructor(\r\n    @Inject('MENU_DATA') public data: any,\r\n    private _empresaService: EmpresaService,\r\n    private menuService: JedsMenuService,\r\n    private datePipe: DatePipe,\r\n    private _ventaGenericaService: VentaGenericasService\r\n  ) {\r\n    // Subscribe to empresa data\r\n    this._empresaService.empresa$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(empresa => {\r\n        this.color_primario = empresa.color_primario;\r\n        this.color_secundario = empresa.color_secundario;\r\n        this.configura_obra = empresa.configura_obra === 1 ? true : false;\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.formFilters = new FormGroup({\r\n      filtroFechaInicio: new FormControl(('')),\r\n      filtroFechaFin: new FormControl(('')),\r\n      tratamiento: new FormControl(('')),\r\n      cliente: new FormControl(('')),\r\n      vendedor: new FormControl((''))\r\n    });\r\n\r\n    // Load empresa data\r\n    this._empresaService.getEmpresa();\r\n    this.formFilters.patchValue(this.data.filter);\r\n\r\n    this.loadServices();\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  /**\r\n  * Este metodo ejecuta todas las peticiones asincronas al mismo tiempo\r\n  */\r\n  async loadServices() {\r\n    await Promise.all([\r\n      this.getClientes(),\r\n      this.getVendedores(),\r\n      this.getTratamiento(),\r\n    ]).then(() => {\r\n    })\r\n  }\r\n  resetFilters() {\r\n    this.formFilters.reset({\r\n      filtroFechaInicio: '',\r\n      filtroFechaFin: '',\r\n      tratamiento: -1,\r\n      cliente: -1,\r\n      vendedor: -1,\r\n    });\r\n  }\r\n\r\n  onCloseMenu(data: any = null) {\r\n    if (data) {\r\n      data.filtroFechaInicio = this.datePipe.transform(this.formFilters.get('filtroFechaInicio').value, 'yyyy-MM-dd');\r\n      data.filtroFechaFin = this.datePipe.transform(this.formFilters.get('filtroFechaFin').value, 'yyyy-MM-dd');\r\n    }\r\n    this.menuService.close(data);\r\n  }\r\n\r\n  async getClientes(option?) {\r\n    const Clientes = await firstValueFrom(this._ventaGenericaService.getClientes(option));\r\n    new Promise(async (resolve) => {\r\n      this.clientes = Clientes.list;\r\n      this.filteredClientes = this.formFilters.get('cliente').valueChanges.pipe(\r\n        startWith(''),\r\n        map((value) => this._filterSelect(value, 'clientes')),\r\n      );\r\n\r\n      resolve(true);\r\n    })\r\n  };\r\n\r\n  async getVendedores(option?) {\r\n    const Vendedores = await firstValueFrom(this._ventaGenericaService.getVendedores(option));\r\n    new Promise(async (resolve) => {\r\n      this.vendedores = Vendedores['list'];\r\n      this.filteredVendedores = this.formFilters.get('vendedor').valueChanges.pipe(\r\n        startWith(''),\r\n        map((value) => this._filterVendodres(value)),\r\n      );\r\n\r\n      resolve(true);\r\n    })\r\n  };\r\n\r\n  async getTratamiento() {\r\n    const Tratamientos = await firstValueFrom(this._ventaGenericaService.getTratamientos());\r\n    new Promise(async (resolve) => {\r\n      this.tratamientos = Tratamientos['list'];\r\n      this.filteredTratamientos = this.formFilters.get('tratamiento').valueChanges.pipe(\r\n        startWith(''),\r\n        map((value) => this._filterSelect(value, 'tratamientos'))\r\n      );\r\n\r\n      resolve(true);\r\n    })\r\n  };\r\n\r\n  getTextGenerico(option) {\r\n    if (option.RazonSocial || option.razonSocial) return option ? option.RazonSocial || option.razonSocial : '';\r\n\r\n    if (option.descripcion) return option ? option.descripcion : '';\r\n\r\n    if (option.nick) return option ? `${option.nombre} ${option.apellido}` : '';\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param item Valor a buscar\r\n   * @param model Modelo donde se retorna la lista de valores encontrados\r\n   * @returns Valores encontrados en la lista\r\n   */\r\n  private _filterSelect(item: ISelectResponse, model?: string): ISelectResponse[] {\r\n    const filterValue = item.toString().toLowerCase();\r\n    return this[`${model}`].filter(item => item.descripcion.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  private _filterVendodres(vendedor: IUsuario): IUsuario[] {\r\n    const filterValue = vendedor.toString().toLowerCase();\r\n    return this.vendedores.filter(vendedor => vendedor.nombre.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  /**\r\n* Funcion para limpiar campos\r\n*/\r\n  limpiarCasillero(input) {\r\n\r\n    if (input === 'fecha') {\r\n      this.formFilters.get('filtroFechaInicio').setValue('');\r\n      this.formFilters.get('filtroFechaFin').setValue('');\r\n    }\r\n\r\n    if (this.formFilters.get(input)) {\r\n      this.formFilters.get(input).setValue(-1);\r\n    }\r\n  }\r\n}","<div class=\"fixed filtroJeds inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\"\r\n    [@expandCollapse]=\"'expanded'\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">Filtros</span>\r\n        <div>\r\n            <button mat-icon-button class=\"md:hidden\" (click)=\"resetFilters()\">\r\n                <mat-icon class=\"text-white\">refresh</mat-icon>\r\n            </button>\r\n            <button mat-icon-button (click)=\"onCloseMenu(null)\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"formFilters\">\r\n        <!-- Fecha inicio-->\r\n        <span class=\"font-semibold text-gray-600 text-base\">Rango de fechas</span>\r\n        <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <mat-date-range-input [rangePicker]=\"picker\">\r\n                <input matStartDate placeholder=\"Desde\" formControlName=\"filtroFechaInicio\">\r\n                <input matEndDate placeholder=\"Hasta\" formControlName=\"filtroFechaFin\">\r\n            </mat-date-range-input>\r\n            <mat-datepicker-toggle matIconSuffix [for]=\"picker\"\r\n                *ngIf=\"!formFilters.get('filtroFechaInicio').value || !formFilters.get('filtroFechaFin').value\"></mat-datepicker-toggle>\r\n            <mat-date-range-picker #picker></mat-date-range-picker>\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('fecha')\"\r\n                *ngIf=\"formFilters.get('filtroFechaInicio').value || formFilters.get('filtroFechaFin').value\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </mat-form-field>\r\n\r\n        <!-- Clientes -->\r\n        <span *ngIf=\"formFilters.get('cliente')\" class=\"font-semibold text-gray-600 text-base\">Cliente</span>\r\n        <mat-form-field *ngIf=\"formFilters.get('cliente')\"\r\n            class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <input type=\"text\" placeholder=\"Seleccione Cliente\" matInput [matAutocomplete]=\"auto_cliente\"\r\n                formControlName=\"cliente\">\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('cliente')\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('cliente').value != -1\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n            <button mat-icon-button matSuffix>\r\n                <mat-icon>arrow_drop_down</mat-icon>\r\n            </button>\r\n            <mat-autocomplete autoActiveFirstOption #auto_cliente=\"matAutocomplete\" [displayWith]=\"getTextGenerico\">\r\n                <mat-option *ngFor=\"let cliente of filteredClientes | async\" [value]=\"cliente\">\r\n                    {{ cliente.descripcion }}\r\n                </mat-option>\r\n            </mat-autocomplete>\r\n\r\n        </mat-form-field>\r\n\r\n        <!-- Vendedores -->\r\n        <span *ngIf=\"formFilters.get('vendedor')\" class=\"font-semibold text-gray-600 text-base\">Vendedor</span>\r\n        <mat-form-field *ngIf=\"formFilters.get('vendedor')\"\r\n            class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <input type=\"text\" placeholder=\"Seleccione Vendedor\" matInput [matAutocomplete]=\"auto_vendedor\"\r\n                formControlName=\"vendedor\">\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('vendedor')\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('vendedor').value != -1\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n            <button mat-icon-button matSuffix>\r\n                <mat-icon>arrow_drop_down</mat-icon>\r\n            </button>\r\n            <mat-autocomplete autoActiveFirstOption #auto_vendedor=\"matAutocomplete\" [displayWith]=\"getTextGenerico\">\r\n                <mat-option *ngFor=\"let vendedor of filteredVendedores | async\" [value]=\"vendedor\">\r\n                    {{ vendedor.nombre }} {{ vendedor.apellido }}\r\n                </mat-option>\r\n            </mat-autocomplete>\r\n        </mat-form-field>\r\n\r\n        <!-- Tratamiento -->\r\n        <span *ngIf=\"formFilters.get('tratamiento') && configura_obra\" class=\"font-semibold text-gray-600 text-base\">Tratamiento</span>\r\n        <mat-form-field *ngIf=\"formFilters.get('tratamiento') && configura_obra\"\r\n            class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <input type=\"text\" placeholder=\"Seleccione Tratamiento\" matInput [matAutocomplete]=\"auto_tratamiento\"\r\n                formControlName=\"tratamiento\">\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('tratamiento')\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('tratamiento').value != -1\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n            <button mat-icon-button matSuffix>\r\n                <mat-icon>arrow_drop_down</mat-icon>\r\n            </button>\r\n            <mat-autocomplete autoActiveFirstOption #auto_tratamiento=\"matAutocomplete\" [displayWith]=\"getTextGenerico\">\r\n                <mat-option *ngFor=\"let tratamiento of filteredTratamientos | async\" [value]=\"tratamiento\">\r\n                    {{ tratamiento.descripcion }}\r\n                </mat-option>\r\n            </mat-autocomplete>\r\n        </mat-form-field>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-between md:pb-4 md:px-4\">\r\n        <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.color]=\"color_primario || '' \"\r\n            [style.border]=\"color_primario || '' \"\r\n            class=\"w-full !border border-solid rounded-none md:w-26 md:rounded-lg hidden md:block\"\r\n            (click)=\"resetFilters()\">\r\n            <span class=\"font-medium text-base\">Limpiar</span>\r\n        </button>\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class=\"w-full rounded-none md:w-26 md:rounded-lg py-8 md:py-0\"\r\n            (click)=\"onCloseMenu(formFilters.getRawValue())\">\r\n            <span class=\"text-white font-bold\">Filtrar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { Subject, Subscription, debounceTime, distinctUntilChanged, takeUntil } from 'rxjs';\r\nimport { MatTableDataSource } from '@angular/material/table'\r\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { environment } from 'environments/environment';\r\nimport { SearchService } from 'app/layout/common/search/search.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { Router } from '@angular/router';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { PwaService } from '@shared/service/app/pwa.service';\r\nimport { VentaGenericasService } from '../service/venta-generica.service';\r\nimport { IVtaVentaSelect } from '../models/venta-generica';\r\nimport { FilterMenuComponent } from './filter-menu/filter-menu.component';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { VentasEstadosComponent } from './estados-ventas/estados-ventas.component';\r\n\r\n@Component({\r\n    selector: 'app-venta-generica',\r\n    templateUrl: './venta-genericas.component.html',\r\n    styleUrls: ['./venta-genericas.component.scss']\r\n})\r\nexport class VentaGenericasComponent implements OnInit, OnDestroy {\r\n    // Necesarios para la app\r\n    search: FormControl = new FormControl('');\r\n    sortValue: string;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'border-primary text-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    // Particulares del modulo\r\n    headers = ['', 'Origen', 'Numero', 'Fecha', 'Cliente', 'Vendedor', 'Tratamiento', 'Total', 'Acciones'];\r\n    column_params = ['seleccion', 'origen', 'numero_venta', 'fecha', 'cliente', 'vendedor', 'tratamiento', 'importe_total', 'acciones'];\r\n    FilterEventSub$: Subscription;\r\n    SearchTextSub$: Subscription;\r\n    ventas: IVtaVentaSelect[];\r\n    selectedItems: any[] = [];\r\n    public dataSource: MatTableDataSource<IVtaVentaSelect> = new MatTableDataSource();\r\n    funcionesObjeto = null;\r\n    accionesObjeto = null;\r\n    showMenu: any;\r\n    filtroBusqueda: string = '';\r\n    filtersLike = ['cliente'];\r\n    filter: IFilter = {\r\n        vendedor: -1,\r\n        cliente: -1,\r\n        tratamiento: -1,\r\n        filtroFechaInicio: '',\r\n        filtroFechaFin: ''\r\n    };\r\n    @Input() extraParams = '';\r\n    @Output() parametrosActualizados = new EventEmitter<any>();\r\n    env = environment.ventas.view_vta_venta_selects + '?sort=-fecha';\r\n    puedeCrear: boolean = false;\r\n\r\n    constructor(\r\n        private _ventaGenericasService: VentaGenericasService,\r\n        private _empresaService: EmpresaService,\r\n        private confirm: FuseConfirmationService,\r\n        private alert: AppAlertService,\r\n        private dialogo: MatDialog,\r\n        private _searchService: SearchService,\r\n        private router: Router,\r\n        public _headerTextService: HeaderTextService,\r\n        private pwaService: PwaService,\r\n        private _menuService: JedsMenuService\r\n\r\n    ) {\r\n        this._headerTextService.setTitulo(this.router);\r\n\r\n        /**\r\n         * Aca se declaran los botones que iran en la grilla sobre el apartado de acciones.\r\n         */\r\n        this.funcionesObjeto = [\r\n            {\r\n                iconoAccion: (venta: IVtaVentaSelect) => '',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => '',\r\n                visible: (venta: IVtaVentaSelect) => false,\r\n            }\r\n        ];\r\n\r\n        this.showMenu = (venta: IVtaVentaSelect) => true;\r\n\r\n        this.accionesObjeto = [\r\n            {\r\n                nombre_boton: \"Editar\",\r\n                functionName: 'editar',\r\n                iconoAccion: (venta: IVtaVentaSelect) => venta.puede_modificar === true ? 'jedstion:editar' : 'jedstion:editar_disabled',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => venta.puede_modificar === false ? 'jedstion:editar_disabled' : '',\r\n                visible: (venta: IVtaVentaSelect) => true\r\n            },\r\n            {\r\n                nombre_boton: \"Eliminar\",\r\n                functionName: 'eliminar',\r\n                iconoAccion: (venta: IVtaVentaSelect) => venta.puede_eliminar === true ? 'jedstion:eliminar' : 'jedstion:eliminar_disabled',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => venta.puede_eliminar === false ? 'jedstion:eliminar_disabled' : '',\r\n                visible: (venta: IVtaVentaSelect) => true\r\n            },\r\n            {\r\n                nombre_boton: \"Generar Orden de servicio\",\r\n                functionName: 'orden_servicio',\r\n                iconoAccion: (venta: IVtaVentaSelect) => 'jedstion:orden_de_produccion',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => '',\r\n                visible: (venta: IVtaVentaSelect) => true\r\n            },\r\n            {\r\n                nombre_boton: \"Detalle Bonificado\",\r\n                functionName: 'ventas_bonificadas_detalle',\r\n                iconoAccion: (venta: IVtaVentaSelect) => this.puedeCrear && venta.tipo_venta === 1 ? 'jedstion:informacion' : 'jedstion:informacion_disabled',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => '',\r\n                visible: (venta: IVtaVentaSelect) => true\r\n            },\r\n            {\r\n                nombre_boton: \"Estados de Ventas\",\r\n                functionName: 'estados_ventas',\r\n                iconoAccion: (venta: IVtaVentaSelect) => venta.tipo_venta === 1 ? 'jedstion:vista_lista' : 'jedstion:vista_lista_disabled',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => '',\r\n                visible: (venta: IVtaVentaSelect) => true\r\n            },\r\n        ]\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n    ngOnInit(): void {\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.SearchTextSub$ = this._searchService.getSearchText().pipe( //Se obtienen los valores que coinciden con lo ingresado en la barra de busqueda\r\n            debounceTime(750),\r\n            distinctUntilChanged()\r\n        )\r\n            .subscribe(value => {\r\n                this.filtroBusqueda = value;\r\n                this.tabla.filters(this.filtroBusqueda);\r\n            });\r\n\r\n        this.FilterEventSub$ = this._searchService.getFilterEvent().subscribe(event => {\r\n            this.onFilterMenu(this._searchService.getFilterOrigin())\r\n        });\r\n    }\r\n\r\n    saveVenta() {\r\n        this.router.navigate(['/ventas/alta']);\r\n    }\r\n\r\n    updateVenta(event) {\r\n        const id = event.params.data.idventa;\r\n        this.router.navigate(['/ventas/edicion/', id]);\r\n    }\r\n\r\n    listadoVentasBonificadas(event) {\r\n        const id = event.params.data.idventa;\r\n        this.router.navigate(['/ventas/venta-detalle/', id]);\r\n    }\r\n\r\n    /**\r\n    * Esta funcion elimina un item\r\n    * @param event \r\n    */\r\n    deleteVenta(event) {\r\n        this.confirm.open({\r\n            title: \"Eliminar Venta: \" + event.params.data.idventa,\r\n            message: `¿Desea eliminar la Venta: ${event.params.data.idventa} -  ${event.params.data.cliente}?`,\r\n            dismissible: false,\r\n            actions: {\r\n                confirm: {\r\n                    show: true,\r\n                    color: 'warn',\r\n                    label: 'Si',\r\n                },\r\n                cancel: {\r\n                    show: true,\r\n                    label: 'No',\r\n                },\r\n            },\r\n        })\r\n            .afterClosed()\r\n            .subscribe(res => {\r\n                if (res === 'confirmed') {\r\n                    this._ventaGenericasService.deleteVenta(event.params.data.idventa).subscribe({\r\n                        next: (res) => {\r\n                            // Manejar la respuesta exitosa\r\n                            this.alert.success(\"Venta eliminada con éxito.\");\r\n                            if (res) {\r\n                                this.tabla.renderTabla()\r\n                            }\r\n                        },\r\n                        error: (error) => {\r\n                            // Manejar el error\r\n                            console.error('Error en el servicio:', error);\r\n                            this.alert.warning(\"Esta Venta no puede eliminarse. Tiene elementos asociados.\");\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    estadosVentas(event) {\r\n        this.dialogo\r\n            .open(VentasEstadosComponent, { data: event.params.data, panelClass: 'my-dialog', autoFocus: false })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: () => {\r\n\r\n                },\r\n            });\r\n    }\r\n\r\n    habilitarBoton(valor: boolean) {\r\n        this.puedeCrear = valor;\r\n    }\r\n\r\n    onFilterMenu(origin: MatButton) {\r\n        this._menuService\r\n            .open(FilterMenuComponent, origin._elementRef, {\r\n                filter: this.filter,\r\n                data: this.tabla.getElementosExistentes()\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: filter => {\r\n                    if (filter) {\r\n                        this.filter = filter;\r\n                        this.extraParams = this.filter.vendedor != -1 ? \"filter[idusuario]=\" + this.filter.vendedor['codigo'] + '&' : '';\r\n                        this.extraParams += this.filter.cliente != -1 ? \"filter[idcliente]=\" + this.filter.cliente['id'] + '&' : '';\r\n                        this.extraParams += this.filter.tratamiento != -1 ? \"filter[idtratamiento]=\" + this.filter.tratamiento['idtratamiento'] + '&' : '';\r\n                        this.extraParams += this.filter.filtroFechaInicio != null ? \"filter[fecha][gte]=\" + this.filter.filtroFechaInicio + '&' : '';\r\n                        this.extraParams += this.filter.filtroFechaFin != null ? \"filter[fecha][lte]=\" + this.filter.filtroFechaFin + '&' : '';\r\n                        this.tabla.filters(this.filtroBusqueda);\r\n                    }\r\n                },\r\n            });\r\n    }\r\n\r\n    /**\r\n    * Esta es la funcion que se encarga de la columna acciones dentro de la grilla dinamica\r\n    * @param event \r\n    */\r\n    generarAcciones(event: { name: string, params: any }) {\r\n        switch (event.name) {\r\n            case 'editar':\r\n                if (event.params.data.puede_modificar === false) {\r\n                    if (event.params.data.tipo_venta === 1) {\r\n                        if (this.puedeCrear === true) {\r\n                            return this.alert.warning('No se puede editar la venta porque esta asociada a una cobranza o a una factura.');\r\n                        } else {\r\n                            return this.alert.warning('No tiene permisos para editar la venta.');\r\n                        }\r\n                    } else {\r\n                        return this.alert.warning('No se puede editar una venta del sistema anterior.');\r\n                    }\r\n                } else {\r\n                    this.updateVenta(event);\r\n                }\r\n                break;\r\n            case 'eliminar':\r\n\r\n                if (event.params.data.puede_eliminar === false) {\r\n                    if (event.params.data.tipo_venta === 1) {\r\n                        if (this.puedeCrear === true) {\r\n                            return this.alert.warning('No se puede eliminar la venta porque esta asociada a una cobranza o a una factura.');\r\n                        } else {\r\n                            return this.alert.warning('No tiene permisos para eliminar la venta.');\r\n                        }\r\n                    } else {\r\n                        return this.alert.warning('No se puede eliminar una venta del sistema anterior.');\r\n                    }\r\n                } else {\r\n                    this.deleteVenta(event);\r\n                }\r\n                break;\r\n            case 'orden_servicio':\r\n                this.reporteOrdenServicio(event);\r\n                break;\r\n            case 'ventas_bonificadas_detalle':\r\n                if (event.params.data.tipo_venta === 0) {\r\n                    return this.alert.warning('No se puede ver las ventas bonificadas del sistema anterior.');\r\n                } else if (this.puedeCrear === false && event.params.data.puede_modificar === false) {\r\n                    return this.alert.warning('No tiene permiso para ver el detalle bonificado.');\r\n                } else {\r\n                    this.listadoVentasBonificadas(event);\r\n                }\r\n                break;\r\n            case 'estados_ventas':\r\n                if (event.params.data.tipo_venta === 0) return this.alert.info('No se pueden ver los estados de venta del sistema anterior.');\r\n                this.estadosVentas(event);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Esta función es la que se encarga de la seleccion de check box de Ventas seleccionados\r\n    * @param selectedElements - La lista de Ordenes de servicio seleccionados.\r\n    */\r\n    onSelectionChange(selectedElements: any[]) {\r\n        this.selectedItems = selectedElements;\r\n    }\r\n\r\n    /**\r\n     * Esta funcion Genera un Reporte y lo muestra en una nueva pestaña\r\n     */\r\n    reporteOrdenServicio(event?) {\r\n        let payload = null;\r\n\r\n        // Si es atraves de presionar el boton de un item\r\n        if (event) {\r\n            // Selecciono el item\r\n            this.selectedItems.push(event.params.data);\r\n        }\r\n\r\n        // Si no es atraves de presionar el boton del item Y no hay elementos en el array o la longitud del array es igual a cero\r\n        if (!event && (!this.selectedItems || this.selectedItems.length === 0)) {\r\n            return this.alert.error('Debe seleccionar al menos un Item.');\r\n        } else {\r\n            // Armo el payload para llamar al servicio\r\n            payload = {\r\n                // Creo un objeto con el valor del nombre de la clave y con el valor item con esa clave\r\n                ordenes_de_servicio: this.selectedItems.map(element => {\r\n                    let clave = element.tipo_venta === 1 ? 'idventa' : 'idventagenerica';\r\n                    return { [clave]: element[`${clave}`] }\r\n                })\r\n            };\r\n\r\n            this._ventaGenericasService.reporteOrdenServicio(payload).subscribe({\r\n                next: (data) => {\r\n                    if (data.success === true) {\r\n                        const reportePath = data.path;\r\n\r\n                        if (this.pwaService.isPwa()) {\r\n                            this.router.navigate(['/reporte', reportePath]);\r\n                        } else {\r\n                            const reporteUrl = `${environment.baseRest}/${reportePath}`;\r\n                            // Abre la pestaña aquí antes de la promesa\r\n                            const newWindow = window.open('', '_blank');\r\n                            if (newWindow) {\r\n                                newWindow.location.href = reporteUrl; // Redirige la URL cuando tengas el reporte\r\n                            } else {\r\n                                console.error('No se pudo abrir la nueva pestaña.');\r\n                            }\r\n                        }\r\n\r\n                        // Limpio la seleccion para que no se acumulen...\r\n                        this.selectedItems = [];\r\n                    } else {\r\n                        console.error('Error al generar el reporte');\r\n                    }\r\n                },\r\n                error: (error) => {\r\n                    console.error('Error en la solicitud del reporte', error);\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._searchService.unsubscribe();\r\n        this.dialogo.closeAll();\r\n    }\r\n}","<div class=\"w-full flex flex-col relative \">\r\n    <div class=\"mb-12 mt-6\">\r\n        <!-- Contenedor del botón -->\r\n        <div class=\"absolute right-10 flex space-x-4\">\r\n            <button *ngIf=\"puedeCrear\" mat-flat-button (click)=\"saveVenta()\" #save [class]=\"color_primario ? '' : default_color\"\r\n                [style.border]=\"color_primario || ''\" [style.color]=\"color_primario || ''\"\r\n                class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\">\r\n                <div class=\"flex items-center\">\r\n                    <!-- SVG con fill=\"currentColor\" -->\r\n                    <svg id=\"note_plus\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path\r\n                            d=\"M15.8333 10.8333C16.4167 10.8333 16.975 10.9417 17.5 11.125V7.5L12.5 2.5H4.16667C3.24167 2.5 2.5 3.24167 2.5 4.16667V15.8333C2.5 16.7583 3.25 17.5 4.16667 17.5H11.125C10.9417 16.975 10.8333 16.4167 10.8333 15.8333C10.8333 13.075 13.075 10.8333 15.8333 10.8333ZM11.6667 3.75L16.25 8.33333H11.6667V3.75ZM19.1667 15V16.6667H16.6667V19.1667H15V16.6667H12.5V15H15V12.5H16.6667V15H19.1667Z\" />\r\n                    </svg>\r\n                    <span class=\"ml-2 text-lg mt-0.5 hidden md:inline\">Nueva Venta</span>\r\n                </div>\r\n            </button>\r\n            <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || ''\"\r\n                [style.color]=\"color_primario || ''\"\r\n                class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\"\r\n                (click)=\"reporteOrdenServicio()\">\r\n                <div class=\"flex items-center\">\r\n                    <svg width=\"22\" height=\"22\" viewBox=\"0 0 26 26\" fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <g clip-path=\"url(#clip0_535_423)\">\r\n                            <path\r\n                                d=\"M20.5568 8.68182H19.4773V3.28409H6.52274V8.68182H5.4432C3.65115 8.68182 2.20456 10.1284 2.20456 11.9205V18.3977H6.52274V22.7159H19.4773V18.3977H23.7955V11.9205C23.7955 10.1284 22.3489 8.68182 20.5568 8.68182ZM8.68183 5.44318H17.3182V8.68182H8.68183V5.44318ZM17.3182 18.3977V20.5568H8.68183V16.2386H17.3182V18.3977ZM19.4773 16.2386V14.0795H6.52274V16.2386H4.36365V11.9205C4.36365 11.3267 4.84945 10.8409 5.4432 10.8409H20.5568C21.1506 10.8409 21.6364 11.3267 21.6364 11.9205V16.2386H19.4773Z\" />\r\n                            <path\r\n                                d=\"M19.4773 13.5398C20.0735 13.5398 20.5568 13.0564 20.5568 12.4602C20.5568 11.864 20.0735 11.3807 19.4773 11.3807C18.8811 11.3807 18.3977 11.864 18.3977 12.4602C18.3977 13.0564 18.8811 13.5398 19.4773 13.5398Z\" />\r\n                        </g>\r\n                        <defs>\r\n                            <clipPath id=\"clip0_535_423\">\r\n                                <rect width=\"25.9091\" height=\"25.9091\" fill=\"currentColor\"\r\n                                    transform=\"translate(0.0454712 0.0454559)\" />\r\n                            </clipPath>\r\n                        </defs>\r\n                    </svg>\r\n                    <span class=\"ml-2 text-lg mt-0.5 hidden md:inline\">Imprimir</span>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"pr-2 pl-2\">\r\n        <!-- Tabla dinámica -->\r\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\"\r\n            (selectionChange)=\"onSelectionChange($event)\" [cache]=\"false\" [columnsNames]=\"headers\"\r\n            [renderType]=\"'client'\" [columnsParams]=\"column_params\" [endpoint]=\"env\" [functions]=\"funcionesObjeto\"\r\n            [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\r\n            (functionEmitter)=\"generarAcciones($event)\" [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\"\r\n            (puedeCrearEmitter)=\"habilitarBoton($event)\" [acciones]=\"accionesObjeto\" [showMenu]=\"showMenu\"\r\n            >\r\n        </app-tabla-dinamica>\r\n    </div>\r\n</div>","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { AuthService } from '@core/auth/auth.service';\r\nimport { dtoCalcularItem, dtoCalcularUnitario, dtoCrearVenta, dtoEditarVenta, IPostEstadoVenta, IVenta, IVentaGenericaResponse } from '../models/venta-generica';\r\nimport { environment } from 'environments/environment';\r\nimport { map, Subject } from 'rxjs';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\n\r\n@Injectable()\r\nexport class VentaGenericasService {\r\n    constructor(private http: HttpClient, private _authService: AuthService) { }\r\n\r\n    /**\r\n     * \r\n     * @param ordenes_de_servicio\r\n     * @returns \r\n     */\r\n    reporteOrdenServicio(ordenes_de_servicio: []) {\r\n        return this.http.post<IVentaGenericaResponse>(`${environment.reporte_orden_servicio}`, ordenes_de_servicio);\r\n    }\r\n\r\n    saveVenta(payload: dtoCrearVenta) {\r\n        return this.http.post<IResponse<IVenta>>(`${environment.ventas.vta_ventas}`, payload);\r\n    }\r\n\r\n    updateVenta(idventa: number, payload: dtoEditarVenta) {\r\n        return this.http.put<IVentaGenericaResponse>(`${environment.ventas.vta_ventas}` + '/' + idventa, payload);\r\n    }\r\n\r\n    deleteVenta(idventa) {\r\n        return this.http.delete<IVentaGenericaResponse>(`${environment.ventas.vta_ventas}` + '/' + idventa);\r\n    }\r\n\r\n    getDatosVenta(idventa: number) {\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.ventas.vta_venta_get_datos}` + '?idventa=' + idventa)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getClientes(option?) {\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.administracion.select_clientes}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getVendedores(option?) {\r\n        let f = '?sort=RazonSocial&filter[vendedor]=1';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.login.view_usuarios}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getArticulos(idarticulo?: number, filterLike?: string) {\r\n        let f = `?filter[activo]=1&pagination=1&per-page=10&page=1&filter[tipo]=2`;\r\n        if (idarticulo) {\r\n            f += `&filter[idarticulo]=${idarticulo}`;\r\n        } else if (filterLike) {\r\n            f += `&filter[or][0][codigo_interno][like]=${filterLike}&filter[or][1][descripcion][like]=${filterLike}`;\r\n        }\r\n\r\n        let subject = new Subject<any>();\r\n        this.http.get<any>(`${environment.stock.articulos}${f}`).pipe(\r\n            map((resp => resp))\r\n        ).subscribe((resp: any) => {\r\n            this._authService.accessToken = resp.token,\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n        });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getUnidadesDeMedidaArticulos(idarticulo) {\r\n        let f = `?filter[idarticulo]=${idarticulo}`\r\n        f += `&expand=um`\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.articulo_unidad_medidas}${f}`)\r\n            .subscribe((resp: any) => {\r\n                // this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getLocalidades() {\r\n        let subject = new Subject<any>();\r\n        this.http.get<any>(`${environment.localidades}`).pipe(\r\n            map((resp => resp))\r\n        ).subscribe((resp: any) => {\r\n            this._authService.accessToken = resp.token,\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n        });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getTratamientos() {\r\n        let subject = new Subject<any>();\r\n        this.http.get<any>(`${environment.administracion.tratamiento_token}`).pipe(\r\n            map((resp => resp))\r\n        ).subscribe((resp: any) => {\r\n            this._authService.accessToken = resp.token,\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n        });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getEstados(option?) {\r\n        let f = '?';\r\n        f += !option ? 'filter[activo]=1' : '';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.administracion.estados_ventas}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getViewEstados(idventa: number) {\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.ventas.view_vta_venta_estados}?filter[idventa]=${idventa}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next(resp)\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    saveEstadoVenta(payload: IPostEstadoVenta) {\r\n        return this.http.post<IResponse<IPostEstadoVenta>>(`${environment.ventas.vta_venta_estados}`, payload);\r\n    }\r\n\r\n    deleteEstadoVenta(idestadoventa) {\r\n        return this.http.delete<IVentaGenericaResponse>(`${environment.ventas.vta_venta_estados}` + '/' + idestadoventa);\r\n    }\r\n\r\n    calcularPrecioUnitario(payload: dtoCalcularUnitario) {\r\n        return this.http.post<any>(`${environment.ventas.vta_venta_calcular_unitario}`, payload);\r\n    }\r\n\r\n    calcularItem(payload: dtoCalcularItem) {\r\n        return this.http.post<any>(`${environment.ventas.vta_venta_calcular_item}`, payload);\r\n    }\r\n}","import { RouterModule, Routes } from '@angular/router';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatToolbarModule } from '@angular/material/toolbar'\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { FuseAlertComponent } from '@fuse/components/alert';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { TablaDinamicaModule } from '@shared/components/tabla-dinamica/tabla-dinamica.module';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { VentaGenericasService } from './service/venta-generica.service';\r\nimport { VentaGenericasComponent } from './components/venta-genericas.component';\r\nimport { AltaEdicionVentaComponent } from './components/alta-edicion/alta-edicion.component';\r\nimport { CalcularUnitarioComponent } from './components/calcular-unitario/calcular-unitario.component';\r\nimport { ClientesService } from 'app/modules/administracion/clientes/service/clientes.service';\r\nimport { SharedComponentModule } from '@shared/components/shared-component.module';\r\nimport { FilterMenuComponent } from './components/filter-menu/filter-menu.component';\r\nimport { BonificadoDetalleComponent } from './components/bonificado-detalle/bonificado-detalle.component';\r\nimport { VentasEstadosComponent } from './components/estados-ventas/estados-ventas.component';\r\nimport { FormateadorService } from '@shared/service/app/formateador.service';\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: VentaGenericasComponent\r\n    },\r\n    {\r\n        path: 'alta',\r\n        component: AltaEdicionVentaComponent\r\n    },\r\n    {\r\n        path: 'edicion/:idventa',\r\n        component: AltaEdicionVentaComponent\r\n    },\r\n    {\r\n        path: 'venta-detalle/:idventa',\r\n        component: BonificadoDetalleComponent\r\n    }\r\n];\r\n@NgModule({\r\n    declarations: [VentaGenericasComponent, AltaEdicionVentaComponent, FilterMenuComponent, CalcularUnitarioComponent, BonificadoDetalleComponent,\r\n        VentasEstadosComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        MatTableModule,\r\n        MatButtonModule,\r\n        MatSelectModule,\r\n        MatFormFieldModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        FuseAlertComponent,\r\n        MatTooltipModule,\r\n        MatAutocompleteModule,\r\n        MatToolbarModule,\r\n        MatCheckboxModule,\r\n        MatSortModule,\r\n        TablaDinamicaModule,\r\n        MatDialogModule,\r\n        MatDatepickerModule,\r\n        SharedComponentModule\r\n    ],\r\n    exports: [RouterModule],\r\n    providers: [VentaGenericasService, JedsMenuService, AppAlertService, DatePipe, ClientesService, FormateadorService]\r\n})\r\nexport class VentaGenericasModule { }"],"names":["EventEmitter","BehaviorSubject","catchError","debounceTime","distinctUntilChanged","finalize","firstValueFrom","map","of","startWith","Subject","switchMap","takeUntil","takeWhile","tap","timer","FormControl","FormGroup","Validators","TablaDinamicaComponent","MatTableDataSource","MAT_DATE_FORMATS","MY_DATE_FORMATS","CalcularUnitarioComponent","environment","SaveComponent","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r1","_alertConfig","type","showAlert","ɵɵadvance","ɵɵtextInterpolate1","message","ɵɵlistener","AltaEdicionVentaComponent_form_8_mat_option_18_Template_mat_option_click_0_listener","$event","ɵɵrestoreView","_r28","ctx_r27","ɵɵnextContext","ɵɵresetView","seleccionItem","cliente_r26","descripcion","AltaEdicionVentaComponent_form_8_button_20_Template_button_click_0_listener","_r30","ctx_r29","limpiarCasillero","AltaEdicionVentaComponent_form_8_mat_option_32_Template_mat_option_click_0_listener","_r33","ctx_r32","vendedor_r31","ɵɵtextInterpolate2","nombre","apellido","AltaEdicionVentaComponent_form_8_button_34_Template_button_click_0_listener","_r35","ctx_r34","AltaEdicionVentaComponent_form_8_form_35_button_6_Template_button_click_0_listener","_r48","ctx_r47","AltaEdicionVentaComponent_form_8_form_35_button_11_Template_button_click_0_listener","_r50","ctx_r49","AltaEdicionVentaComponent_form_8_form_35_mat_option_19_Template_mat_option_click_0_listener","_r53","ctx_r52","localidad_r51","AltaEdicionVentaComponent_form_8_form_35_button_21_Template_button_click_0_listener","_r55","ctx_r54","AltaEdicionVentaComponent_form_8_form_35_mat_option_30_Template_mat_option_click_0_listener","_r58","ctx_r57","tratamiento_r56","AltaEdicionVentaComponent_form_8_form_35_button_32_Template_button_click_0_listener","_r60","ctx_r59","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_5_listener","_r62","ctx_r61","ɵɵtemplate","AltaEdicionVentaComponent_form_8_form_35_button_6_Template","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_10_listener","ctx_r63","AltaEdicionVentaComponent_form_8_form_35_button_11_Template","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_15_listener","ctx_r64","AltaEdicionVentaComponent_form_8_form_35_button_16_Template","AltaEdicionVentaComponent_form_8_form_35_mat_option_19_Template","AltaEdicionVentaComponent_form_8_form_35_button_21_Template","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_26_listener","ctx_r65","AltaEdicionVentaComponent_form_8_form_35_button_27_Template","AltaEdicionVentaComponent_form_8_form_35_mat_option_30_Template","AltaEdicionVentaComponent_form_8_form_35_button_32_Template","ctx_r13","form_obra","get","value","_r39","getTextGenerico","ɵɵpipeBind1","filteredLocalidades","_r43","filteredTratamientos","_r46","maxDate","AltaEdicionVentaComponent_form_8_small_43_Template_small_click_0_listener","_r67","_r14","ɵɵreference","click","ɵɵtextInterpolate","imagen_r69","path","ctx_r70","getFileSize","size","ɵɵpropertyInterpolate","ctx_r71","urlBase","ɵɵsanitizeUrl","getFileNameFromUrl","ɵɵelementContainerStart","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_span_2_Template","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_a_3_Template","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_Template_button_click_4_listener","restoredCtx","_r75","$implicit","ctx_r74","removeFile","ɵɵelementContainerEnd","ɵɵclassMap","ctx_r68","color_primario","default_color","ɵɵstyleProp","idventaadjunto","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_Template","ctx_r16","adjuntos","articulo_r76","codigo_interno","AltaEdicionVentaComponent_form_8_button_56_Template_button_click_0_listener","_r78","ctx_r77","um_r79","factor_um","um_base","AltaEdicionVentaComponent_form_8_mat_option_61_i_2_Template","idarticulounidadmedida","descripcion_um","AltaEdicionVentaComponent_form_8_button_66_Template_button_click_0_listener","_r83","ctx_r82","AltaEdicionVentaComponent_form_8_button_77_Template_button_click_0_listener","_r85","ctx_r84","AltaEdicionVentaComponent_form_8_button_90_Template_button_click_0_listener","_r87","ctx_r86","ctx_r88","item_r118","ctx_r91","item_r119","ctx_r94","item_r120","cantidad","ctx_r97","item_r121","importe_unitario","ctx_r100","item_r122","importe_bonificado","porcentaje_bonificado","ctx_r102","totales","ctx_r103","item_r123","importe_no_bonificado","ctx_r105","ctx_r106","item_r124","importe_iva","ctx_r108","ctx_r109","item_r125","importe_subtotal","ctx_r111","ctx_r112","AltaEdicionVentaComponent_form_8_table_102_td_35_Template_button_click_1_listener","_r129","movimiento_r126","ctx_r128","deleteMovimiento","AltaEdicionVentaComponent_form_8_table_102_th_2_Template","AltaEdicionVentaComponent_form_8_table_102_td_3_Template","AltaEdicionVentaComponent_form_8_table_102_td_4_Template","AltaEdicionVentaComponent_form_8_table_102_th_6_Template","AltaEdicionVentaComponent_form_8_table_102_td_7_Template","AltaEdicionVentaComponent_form_8_table_102_td_8_Template","AltaEdicionVentaComponent_form_8_table_102_th_10_Template","AltaEdicionVentaComponent_form_8_table_102_td_11_Template","AltaEdicionVentaComponent_form_8_table_102_td_12_Template","AltaEdicionVentaComponent_form_8_table_102_th_14_Template","AltaEdicionVentaComponent_form_8_table_102_td_15_Template","AltaEdicionVentaComponent_form_8_table_102_td_16_Template","AltaEdicionVentaComponent_form_8_table_102_th_18_Template","AltaEdicionVentaComponent_form_8_table_102_td_19_Template","AltaEdicionVentaComponent_form_8_table_102_td_20_Template","AltaEdicionVentaComponent_form_8_table_102_th_22_Template","AltaEdicionVentaComponent_form_8_table_102_td_23_Template","AltaEdicionVentaComponent_form_8_table_102_td_24_Template","AltaEdicionVentaComponent_form_8_table_102_th_26_Template","AltaEdicionVentaComponent_form_8_table_102_td_27_Template","AltaEdicionVentaComponent_form_8_table_102_td_28_Template","AltaEdicionVentaComponent_form_8_table_102_th_30_Template","AltaEdicionVentaComponent_form_8_table_102_td_31_Template","AltaEdicionVentaComponent_form_8_table_102_td_32_Template","AltaEdicionVentaComponent_form_8_table_102_th_34_Template","AltaEdicionVentaComponent_form_8_table_102_td_35_Template","AltaEdicionVentaComponent_form_8_table_102_td_36_Template","AltaEdicionVentaComponent_form_8_table_102_tr_37_Template","AltaEdicionVentaComponent_form_8_table_102_tr_38_Template","AltaEdicionVentaComponent_form_8_table_102_tr_39_Template","ctx_r24","dataSource","columns","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_14_listener","_r132","ctx_r131","AltaEdicionVentaComponent_form_8_button_15_Template","AltaEdicionVentaComponent_form_8_mat_option_18_Template","AltaEdicionVentaComponent_form_8_button_20_Template","AltaEdicionVentaComponent_form_8_Template_button_click_22_listener","ctx_r133","cargarNuevoCliente","ɵɵnamespaceSVG","ɵɵnamespaceHTML","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_28_listener","ctx_r134","AltaEdicionVentaComponent_form_8_button_29_Template","AltaEdicionVentaComponent_form_8_mat_option_32_Template","AltaEdicionVentaComponent_form_8_button_34_Template","AltaEdicionVentaComponent_form_8_form_35_Template","AltaEdicionVentaComponent_form_8_Template_button_click_38_listener","AltaEdicionVentaComponent_form_8_Template_input_change_41_listener","ctx_r136","setImagen","AltaEdicionVentaComponent_form_8_small_43_Template","AltaEdicionVentaComponent_form_8_div_44_Template","AltaEdicionVentaComponent_form_8_Template_input_ngModelChange_51_listener","ctx_r137","AltaEdicionVentaComponent_form_8_mat_option_54_Template","AltaEdicionVentaComponent_form_8_button_56_Template","AltaEdicionVentaComponent_form_8_Template_mat_select_ngModelChange_60_listener","ctx_r138","um","AltaEdicionVentaComponent_form_8_mat_option_61_Template","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_65_listener","ctx_r139","AltaEdicionVentaComponent_form_8_button_66_Template","AltaEdicionVentaComponent_form_8_Template_mat_form_field_keydown_enter_67_listener","ctx_r140","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_76_listener","ctx_r141","AltaEdicionVentaComponent_form_8_button_77_Template","AltaEdicionVentaComponent_form_8_Template_button_click_81_listener","ctx_r142","calcularPrecioUnitario","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_89_listener","ctx_r143","onCargar","AltaEdicionVentaComponent_form_8_button_90_Template","AltaEdicionVentaComponent_form_8_Template_button_click_92_listener","ctx_r144","AltaEdicionVentaComponent_form_8_Template_input_keyup_97_listener","ctx_r145","applyFilter","target","AltaEdicionVentaComponent_form_8_table_102_Template","AltaEdicionVentaComponent_form_8_div_103_Template","AltaEdicionVentaComponent_form_8_Template_mat_form_field_keydown_enter_106_listener","ctx_r146","ctx_r2","form","_r4","minDate","_r6","filteredClientes","_r10","filteredVendedores","configura_obra","validExtension","length","form_carga_articulos","_r17","getTextArticulo","tmp_26_0","filteredArticulos$","undefined","ɵɵpureFunction0","_c0","unidades_de_medida","data","AltaEdicionVentaComponent_div_9_Template_button_click_1_listener","_r148","ctx_r147","onSubmit","ctx_r3","AltaEdicionVentaComponent","constructor","_empresaService","_ventaGenericasService","_headerTextService","alert","dialogo","datePipe","dialogRef","router","route","_unsubscribeAll","maxPalabras","deposito_default","mostrarSpinner","mostrar_mensaje","creadoExitosamente","editadoExitosamente","articulos_list","lista_de_articulos","funcionesObjeto","extraParams","importe_desuento","filtroBusqueda","filter","tipo","rubro","selectedFiles","adjunto","selectedOption","esEdicion","snapshot","paramMap","idventa","Number","baseRest","titulo","custom_title","setCustomTitle","user","JSON","parse","localStorage","getItem","empresa$","pipe","subscribe","empresa","color_secundario","Date","subscribeAlert","emitConfig","next","config","appearance","time","ngOnInit","getEmpresa","newForm","loadServices","valueChanges","idarticulo","filterLike","getArticulos","list","response","fecha","transform","required","cliente","maxLength","vendedor","porcentaje_descuento_efectivo","total_venta","disabled","descripcion_obra","direccion_obra","localidad","tratamiento","colocacion","acarreo","retiro_fabrica","fecha_entrega","articulo","unidadmedida","detalle","min","updateFormValidators","volverPaginaAnterior","navigate","ngOnDestroy","cambio_de_foco","redirect_control","enable","getUnidadesDeMedidaArticulos","setTimeout","cantidadField","document","querySelector","focus","KeyboardEvent","preventDefault","input","setValue","disable","key","warning","valid","error","existe_articulo_en_grilla","find","item","precio_unitario","addMovimiento","reset","articuloField","base64","importe_total","fecha_venta_formateada","fecha_entrega_formateada","obra","direccion","idlocalidad","parseInt","idtratamiento","payload","venta","idcliente","id","idusuario","codigo","toString","porcentaje_descuento","importe_descuento","items","updateVenta","emit","saveVenta","articuloSeleccionado","open","panelClass","afterClosed","result","success","console","getClientes","_this","_asyncToGenerator","ItemVenta","calcularItem","item_venta","updateTotal","_this2","Promise","all","getVendedores","getLocalidades","resolve","getTratamientos","getDatosVenta","then","_this3","Venta","_ref","patchValue","descripcion_cliente","descripcion_usuario","total","descripcion_localidad","descripcion_tratamiento","_x","apply","arguments","option","_this4","Clientes","_ref2","clientes","_filterSelect","_x2","_this5","Localidades","_ref3","localidades","_x3","_this6","Tratamientos","_ref4","tratamientos","_x4","_this7","Vendedores","_ref5","vendedores","_filterVendodres","_x5","_this8","articulos","_filterArticulos","filtered","_this9","unidadesDeMedida","_ref6","sort","a","b","factor","unidad","parseFloat","idunidadmedida","_x6","filterValue","toLowerCase","includes","model","RazonSocial","razonSocial","nick","setValidators","clearValidators","updateValueAndValidity","reduce","sum","subtotal","toFixed","emitEvent","updateDescuento","calcularDescuento","nuevoTotal","descuento","trim","onBlurInput","valor","tipo_imagen","imagen_data","files","Math","round","nombre_archivo","name","extension_archivo","split","pop","getBase64","imagen_en_base_64","info","extension","file","reject","reader","FileReader","readAsDataURL","onload","onerror","url","parts","fileName","bytes","kilobytes","megabytes","getFileTitle","ɵɵdirectiveInject","i1","EmpresaService","i2","VentaGenericasService","i3","HeaderTextService","i4","AppAlertService","i5","MatDialog","i6","DatePipe","MatDialogRef","i7","Router","ActivatedRoute","selectors","viewQuery","AltaEdicionVentaComponent_Query","rf","ctx","provide","useValue","decls","vars","consts","template","AltaEdicionVentaComponent_Template","AltaEdicionVentaComponent_Template_button_click_2_listener","AltaEdicionVentaComponent_spinner_component_6_Template","AltaEdicionVentaComponent_fuse_alert_7_Template","AltaEdicionVentaComponent_form_8_Template","AltaEdicionVentaComponent_div_9_Template","BonificadoDetalleComponent","_searchService","_menuService","venta_bonificadas","headers","column_params","filtersLike","env","ventas","view_vta_venta_bonificado_detalles","search","SearchTextSub$","getSearchText","tabla","filters","unsubscribe","SearchService","JedsMenuService","BonificadoDetalleComponent_Query","BonificadoDetalleComponent_Template_button_click_2_listener","MAT_DIALOG_DATA","ctx_r0","title","bruto","onCloseMenu","close","outputs","CalcularUnitarioComponent_Template","CalcularUnitarioComponent_Template_button_click_5_listener","CalcularUnitarioComponent_fuse_alert_8_Template","CalcularUnitarioComponent_Template_input_keydown_enter_17_listener","CalcularUnitarioComponent_Template_button_click_19_listener","estado_r7","VentasEstadosComponent_form_14_button_18_Template_button_click_0_listener","_r9","ctx_r8","VentasEstadosComponent_form_14_mat_option_16_Template","VentasEstadosComponent_form_14_button_18_Template","VentasEstadosComponent_form_14_Template_button_click_24_listener","_r11","ctx_r10","_r3","getTextEstado","filteredEstado","ctx_r12","formateador","formatDate","estado_venta_r23","ctx_r14","estado_venta_r24","descripcion_estado","estado_venta_r25","observaciones","ctx_r18","VentasEstadosComponent_div_15_td_17_button_1_Template_button_click_0_listener","_r31","estado_venta_r26","deleteEstadoVenta","VentasEstadosComponent_div_15_td_17_button_1_Template","puede_eliminar","VentasEstadosComponent_div_15_th_7_Template","VentasEstadosComponent_div_15_td_8_Template","VentasEstadosComponent_div_15_th_10_Template","VentasEstadosComponent_div_15_td_11_Template","VentasEstadosComponent_div_15_th_13_Template","VentasEstadosComponent_div_15_td_14_Template","VentasEstadosComponent_div_15_th_16_Template","VentasEstadosComponent_div_15_td_17_Template","VentasEstadosComponent_div_15_tr_18_Template","VentasEstadosComponent_div_15_tr_19_Template","VentasEstadosComponent_div_15_div_20_Template","VentasEstadosComponent","_ventaGenericaService","confirm","estados","getEstados","getViewEstados","estado","markAllAsTouched","fecha_formateada","idestado","saveEstadoVenta","resp","mensaje","resetFormFields","view_estados","mostrar_tabla","puede_crear","Estados","_filterTextGenerico","deposito","array","param","res","fieldsToReset","Object","keys","controls","forEach","setErrors","markAsUntouched","markAsPristine","estado_venta","idestadoventa","dismissible","actions","show","color","label","cancel","FuseConfirmationService","FormateadorService","features","ɵɵProvidersFeature","VentasEstadosComponent_Template","VentasEstadosComponent_Template_button_click_5_listener","VentasEstadosComponent_fuse_alert_8_Template","VentasEstadosComponent_form_14_Template","VentasEstadosComponent_div_15_Template","ɵɵpureFunction1","fuseAnimations","_r1","FilterMenuComponent_button_21_Template_button_click_0_listener","ctx_r9","FilterMenuComponent_mat_form_field_23_button_2_Template_button_click_0_listener","_r15","cliente_r16","FilterMenuComponent_mat_form_field_23_button_2_Template","FilterMenuComponent_mat_form_field_23_mat_option_8_Template","_r12","ctx_r4","formFilters","FilterMenuComponent_mat_form_field_25_button_2_Template_button_click_0_listener","_r21","ctx_r20","vendedor_r22","FilterMenuComponent_mat_form_field_25_button_2_Template","FilterMenuComponent_mat_form_field_25_mat_option_8_Template","_r18","ctx_r6","FilterMenuComponent_mat_form_field_27_button_2_Template_button_click_0_listener","_r27","ctx_r26","tratamiento_r28","FilterMenuComponent_mat_form_field_27_button_2_Template","FilterMenuComponent_mat_form_field_27_mat_option_8_Template","_r24","FilterMenuComponent","menuService","proveedores","filtroFechaInicio","filtroFechaFin","complete","getTratamiento","resetFilters","FilterMenuComponent_Template","FilterMenuComponent_Template_button_click_5_listener","FilterMenuComponent_Template_button_click_8_listener","FilterMenuComponent_mat_datepicker_toggle_18_Template","FilterMenuComponent_button_21_Template","FilterMenuComponent_span_22_Template","FilterMenuComponent_mat_form_field_23_Template","FilterMenuComponent_span_24_Template","FilterMenuComponent_mat_form_field_25_Template","FilterMenuComponent_span_26_Template","FilterMenuComponent_mat_form_field_27_Template","FilterMenuComponent_Template_button_click_29_listener","FilterMenuComponent_Template_button_click_32_listener","getRawValue","VentaGenericasComponent_button_3_Template_button_click_0_listener","VentaGenericasComponent","pwaService","selectedItems","accionesObjeto","parametrosActualizados","view_vta_venta_selects","puedeCrear","setTitulo","iconoAccion","iconoAccionado","iconoDeshabilitado","visible","showMenu","nombre_boton","functionName","puede_modificar","tipo_venta","FilterEventSub$","getFilterEvent","event","onFilterMenu","getFilterOrigin","params","listadoVentasBonificadas","deleteVenta","renderTabla","estadosVentas","autoFocus","habilitarBoton","origin","_elementRef","getElementosExistentes","generarAcciones","reporteOrdenServicio","onSelectionChange","selectedElements","push","ordenes_de_servicio","element","clave","reportePath","isPwa","reporteUrl","newWindow","window","location","href","closeAll","i8","i9","PwaService","i10","VentaGenericasComponent_Query","VentaGenericasComponent_button_3_Template","VentaGenericasComponent_Template_button_click_4_listener","VentaGenericasComponent_Template_app_tabla_dinamica_selectionChange_16_listener","VentaGenericasComponent_Template_app_tabla_dinamica_functionEmitter_16_listener","VentaGenericasComponent_Template_app_tabla_dinamica_puedeCrearEmitter_16_listener","http","_authService","post","reporte_orden_servicio","vta_ventas","put","delete","subject","vta_venta_get_datos","accessToken","token","asObservable","administracion","select_clientes","f","login","view_usuarios","stock","articulo_unidad_medidas","tratamiento_token","estados_ventas","view_vta_venta_estados","vta_venta_estados","vta_venta_calcular_unitario","vta_venta_calcular_item","ɵɵinject","HttpClient","AuthService","factory","ɵfac","RouterModule","CommonModule","MatToolbarModule","MatTableModule","MatButtonModule","MatSelectModule","MatFormFieldModule","ReactiveFormsModule","MatInputModule","FuseAlertComponent","MatIconModule","MatTooltipModule","MatAutocompleteModule","MatCheckboxModule","MatSortModule","TablaDinamicaModule","MatDialogModule","MatDatepickerModule","ClientesService","SharedComponentModule","routes","component","VentaGenericasModule","imports","forChild","declarations","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}