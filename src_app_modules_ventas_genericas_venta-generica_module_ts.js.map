{"version":3,"file":"src_app_modules_ventas_genericas_venta-generica_module_ts.js","mappings":"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","sources":["./src/app/modules/ventas/genericas/components/alta-edicion/alta-edicion.component.ts","./src/app/modules/ventas/genericas/components/alta-edicion/alta-edicion.component.html","./src/app/modules/ventas/genericas/components/bonificado-detalle/bonificado-detalle.component.ts","./src/app/modules/ventas/genericas/components/bonificado-detalle/bonificado-detalle.component.html","./src/app/modules/ventas/genericas/components/calcular-unitario/calcular-unitario.component.ts","./src/app/modules/ventas/genericas/components/calcular-unitario/calcular-unitario.component.html","./src/app/modules/ventas/genericas/components/filter-menu/filter-menu.component.ts","./src/app/modules/ventas/genericas/components/filter-menu/filter-menu.component.html","./src/app/modules/ventas/genericas/components/venta-genericas.component.ts","./src/app/modules/ventas/genericas/components/venta-genericas.component.html","./src/app/modules/ventas/genericas/service/venta-generica.service.ts","./src/app/modules/ventas/genericas/venta-generica.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { debounceTime, distinctUntilChanged, finalize, firstValueFrom, map, Observable, startWith, Subject, Subscription, switchMap, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { IArticulo } from 'app/modules/stock/articulos/models/articulo';\r\nimport { VentaGenericasService } from '../../service/venta-generica.service';\r\nimport { MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MY_DATE_FORMATS } from '@shared/constants/date-format';\r\nimport { ICliente } from 'app/modules/administracion/clientes/models/cliente';\r\nimport { IUsuario } from '@core/user/user.types';\r\nimport { ISelectResponse } from '@shared/models/select-response';\r\nimport { IImagenAdjunto } from '@shared/models/imagen-adjunto';\r\nimport { CalcularUnitarioComponent } from '../calcular-unitario/calcular-unitario.component';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\nimport { dtoCalcularItem, dtoCrearVenta, dtoEditarVenta, IItemVenta, IObra, IVenta } from '../../models/venta-generica';\r\nimport { environment } from 'environments/environment';\r\nimport { SaveComponent } from 'app/modules/administracion/clientes/components/save/save.component';\r\n\r\n@Component({\r\n    selector: 'app-alta-edicion-venta',\r\n    templateUrl: './alta-edicion.component.html',\r\n    styleUrls: ['./alta-edicion.component.scss'],\r\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }]\r\n\r\n})\r\nexport class AltaEdicionVentaComponent implements OnInit, OnDestroy {\r\n    // Necesarios para la app\r\n    title: string;\r\n    user: any;\r\n    public dataSource: MatTableDataSource<any> = new MatTableDataSource();\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    configura_obra: boolean;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    maxPalabras: number = 150;\r\n    minDate: Date;\r\n    maxDate: Date;\r\n    deposito_default = 0;\r\n    mostrarSpinner = true;\r\n    mostrar_mensaje: boolean = false;\r\n\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n    // Particulares del modulo\r\n    data: any;\r\n    venta: IVenta;\r\n    obra: IObra;\r\n    form: FormGroup;\r\n    form_obra: FormGroup;\r\n    form_carga_articulos: FormGroup;\r\n    articulos: IArticulo[];\r\n    articulos_list = [];\r\n    clientes: ICliente[];\r\n    vendedores: IUsuario[];\r\n    localidades: ISelectResponse[];\r\n    tratamientos: ISelectResponse[];\r\n    unidades_de_medida: any[] = [];\r\n    lista_de_articulos: any[] = [];\r\n    filteredVendedores: Observable<IUsuario[]>;\r\n    filteredArticulos: Observable<IArticulo[]>;\r\n    filteredClientes: Observable<ISelectResponse[]>;\r\n    filteredLocalidades: Observable<ISelectResponse[]>;\r\n    filteredTratamientos: Observable<ISelectResponse[]>;\r\n    columns = ['articulo', 'unidadmedida', 'cantidad', 'importe_unitario', 'importe_bonificado', 'importe_no_bonificado', 'importe_iva', 'importe_subtotal', 'acciones'];\r\n    funcionesObjeto = null;\r\n    @Input() extraParams = '';\r\n\r\n    totales = {\r\n        importe_iva: 0,\r\n        importe_bonificado: 0,\r\n        importe_no_bonificado: 0,\r\n        importe_subtotal: 0,\r\n    };\r\n\r\n    importe_desuento: number = 0;\r\n\r\n    SearchTextSub$: Subscription;\r\n    FilterEventSub$: Subscription;\r\n    filtroBusqueda: string = '';\r\n    filter: IFilter = {\r\n        tipo: -1,\r\n        rubro: -1\r\n    };\r\n\r\n    titleImagen: boolean;\r\n    protected fileAdjuntoImagen: any;\r\n    protected validExtension = [\r\n        '.jpg',\r\n        '.png',\r\n        '.pdf'\r\n    ];\r\n    selectedFiles: File[] = [];\r\n    imagen: string;\r\n    adjunto: IImagenAdjunto | null = null;\r\n    adjuntos = [];\r\n    selectedOption: string = '';\r\n\r\n    esEdicion = this.route.snapshot.paramMap.get('idventa') ? true : false;\r\n    idventa = Number(this.route.snapshot.paramMap.get('idventa')) ?? null;\r\n\r\n    urlBase = `${environment.baseRest}/`;\r\n\r\n    constructor(\r\n        private _empresaService: EmpresaService,\r\n        private _ventaGenericasService: VentaGenericasService,\r\n        public _headerTextService: HeaderTextService,\r\n        public alert: AppAlertService,\r\n        public dialogo: MatDialog,\r\n        private datePipe: DatePipe,\r\n        public dialogRef: MatDialogRef<AltaEdicionVentaComponent>,\r\n        private router: Router,\r\n        private route: ActivatedRoute\r\n    ) {\r\n        let titulo = this.esEdicion ? { custom_title: true, titulo: `Edición de Venta Genérica ${this.idventa}` } : { custom_title: true, titulo: 'Alta de Venta Genérica' }\r\n        this._headerTextService.setCustomTitle(titulo);\r\n\r\n        this.user = JSON.parse(localStorage.getItem('user'))\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n                this.configura_obra = empresa.configura_obra === 1 ? true : false;\r\n            });\r\n\r\n        // Se define minDate como null o cualquier otra fecha límite que desees permitir hacia atras\r\n        this.minDate = null;\r\n        // Define maxDate como el dia de hoy\r\n        this.maxDate = new Date();\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.loadServices();\r\n\r\n        // Escuchamos los cambios en el control de 'articulo' para filtrar mientras escribe\r\n        this.form_carga_articulos.get('articulo').valueChanges.pipe(\r\n            debounceTime(300),  // Evita demasiadas llamadas consecutivas\r\n            distinctUntilChanged(), // Solo procede si el valor cambia\r\n            switchMap((value) => {\r\n                const idarticulo = typeof value === 'object' ? value.idarticulo : null;\r\n                const filterLike = typeof value === 'string' ? value : null;\r\n                return this._ventaGenericasService.getArticulos(idarticulo, filterLike);\r\n            })\r\n        ).subscribe(response => {\r\n            this.filteredArticulos = response.list;\r\n        });\r\n\r\n        // Escuchamos los cambios del porcentaje de descuento efectivo\r\n        this.form.get('porcentaje_descuento_efectivo').valueChanges.subscribe((porcentaje_descuento_efectivo) => {\r\n            this.updateDescuento(porcentaje_descuento_efectivo);\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n\r\n        this.form = new FormGroup({\r\n            fecha: new FormControl((this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n            cliente: new FormControl((''), [Validators.maxLength(this.maxPalabras)]),\r\n            vendedor: new FormControl(('')),\r\n            porcentaje_descuento_efectivo: new FormControl(('')),\r\n            total_venta: new FormControl({ value: '', disabled: true },),\r\n        });\r\n\r\n        if (this.configura_obra) {\r\n            this.form_obra = new FormGroup({\r\n                descripcion_obra: new FormControl((''), Validators.required),\r\n                direccion_obra: new FormControl((''), Validators.required),\r\n                localidad: new FormControl('', Validators.required),\r\n                tratamiento: new FormControl('', Validators.required),\r\n                colocacion: new FormControl(false, Validators.required),\r\n                acarreo: new FormControl(false, Validators.required),\r\n                retiro_fabrica: new FormControl(false, Validators.required),\r\n                fecha_entrega: new FormControl((this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n                // fecha_medicion: new FormControl((this.datePipe.transform(new Date(), 'yyyy-MM-dd')), [Validators.required]),\r\n            });\r\n        }\r\n\r\n        this.form_carga_articulos = new FormGroup({\r\n            articulo: new FormControl((''), Validators.required),\r\n            unidadmedida: new FormControl((''), Validators.required),\r\n            detalle: new FormControl(('')),\r\n            importe_unitario: new FormControl((''), Validators.required),\r\n            cantidad: new FormControl((''), [Validators.required, Validators.min(1)]),\r\n            porcentaje_bonificado: new FormControl((''), Validators.required),\r\n        });\r\n\r\n        this.updateFormValidators();\r\n    }\r\n\r\n    volverPaginaAnterior() {\r\n        this.router.navigate(['/ventas']);\r\n    }\r\n\r\n    // Este método es llamado cuando el componente es destruido\r\n    ngOnDestroy(): void {\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param $event \r\n     * @param cambio_de_foco \r\n     * @param redirect_control \r\n     */\r\n    seleccionItem($event, cambio_de_foco?: boolean, redirect_control?: string) {\r\n\r\n        if ($event.idarticulo) {\r\n            this.form_carga_articulos.get('unidadmedida').enable()\r\n            this.getUnidadesDeMedidaArticulos($event.idarticulo);\r\n\r\n            // Muevo el foco al campo \"cantidad\" luego de un pequeño retraso.\r\n            // Lo encapsulo dentro de `setTimeout` porque espero a que el DOM renderice el input \"cantidad\".\r\n            setTimeout(() => {\r\n                const cantidadField = document.querySelector('[formControlName=\"detalle\"]') as HTMLInputElement;\r\n                cantidadField?.focus();\r\n            }, 1);\r\n        }\r\n\r\n        if ($event && cambio_de_foco === true && redirect_control) {\r\n            // Si es un evento de teclado, evita que se propague\r\n            if ($event instanceof KeyboardEvent) $event.preventDefault();\r\n\r\n            // Muevo el foco al campo \"cantidad\" luego de un pequeño retraso.\r\n            // Lo encapsulo dentro de `setTimeout` porque espero a que el DOM renderice el input \"cantidad\".\r\n            setTimeout(() => {\r\n                const cantidadField = document.querySelector(`[formControlName=${redirect_control}]`) as HTMLInputElement;\r\n                cantidadField?.focus();\r\n            }, 1)\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Funcion para limpiar campos\r\n    */\r\n    limpiarCasillero(input) {\r\n        if (input != 'carga_exitosa') {\r\n            if (this.form.get(input)) {\r\n                this.form.get(input).setValue('');\r\n            } else if (this.form_carga_articulos.get(input)) {\r\n                this.form_carga_articulos.get(input).setValue('');\r\n            } else {\r\n                this.form_obra.get(input).setValue('');\r\n            }\r\n            this.seleccionItem(input, false, 'reset');\r\n        }\r\n\r\n        if (input === 'articulo') {\r\n            this.form_carga_articulos.get('unidadmedida').disable();\r\n            this.form_carga_articulos.get('unidadmedida').setValue('');\r\n            this.form_carga_articulos.get('articulo').setValue('');\r\n            this.form_carga_articulos.get('cantidad').setValue('');\r\n        }\r\n\r\n        if (input === 'carga_exitosa') {\r\n            this.form_carga_articulos.get('articulo').setValue('');\r\n            this.form_carga_articulos.get('unidadmedida').setValue('');\r\n            this.form_carga_articulos.get('cantidad').setValue('');\r\n            this.form_carga_articulos.get('detalle').setValue('');\r\n            this.form_carga_articulos.get('importe_unitario').setValue('');\r\n            this.form_carga_articulos.get('porcentaje_bonificado').setValue('');\r\n        }\r\n    }\r\n\r\n    onCargar($event?: KeyboardEvent) {\r\n        if ($event?.key === 'Enter') {\r\n            $event.preventDefault();\r\n        }\r\n\r\n        if (!this.form_carga_articulos.get('unidadmedida').value || !this.form_carga_articulos.get('articulo').value || !this.form_carga_articulos.get('cantidad').value || !this.form_carga_articulos.get('importe_unitario').value || !this.form_carga_articulos.get('porcentaje_bonificado').value) {\r\n            return this.alert.warning('Por favor, complete todos los campos de la carga de articulo');\r\n        }\r\n\r\n        if (this.form_carga_articulos.get('cantidad').value <= 0) {\r\n            return this.alert.warning('Por favor, Ingrese una cantidad mayor a cero');\r\n        }\r\n\r\n        if (this.form_carga_articulos.get('importe_unitario').value <= 0) {\r\n            return this.alert.warning('Por favor, Ingrese una precio unitario mayor a cero');\r\n        }\r\n\r\n        if (this.form_carga_articulos.get('porcentaje_bonificado').value < 0 || this.form_carga_articulos.get('porcentaje_bonificado').value > 100) {\r\n            return this.alert.warning('Por favor, Ingrese un porcentaje de bonificación entre cero y cien');\r\n        }\r\n\r\n        if (!this.form_carga_articulos.valid) {\r\n            return this.alert.error('Debe ingresar un Artículo');\r\n        } else {\r\n            let existe_articulo_en_grilla = this.lista_de_articulos.find((item: IItemVenta) => item.idarticulo === this.form_carga_articulos.get('articulo').value.idarticulo && item.idarticulounidadmedida === this.form_carga_articulos.get('unidadmedida').value);\r\n            if (existe_articulo_en_grilla) {\r\n                this.form_carga_articulos.get('unidadmedida').setValue('');\r\n                return this.alert.warning('Ya existe un movimiento de ese articulo con esa unidad de medida.')\r\n            }\r\n\r\n            let articulo: dtoCalcularItem = {\r\n                idarticulo: this.form_carga_articulos.get('articulo').value.idarticulo,\r\n                detalle: this.form_carga_articulos.get('detalle').value,\r\n                cantidad: this.form_carga_articulos.get('cantidad').value,\r\n                precio_unitario: this.form_carga_articulos.get('importe_unitario').value,\r\n                porcentaje_bonificado: this.form_carga_articulos.get('porcentaje_bonificado').value,\r\n                idarticulounidadmedida: this.form_carga_articulos.get('unidadmedida').value,\r\n            }\r\n\r\n            this.addMovimiento(articulo)\r\n        }\r\n\r\n        // Mueve el foco al campo \"articulo\" después de la carga\r\n        this.form_carga_articulos.get('articulo').reset({ value: '' });\r\n        const articuloField = document.querySelector('[formControlName=\"articulo\"]') as HTMLInputElement;\r\n        articuloField?.focus();\r\n    }\r\n\r\n    onSubmit() {\r\n\r\n        // Se especifica el tipo de base 64\r\n        this.adjuntos = this.adjuntos.map((adjunto: IImagenAdjunto) => {\r\n            return { idventaadjunto: adjunto.idventaadjunto ?? null, path: !adjunto.idventaadjunto ? `data:application/pdf;base64,${adjunto.base64}` : adjunto.path };\r\n        });\r\n\r\n        // Se formatea la lista de articulos para que coincida con el formato deseado agregando \"importe_total\" y eliminando \"importe_subtotal\"\r\n        this.lista_de_articulos = this.lista_de_articulos.map((item: IItemVenta) => {\r\n            item.importe_total = item.importe_subtotal;\r\n            delete item.importe_subtotal;\r\n            return item;\r\n\r\n        });\r\n\r\n        // Se formatea la fecha nuevamente al formato deseado (YYYY-MM-DD)\r\n        const fecha_venta_formateada = this.datePipe.transform(this.form.get('fecha').value, 'yyyy-MM-dd');\r\n\r\n        if (this.configura_obra) {\r\n            // const fecha_medicion_formateada = this.datePipe.transform(this.form_obra.get('fecha_medicion').value, 'yyyy-MM-dd');\r\n            const fecha_entrega_formateada = this.datePipe.transform(this.form_obra.get('fecha_entrega').value, 'yyyy-MM-dd');\r\n\r\n            var obra = {\r\n                descripcion: this.form_obra.get('descripcion_obra').value,\r\n                direccion: this.form_obra.get('direccion_obra').value,\r\n                idlocalidad: parseInt(this.form_obra.get('localidad').value.idlocalidad),\r\n                idtratamiento: parseInt(this.form_obra.get('tratamiento').value.id),\r\n                // fecha_medicion: fecha_medicion_formateada,\r\n                fecha_entrega: fecha_entrega_formateada,\r\n                colocacion: this.form_obra.get('colocacion').value ? 1 : 0,\r\n                acarreo: this.form_obra.get('acarreo').value ? 1 : 0,\r\n                retiro_fabrica: this.form_obra.get('retiro_fabrica').value ? 1 : 0\r\n            }\r\n        }\r\n\r\n        // Se crea el payload con los datos necesarios para crear una venta\r\n        const payload: dtoCrearVenta | dtoEditarVenta = {\r\n            venta: {\r\n                idcliente: parseInt(this.form.get('cliente').value.id),\r\n                idusuario: this.form.get('vendedor').value.codigo,\r\n                fecha: fecha_venta_formateada,\r\n                importe_total: this.form.get('total_venta').value,\r\n                importe_bonificado: this.totales.importe_bonificado,\r\n                importe_no_bonificado: this.totales.importe_no_bonificado,\r\n                importe_iva: this.totales.importe_iva.toString(),\r\n                porcentaje_descuento: this.form.get('porcentaje_descuento_efectivo').value ? this.form.get('porcentaje_descuento_efectivo').value : 0,\r\n                importe_descuento: this.importe_desuento\r\n            },\r\n            obra: this.configura_obra ? obra : null,\r\n            items: this.lista_de_articulos,\r\n            adjuntos: this.adjuntos,\r\n        }\r\n\r\n        if (this.esEdicion) {\r\n            this._ventaGenericasService.updateVenta(this.idventa, payload)\r\n                .subscribe({\r\n                    next: (data) => {\r\n                        if (data) {\r\n                            this.editadoExitosamente.emit();\r\n                            this.volverPaginaAnterior();\r\n                        }\r\n                    }\r\n                });\r\n        } else {\r\n            this._ventaGenericasService.saveVenta(payload)\r\n                .subscribe({\r\n                    next: (data) => {\r\n                        if (data) {\r\n                            this.creadoExitosamente.emit();\r\n                            this.volverPaginaAnterior();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Metodo para calcular el precio unitario de un item\r\n     * @returns \r\n     */\r\n    calcularPrecioUnitario() {\r\n        const articuloSeleccionado = this.form_carga_articulos.get('articulo').value;\r\n\r\n        if (!articuloSeleccionado) {\r\n            return this.alert.error('Seleccione un artículo válido');\r\n        }\r\n\r\n        // Abre el diálogo\r\n        this.dialogo\r\n            .open(CalcularUnitarioComponent, {\r\n                data: articuloSeleccionado,\r\n                panelClass: 'ayuda-dialog',\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (data: IResponse<any>) => {\r\n                    if (data) {\r\n                        this.form_carga_articulos.get('importe_unitario').setValue(data.result);\r\n                        // Notifica al usuario\r\n                        this.alert.success('Se calculo el precio unitario');\r\n                    }\r\n                },\r\n                error: (error) => {\r\n                    console.error('Error al calcular el precio unitario:', error);\r\n                    this.alert.error('Ocurrió un error al calcular el precio unitario');\r\n                },\r\n            });\r\n    }\r\n\r\n    cargarNuevoCliente() {\r\n        // Abre el diálogo\r\n        this.dialogo\r\n            .open(SaveComponent, {\r\n                panelClass: 'ayuda-dialog',\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: (data: IResponse<any>) => {\r\n                    if (data) {\r\n                        this.form.get('cliente').setValue(data.result);\r\n                        // Notifica al usuario\r\n                        this.alert.success('El cliente fue creado con éxito');\r\n                        this.getClientes();\r\n                    }\r\n                },\r\n                error: (error) => {\r\n                    console.error('Error al crear cliente:', error);\r\n                    this.alert.error('Ocurrió un error al crear cliente');\r\n                },\r\n            });\r\n    }\r\n\r\n    // ################# Carga De Movimientos #################\r\n\r\n    /**\r\n     * Esta funcion añade un nuevo item a la grilla dentro del saveComponent.\r\n     * @var movimiento_articulo Encapsula un objeto con los datos que deseamos mostrar en la tabla.\r\n     */\r\n    async addMovimiento(item) {\r\n        // Obtengo el arituclo calculado\r\n        const ItemVenta: IResponse<IItemVenta> = await firstValueFrom(this._ventaGenericasService.calcularItem(item));\r\n\r\n        // Si la operacion fue exitosa...\r\n        if (ItemVenta.success) {\r\n            // Encapsulo los datos del articulo en un objeto\r\n            let item_venta: IItemVenta = {\r\n                ...ItemVenta.result,\r\n            }\r\n\r\n            this.lista_de_articulos = [item_venta, ...this.lista_de_articulos]; // Se agrega el nuevo articulo al comienzo de la lista para que siempre aparezca primero en la grilla\r\n            this.dataSource = new MatTableDataSource(this.lista_de_articulos); //Actualizo la tabla\r\n\r\n            // Actualizar validaciones según el estado de la grilla\r\n            this.updateFormValidators();\r\n            this.updateTotal();\r\n\r\n            this.limpiarCasillero('carga_exitosa'); // Limpio casillerros para que este listo para volver a cargar\r\n            this.alert.success(\"Artículo añadido con éxito\");\r\n        } else {\r\n            return this.alert.error(\"Ocurrió un error al añadir el artículo\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * El resultado de esta operación es un nuevo \r\n     * array que contiene todos los elementos de la lista original, \r\n     * excepto el artículo que se desea eliminar.\r\n     * @param articulo \r\n     */\r\n    deleteMovimiento(articulo) {\r\n        this.lista_de_articulos = this.lista_de_articulos.filter((item) => { return item !== articulo });\r\n        this.dataSource = new MatTableDataSource(this.lista_de_articulos);\r\n\r\n        // Actualizamos el valor total de la carga\r\n        this.updateTotal();\r\n\r\n        this.alert.success(\"Artículo eliminado con éxito\")\r\n    }\r\n\r\n    // ################# Metodos de comunicacion con el service #################\r\n\r\n    /**\r\n    * Este metodo ejecuta todas las peticiones asincronas al mismo tiempo\r\n    */\r\n    async loadServices() {\r\n        await Promise.all([\r\n            this.getArticulos(),\r\n            this.getClientes(),\r\n            this.getVendedores(),\r\n            this.configura_obra ? this.getLocalidades() : Promise.resolve(),\r\n            this.configura_obra ? this.getTratamientos() : Promise.resolve(),\r\n            this.esEdicion ? this.getDatosVenta() : Promise.resolve()\r\n        ]).then(() => {\r\n            this.mostrarSpinner = false;\r\n        })\r\n    }\r\n\r\n    async getDatosVenta() {\r\n        const Venta = await firstValueFrom(this._ventaGenericasService.getDatosVenta(this.idventa));\r\n        new Promise(async (resolve) => {\r\n            this.venta = Venta.list.venta;\r\n            this.lista_de_articulos = Venta.list.items.map((item: IItemVenta) => {\r\n                item.importe_subtotal = item.importe_total\r\n                return item;\r\n            });\r\n\r\n            this.adjuntos = Venta.list.adjuntos.map((item: IImagenAdjunto) => {\r\n                return item;\r\n            });\r\n\r\n            this.obra = Venta.list.obra ?? null;\r\n\r\n            this.dataSource = new MatTableDataSource(this.lista_de_articulos); //Actualizo la tabla\r\n\r\n            // Rellena los formularios con los datos obtenidos\r\n            this.form.patchValue({\r\n                fecha: this.venta.fecha,\r\n                cliente: { id: this.venta.idcliente, descripcion: this.venta.descripcion_cliente },\r\n                vendedor: { id: this.venta.idusuario, descripcion: this.venta.descripcion_usuario },\r\n                porcentaje_descuento_efectivo: Number(this.venta.porcentaje_descuento),\r\n                total_venta: this.venta.total\r\n            });\r\n\r\n            if (this.configura_obra) {\r\n                this.form_obra.patchValue({\r\n                    descripcion_obra: this.obra?.descripcion ?? '',\r\n                    direccion_obra: this.obra?.direccion ?? '',\r\n                    localidad: { idlocalidad: this.obra.idlocalidad, descripcion: this.obra.descripcion_localidad },\r\n                    tratamiento: { id: this.obra.idtratamiento, descripcion: this.obra.descripcion_tratamiento },\r\n                    colocacion: this.obra?.colocacion ? true : false,\r\n                    acarreo: this.obra?.acarreo ? true : false,\r\n                    retiro_fabrica: this.obra?.retiro_fabrica ? true : false,\r\n                    fecha_entrega: this.datePipe.transform(this.obra?.fecha_entrega, 'yyyy-MM-dd'),\r\n                    // fecha_medicion: this.datePipe.transform(this.obra?.fecha_medicion, 'yyyy-MM-dd'),\r\n                });\r\n            }\r\n\r\n            this.updateTotal();\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    async getClientes(option?) {\r\n        const Clientes = await firstValueFrom(this._ventaGenericasService.getClientes(option));\r\n        new Promise(async (resolve) => {\r\n            this.clientes = Clientes.list;\r\n            this.filteredClientes = this.form.get('cliente').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterSelect(value, 'clientes')),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getLocalidades(option?) {\r\n        const Localidades = await firstValueFrom(this._ventaGenericasService.getLocalidades());\r\n        new Promise(async (resolve) => {\r\n            this.localidades = Localidades.list;\r\n            this.filteredLocalidades = this.form_obra.get('localidad').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterSelect(value, 'localidades')),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getTratamientos(option?) {\r\n        const Tratamientos = await firstValueFrom(this._ventaGenericasService.getTratamientos());\r\n        new Promise(async (resolve) => {\r\n            this.tratamientos = Tratamientos.list;\r\n            this.filteredTratamientos = this.form_obra.get('tratamiento').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterSelect(value, 'tratamientos')),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getVendedores(option?) {\r\n        const Vendedores = await firstValueFrom(this._ventaGenericasService.getVendedores(option));\r\n        new Promise(async (resolve) => {\r\n            this.vendedores = Vendedores['list'];\r\n            this.filteredVendedores = this.form.get('vendedor').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterVendodres(value)),\r\n            );\r\n\r\n            // Oculto el spinner\r\n            this.mostrarSpinner = false;\r\n            resolve(true);\r\n        })\r\n    };\r\n\r\n    async getArticulos() {\r\n        const articulos = await firstValueFrom(this._ventaGenericasService.getArticulos());\r\n        new Promise(async (resolve) => {\r\n            this.articulos = articulos.list;\r\n            this.articulos_list = this.articulos;\r\n            this.filteredArticulos = this.form_carga_articulos.get('articulo').valueChanges.pipe(\r\n                startWith(''),\r\n                map((value) => this._filterArticulos(value)),\r\n            );\r\n            resolve(true);\r\n        });\r\n    }\r\n\r\n    async getUnidadesDeMedidaArticulos(idarticulo) {\r\n        const unidadesDeMedida = await firstValueFrom(this._ventaGenericasService.getUnidadesDeMedidaArticulos(idarticulo));\r\n        new Promise(async (resolve) => {\r\n            let um_base; // Asigno una variable global para que cada UM sepa cual es la um base (factor = '1.00')\r\n            this.unidades_de_medida = unidadesDeMedida.list.sort((a, b) => a.factor - b.factor).map(unidad => {\r\n                //Convierto en numero\r\n                unidad.factor = parseFloat(unidad.factor);\r\n\r\n                // Almaceno solo la um base de un articulo \r\n                if (unidad.factor === 1) {\r\n                    um_base = unidad.um.descripcion;\r\n                }\r\n\r\n                return { idarticulounidadmedida: unidad.idarticulounidadmedida, idunidadmedida: unidad.idunidadmedida, descripcion_um: unidad.um.descripcion, factor_um: unidad.factor, um_base: um_base }\r\n            });\r\n\r\n            // Autoasigna la primera unidad de medida al control del formulario\r\n            if (this.unidades_de_medida.length > 0) {\r\n                this.form_carga_articulos.get('unidadmedida').setValue(this.unidades_de_medida[0].idarticulounidadmedida);\r\n                this.seleccionItem({ um: this.unidades_de_medida[0].idarticulounidadmedida });\r\n            }\r\n            resolve(true);\r\n        })\r\n    }\r\n\r\n    // ################# Metodo de filtrado para inputs autocomplete #################\r\n\r\n    /**\r\n    * Esta funcion es para filtrar los artículos según el input que se haya ingresado en el buscador de articulos.\r\n    * @param value \r\n    * @returns \r\n    */\r\n    private _filterArticulos(value: string): IArticulo[] {\r\n        const filterValue = value.toString().toLowerCase();\r\n        return this.articulos_list.filter(articulo => {\r\n            const codigo_interno = articulo.codigo_interno.toString().toLowerCase().includes(filterValue);\r\n            const descripcion = articulo.descripcion.toString().toLowerCase().includes(filterValue);\r\n            return codigo_interno || descripcion;\r\n        });\r\n    }\r\n\r\n    private _filterVendodres(vendedor: IUsuario): IUsuario[] {\r\n        const filterValue = vendedor.toString().toLowerCase();\r\n        return this.vendedores.filter(vendedor => vendedor.nombre.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param item Valor a buscar\r\n     * @param model Modelo donde se retorna la lista de valores encontrados\r\n     * @returns Valores encontrados en la lista\r\n     */\r\n    private _filterSelect(item: ISelectResponse, model?: string): ISelectResponse[] {\r\n        const filterValue = item.toString().toLowerCase();\r\n        return this[`${model}`].filter(item => item.descripcion.toLowerCase().includes(filterValue));\r\n    }\r\n\r\n    // ################# Metodos para obtener textos de input #################\r\n\r\n    getTextGenerico(option) {\r\n        if (option.RazonSocial || option.razonSocial) return option ? option.RazonSocial || option.razonSocial : '';\r\n\r\n        if (option.descripcion) return option ? option.descripcion : '';\r\n\r\n        if (option.nick) return option ? `${option.nombre} ${option.apellido}` : '';\r\n    }\r\n\r\n    /**\r\n    * Obtenemos la descripcion del articulo seleccionado.\r\n    * @param articulo \r\n    * @returns \r\n    */\r\n    getTextArticulo(articulo: IArticulo): string {\r\n        return articulo?.idarticulo ? `${articulo.codigo_interno} - ${articulo.descripcion}` : '';\r\n    }\r\n\r\n    /**\r\n    * Este metodo sirve para agregar o quitar las validaciones de requeridos a los campos del formulario de carga de articulos.\r\n    */\r\n    updateFormValidators() {\r\n        if (this.lista_de_articulos.length === 0) {\r\n            // Si la grilla está vacía, hacer que los campos sean requeridos\r\n            this.form_carga_articulos.get('articulo').setValidators(Validators.required);\r\n            this.form_carga_articulos.get('cantidad').setValidators([Validators.required, Validators.min(1)]);\r\n            this.form_carga_articulos.get('unidadmedida').setValidators(Validators.required);\r\n            this.form_carga_articulos.get('importe_unitario').setValidators(Validators.required);\r\n            this.form_carga_articulos.get('porcentaje_bonificado').setValidators(Validators.required);\r\n        } else {\r\n            // Si hay elementos en la grilla, quitar la validación de requerido\r\n            this.form_carga_articulos.get('articulo').clearValidators();\r\n            this.form_carga_articulos.get('cantidad').setValidators(Validators.min(1));\r\n            this.form_carga_articulos.get('unidadmedida').clearValidators();\r\n            this.form_carga_articulos.get('importe_unitario').clearValidators();\r\n            this.form_carga_articulos.get('porcentaje_bonificado').clearValidators();\r\n        }\r\n\r\n        // Asegurarse de que Angular reevalúe las validaciones\r\n        this.form_carga_articulos.get('articulo').updateValueAndValidity();\r\n        this.form_carga_articulos.get('cantidad').updateValueAndValidity();\r\n        this.form_carga_articulos.get('unidadmedida').updateValueAndValidity();\r\n        this.form_carga_articulos.get('importe_unitario').updateValueAndValidity();\r\n        this.form_carga_articulos.get('porcentaje_bonificado').updateValueAndValidity();\r\n    }\r\n\r\n    /**\r\n    * Metodo para calcular el valor total entre todos los subtotales de una grilla\r\n    */\r\n    updateTotal() {\r\n        const importe_bonificado = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_bonificado = Number(item.importe_bonificado) || 0;\r\n            return sum + importe_bonificado;\r\n        }, 0);\r\n\r\n        const importe_no_bonificado = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_no_bonificado = Number(item.importe_no_bonificado) || 0;\r\n            return sum + importe_no_bonificado;\r\n        }, 0);\r\n\r\n        const importe_iva = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_iva = Number(item.importe_iva) || 0;\r\n            return sum + importe_iva;\r\n        }, 0);\r\n\r\n        const importe_subtotal = this.lista_de_articulos.reduce((sum, item) => {\r\n            const importe_subtotal = Number(item.importe_subtotal) || 0;\r\n            return sum + importe_subtotal;\r\n        }, 0);\r\n\r\n        const total_venta = this.lista_de_articulos.reduce((sum, item) => {\r\n            const subtotal = Number(item.importe_subtotal) || 0;\r\n            return sum + subtotal;\r\n        }, 0);\r\n\r\n        this.totales = {\r\n            importe_iva: parseFloat((importe_iva).toFixed(2)),\r\n            importe_bonificado: parseFloat((importe_bonificado).toFixed(2)),\r\n            importe_no_bonificado: parseFloat((importe_no_bonificado).toFixed(2)),\r\n            importe_subtotal: parseFloat((importe_subtotal).toFixed(2))\r\n        };\r\n\r\n        this.form.get('total_venta')?.setValue(total_venta, { emitEvent: false });\r\n    }\r\n\r\n    /**\r\n     * Metodo para actualizar el total de la venta basado en el porcentaje de descuento efectivo\r\n     * @param porcentaje_descuento_efectivo \r\n     */\r\n    updateDescuento(porcentaje_descuento_efectivo) {\r\n        this.updateTotal();\r\n\r\n        this.totales.importe_bonificado = this.calcularDescuento(this.totales.importe_bonificado, porcentaje_descuento_efectivo);\r\n        this.totales.importe_no_bonificado = this.calcularDescuento(this.totales.importe_no_bonificado, porcentaje_descuento_efectivo);\r\n        this.totales.importe_subtotal = this.calcularDescuento(this.totales.importe_subtotal, porcentaje_descuento_efectivo);\r\n        this.totales.importe_iva = this.calcularDescuento(this.totales.importe_iva, porcentaje_descuento_efectivo);\r\n\r\n        // Obtiene el total de la venta\r\n        const total_venta = this.form.get('total_venta').value;\r\n        // Calcula el descuento basado en el porcentaje\r\n        const nuevoTotal = this.calcularDescuento(total_venta, porcentaje_descuento_efectivo);\r\n\r\n        // Actualiza el campo total\r\n        this.form.get('total_venta')?.setValue(nuevoTotal >= 0 ? nuevoTotal : this.updateTotal()); // Evita valores negativos\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param total Valor general\r\n     * @param porcentaje_descuento Porcentaje por el cual queremos obtener el valor \r\n     * @returns nuevo total con descuento\r\n     */\r\n    calcularDescuento(total: number, porcentaje_descuento: number) {\r\n        const descuento = (total * porcentaje_descuento) / 100;\r\n        this.importe_desuento = descuento;\r\n\r\n        return parseFloat((total - descuento).toFixed(2));\r\n    }\r\n\r\n    /**\r\n    * Filtro para buscar en la grilla de articulos\r\n    * @param filterValue \r\n    */\r\n    applyFilter(filterValue: string): void {\r\n        this.dataSource.filter = filterValue.trim().toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Metodo para en la edicion setear el porcentaje original si el input esta vacio\r\n     * @param $event \r\n     */\r\n    onBlurInput($event) {\r\n        const input = $event.target as HTMLInputElement;\r\n        const valor = input?.value;\r\n\r\n        // Verifica si el valor es null o una cadena vacía\r\n        if (!valor || valor === '') {\r\n            // Asigna un valor por defecto\r\n            this.form.get('porcentaje_descuento_efectivo').setValue(Number(this.venta?.porcentaje_descuento));\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \r\n    * @param $event Archivo\r\n    * @param tipo_imagen 0: imagen principal, 1: imagen secundaria\r\n    */\r\n    setImagen($event: Event, tipo_imagen: number) {\r\n        const imagen_data = ($event.target as HTMLInputElement).files[0];\r\n\r\n        let size = Math.round(imagen_data.size / 1024); // Convierto el tamano de la imagen a kilobytes\r\n        let nombre_archivo = imagen_data.name; // Encapsulo el nombre del archivo\r\n        let extension_archivo = nombre_archivo.split('.').pop(); // Obtengo la extension del archivo\r\n\r\n        this.getBase64(imagen_data).then((imagen_en_base_64) => {\r\n            // Valido el formato del archivo\r\n            if (!this.validExtension.includes('.' + extension_archivo)) {\r\n                return this.alert.info(\"Formato de archivo no soportado\");\r\n            }\r\n\r\n            // Encapsulo los valores que me interesan de la imagen\r\n            let data = {\r\n                base64: imagen_en_base_64.toString().split(\"base64,\")[1],\r\n                path: nombre_archivo,\r\n                size: size,\r\n                extension: extension_archivo\r\n            }\r\n\r\n            // Si es de tipo_imagen \"principal\"...\r\n            if (tipo_imagen === 0) {\r\n                // Guardo la informacion en una variable global\r\n                this.adjuntos = [data, ...this.adjuntos];\r\n            }\r\n        });\r\n    }\r\n\r\n    async getBase64(file: any): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n\r\n    getFileNameFromUrl(url: string): string {\r\n        // Divide la URL en partes utilizando el carácter \"/\"\r\n        const parts = url.split('/');\r\n        // El último elemento del array es el nombre del archivo\r\n        const fileName = parts[parts.length - 1];\r\n        return fileName;\r\n    }\r\n\r\n    getFileSize(size: number): string {\r\n        const bytes = size;\r\n        const kilobytes = bytes / 1024;\r\n        if (kilobytes < 1024) {\r\n            return kilobytes.toFixed(2) + ' KB';\r\n        } else {\r\n            const megabytes = kilobytes / 1024;\r\n            return megabytes.toFixed(2) + ' MB';\r\n        }\r\n    }\r\n\r\n    getFileTitle(file: File): string {\r\n        return file.name + ' (' + this.getFileSize(file.size) + ')';\r\n    }\r\n\r\n    /**\r\n     * Metodo parametrizado para eliminar los archivos multimedia segun el momento de persistencia\r\n     * @param tipo Tipo de imagen que se quiere eliminar\r\n     * @param file Archivo a eliminar\r\n     */\r\n    removeFile(tipo: string, file: any) {\r\n        switch (tipo) {\r\n            // Eliminar imagenes secundarias dadas de alta en la operacion actual\r\n            case 'adjuntos':\r\n                {\r\n                    this.adjuntos = this.adjuntos.filter((adjunto) => adjunto.path.toLowerCase() != file.path.toLowerCase());\r\n                }\r\n                break;\r\n\r\n            default: {\r\n                console.error('Ocurrió un error al quitar el adjunto.')\r\n            }\r\n        }\r\n    }\r\n}","<div class=\"w-full flex flex-col relative mt-4 overflow-y-auto h-full\">\r\n    <div class=\"flex justify-start sm:mb-0 mx-4\">\r\n        <button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n            [style.color]=\"color_primario || '' \"\r\n            class=\"fuse-mat-button-large w-full !border border-solid xl:w-28 md:w-20\" mat-flat-button\r\n            (click)=\"volverPaginaAnterior()\">\r\n            <mat-icon class=\"xl:icon-size-5 icon-size-3\" [svgIcon]=\"'heroicons_solid:chevron-left'\"></mat-icon>\r\n            <span class=\"ml-2 xl:text-xl text-sm font-normal\">Volver</span>\r\n        </button>\r\n    </div>\r\n\r\n    <!-- Spinner -->\r\n    <spinner-component *ngIf=\"mostrarSpinner\"></spinner-component>\r\n\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n\r\n    <form *ngIf=\"!mostrarSpinner\" class=\"form-menu p-4\" [formGroup]=\"form\">\r\n        <div class=\"flex flex-col w-full h-full p-4 \">\r\n\r\n            <!-- Carga de venta -->\r\n            <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                <mat-form-field appearance='fill' class=\"w-full sm:w-2/3\">\r\n                    <mat-label>Fecha de Venta</mat-label>\r\n                    <input matInput [matDatepicker]=\"picker\" formControlName=\"fecha\" readonly=\"true\" [min]=\"minDate\"\r\n                        [max]=\"maxDate\" />\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker></mat-datepicker>\r\n                </mat-form-field>\r\n\r\n                <div class=\" w-full flex\">\r\n                    <mat-form-field apparance='fill' class=\" w-3/4\">\r\n                        <mat-label>Cliente</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"cliente\" [matAutocomplete]=\"auto_cliente\" (keydown.enter)=\"seleccionItem($event, true, 'vendedor')\">\r\n                        <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\" *ngIf=\"!form.get('cliente').value\">\r\n                            <mat-icon>arrow_drop_down</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete autoActiveFirstOption #auto_cliente=\"matAutocomplete\"\r\n                            [displayWith]=\"getTextGenerico\">\r\n                            <mat-option *ngFor=\"let cliente of filteredClientes | async \" [value]=\"cliente\" (click)=\"seleccionItem($event, true, 'vendedor')\">\r\n                                {{ cliente.descripcion }}\r\n                            </mat-option>\r\n                        </mat-autocomplete>\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('cliente')\" class=\"mr-2\"\r\n                            *ngIf=\"form.get('cliente').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <div class=\"flex w-1/4 justify-center items-center\">\r\n                        <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                            matTooltip='Añadir'\r\n                            class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                            (click)=\"cargarNuevoCliente()\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M16 10H10V16H6V10H0V6H6V0H10V6H16V10Z\" fill=\"white\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <mat-form-field apparance='fill' class=\" w-full sm:w-2/3\">\r\n                    <mat-label>Vendedor</mat-label>\r\n                    <input type=\"text\" matInput formControlName=\"vendedor\" [matAutocomplete]=\"auto_vendedor\" (keydown.enter)=\"seleccionItem($event, true, 'descripcion_obra')\">\r\n                    <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\" *ngIf=\"!form.get('vendedor').value\">\r\n                        <mat-icon>arrow_drop_down</mat-icon>\r\n                    </button>\r\n                    <mat-autocomplete autoActiveFirstOption #auto_vendedor=\"matAutocomplete\"\r\n                        [displayWith]=\"getTextGenerico\">\r\n                        <mat-option *ngFor=\"let vendedor of filteredVendedores | async\" [value]=\"vendedor\" (click)=\"seleccionItem($event, true, 'descripcion_obra')\">\r\n                            {{ vendedor.nombre}} {{ vendedor.apellido }}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                    <button matSuffix mat-icon-button (click)=\"limpiarCasillero('vendedor')\" class=\"mr-2\"\r\n                        *ngIf=\"form.get('vendedor').value\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <!-- Carga de obra -->\r\n            <form *ngIf=\"configura_obra\" [formGroup]=\"form_obra\">\r\n                <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                    <mat-form-field apparance='fill' class=\"  w-full sm:w-full\">\r\n                        <mat-label>Obra</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"descripcion_obra\"\r\n                            (keydown.enter)=\"seleccionItem($event, true,'direccion_obra')\">\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('descripcion_obra')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('descripcion_obra').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <mat-form-field apparance='fill' class=\"  w-full sm:w-full\">\r\n                        <mat-label>Dirección Obra</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"direccion_obra\"\r\n                            (keydown.enter)=\"seleccionItem($event, true,'localidad')\">\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('direccion_obra')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('direccion_obra').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <mat-form-field apparance='fill' class=\" w-full sm:w-3/4\">\r\n                        <mat-label>Localidad - Provincia</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"localidad\" [matAutocomplete]=\"auto_localidad\" (keydown.enter)=\"seleccionItem($event, true, 'tratamiento')\">\r\n                        <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\"\r\n                            *ngIf=\"!form_obra.get('localidad').value\">\r\n                            <mat-icon>arrow_drop_down</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete autoActiveFirstOption #auto_localidad=\"matAutocomplete\"\r\n                            [displayWith]=\"getTextGenerico\">\r\n                            <mat-option *ngFor=\"let localidad of filteredLocalidades | async\" [value]=\"localidad\" (click)=\"seleccionItem($event, true, 'tratamiento')\">\r\n                                {{ localidad.descripcion }}\r\n                            </mat-option>\r\n                        </mat-autocomplete>\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('localidad')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('localidad').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                    <mat-form-field apparance='fill' class=\" w-full sm:w-1/3\">\r\n                        <mat-label>Tratamiento</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"tratamiento\" [matAutocomplete]=\"auto_tratamiento\" (keydown.enter)=\"seleccionItem($event, true, 'articulo')\">\r\n                        <button mat-icon-button matSuffix type=\"button\" class=\"mr-2\"\r\n                            *ngIf=\"!form_obra.get('tratamiento').value\">\r\n                            <mat-icon>arrow_drop_down</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete autoActiveFirstOption #auto_tratamiento=\"matAutocomplete\"\r\n                            [displayWith]=\"getTextGenerico\">\r\n                            <mat-option *ngFor=\"let tratamiento of filteredTratamientos | async\" [value]=\"tratamiento\" (click)=\"seleccionItem($event, true, 'articulo')\">\r\n                                {{ tratamiento.descripcion }}\r\n                            </mat-option>\r\n                        </mat-autocomplete>\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('tratamiento')\" class=\"mr-2\"\r\n                            *ngIf=\"form_obra.get('tratamiento').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n                    <div class=\"flex justify-between items-center gap-2 w-1/3\">\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <mat-checkbox formControlName=\"acarreo\"></mat-checkbox>\r\n                            <mat-label>Acarreo</mat-label>\r\n                        </div>\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <mat-checkbox formControlName=\"colocacion\"></mat-checkbox>\r\n                            <mat-label>Colocación</mat-label>\r\n                        </div>\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <mat-checkbox formControlName=\"retiro_fabrica\"></mat-checkbox>\r\n                            <mat-label>Retiro en Fábrica</mat-label>\r\n                        </div>\r\n                    </div>\r\n                    <mat-form-field appearance='fill' class=\"w-full sm:w-1/3\">\r\n                        <mat-label>Fecha de Entrega</mat-label>\r\n                        <input matInput [matDatepicker]=\"picker_entrega\" formControlName=\"fecha_entrega\" readonly=\"true\"\r\n                            [min]=\"maxDate\" />\r\n                        <mat-datepicker-toggle matSuffix [for]=\"picker_entrega\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #picker_entrega></mat-datepicker>\r\n                    </mat-form-field>\r\n                </div>\r\n            </form>\r\n\r\n            <!-- Sección: Adjuntos -->\r\n            <div class=\"mb-3 w-full\">\r\n                <div class=\"flex items-center gap-2\">\r\n                    <button mat-icon-button type=\"button\" matTooltip=\"Añadir Imagen\"\r\n                        [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n                        (click)=\"fileInput.click();\">\r\n                        <mat-icon class=\"text-white transform -rotate-45\">attach_file</mat-icon>\r\n                    </button>\r\n                    <input #fileInput id=\"fileToUploadImagen\" type=\"file\" [accept]=\"validExtension\"\r\n                        (change)=\"setImagen($event, 0)\" class=\"hidden\">\r\n                    <small *ngIf=\"adjuntos.length === 0\" class=\"text-muted text-lg cursor-pointer\"\r\n                        (click)=\"fileInput.click()\">\r\n                        <b>{{ 'Adjuntos' }}</b> (Max: 20Mb)\r\n                    </small>\r\n                    <!-- Archivos Nuevos / Guardados -->\r\n                    <div *ngIf=\"adjuntos.length > 0\"\r\n                        class=\"mt-4 grid gap-2 p-2 bg-slate-200 rounded-lg max-w-full max-h-56 xl:max-h-56 sm:max-h-18 overflow-y-auto\"\r\n                        style=\"grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\">\r\n                        <ng-container *ngFor=\"let imagen of adjuntos\">\r\n                            <div [class]=\"color_primario ? '' : default_color\"\r\n                                [style.background-color]=\"color_primario || '' \"\r\n                                class=\"flex items-center gap-2 px-4 py-2 rounded-lg text-white\">\r\n\r\n                                <!-- Aquí agrego la clase truncate -->\r\n                                <span *ngIf=\"!imagen.idventaadjunto\" class=\"truncate max-w-xs\">{{ imagen.path }} ({{\r\n                                    getFileSize(imagen.size) }})</span>\r\n                                <a *ngIf=\"imagen.idventaadjunto\" href=\"{{urlBase + imagen.path}}\" target=\"_blank\"\r\n                                    class=\"flex items-center truncate max-w-xs\">\r\n                                    {{ getFileNameFromUrl(imagen.path) }}\r\n                                    <mat-icon class=\"ml-2 text-white\">open_in_new</mat-icon>\r\n                                </a>\r\n\r\n                                <button mat-icon-button (click)=\"removeFile('adjuntos', imagen)\">\r\n                                    <mat-icon class=\"text-white\">close</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                        </ng-container>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <!-- Carga de articulos -->\r\n            <form [formGroup]=\"form_carga_articulos\">\r\n                <div class=\"flex gap-2 flex-col sm:flex-row\">\r\n                    <div class=\"flex w-full gap-1\">\r\n                        <mat-form-field apparance='fill' class=\"  w-full sm:w-full\">\r\n                            <mat-label>Artículo</mat-label>\r\n                            <input type=\"text\" matInput formControlName=\"articulo\" [matAutocomplete]=\"art_carga\"\r\n                                (ngModelChange)=\"seleccionItem($event)\">\r\n                            <mat-autocomplete autoActiveFirstOption #art_carga=\"matAutocomplete\"\r\n                                [displayWith]=\"getTextArticulo\">\r\n                                <mat-option *ngFor=\"let articulo of filteredArticulos\" [value]=\"articulo\">\r\n                                    {{ articulo.codigo_interno }} - {{ articulo.descripcion }}\r\n                                </mat-option>\r\n                            </mat-autocomplete>\r\n                            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('articulo')\" class=\"mr-2\"\r\n                                *ngIf=\"form_carga_articulos.get('articulo').value\">\r\n                                <mat-icon>clear</mat-icon>\r\n                            </button>\r\n                        </mat-form-field>\r\n                        <!-- Escanner qr -->\r\n                        <!-- <div class=\"flex\">\r\n                            <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                                [style.color]=\"color_secundario\"\r\n                                class=\"flex items-center justify-center w-12 h-12 rounded-full ml-1 mt-1\">\r\n                                <svg width=\"22\" height=\"22\" viewBox=\"0 0 16 16\" fill=\"currentColor\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path\r\n                                        d=\"M2.66667 2.66667H6.66667V6.66667H2.66667V2.66667ZM13.3333 2.66667V6.66667H9.33333V2.66667H13.3333ZM9.33333 10H10.6667V8.66667H9.33333V7.33333H10.6667V8.66667H12V7.33333H13.3333V8.66667H12V10H13.3333V12H12V13.3333H10.6667V12H8.66667V13.3333H7.33333V10.6667H9.33333V10ZM10.6667 10V12H12V10H10.6667ZM2.66667 13.3333V9.33333H6.66667V13.3333H2.66667ZM4 4V5.33333H5.33333V4H4ZM10.6667 4V5.33333H12V4H10.6667ZM4 10.6667V12H5.33333V10.6667H4ZM2.66667 7.33333H4V8.66667H2.66667V7.33333ZM6 7.33333H8.66667V10H7.33333V8.66667H6V7.33333ZM7.33333 4H8.66667V6.66667H7.33333V4ZM1.33333 1.33333V4H0V1.33333C0 0.979711 0.140476 0.640573 0.390524 0.390524C0.640573 0.140476 0.979711 0 1.33333 0L4 0V1.33333H1.33333ZM14.6667 0C15.0203 0 15.3594 0.140476 15.6095 0.390524C15.8595 0.640573 16 0.979711 16 1.33333V4H14.6667V1.33333H12V0H14.6667ZM1.33333 12V14.6667H4V16H1.33333C0.979711 16 0.640573 15.8595 0.390524 15.6095C0.140476 15.3594 0 15.0203 0 14.6667V12H1.33333ZM14.6667 14.6667V12H16V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H12V14.6667H14.6667Z\"\r\n                                        fill=\"currentColor\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div> -->\r\n                    </div>\r\n                    <mat-form-field apparance='fill' class=\" w-full sm:w-full\">\r\n                        <mat-label>UM</mat-label>\r\n                        <mat-select formControlName=\"unidadmedida\" (ngModelChange)=\"seleccionItem({um: $event})\">\r\n                            <mat-option *ngFor=\"let um of unidades_de_medida\" [value]=\"um.idarticulounidadmedida\">\r\n                                {{um.descripcion_um}} <i *ngIf=\"um.factor_um != 1\" class=\"font-light\">(x{{um.factor_um}}\r\n                                    {{um.um_base}})</i>\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n\r\n                    <mat-form-field apparance='fill' class=\"w-full sm:w-full\">\r\n                        <mat-label>Detalle</mat-label>\r\n                        <input type=\"text\" matInput formControlName=\"detalle\"\r\n                            (keydown.enter)=\"seleccionItem($event, true, 'cantidad')\">\r\n                        <button matSuffix mat-icon-button (click)=\"limpiarCasillero('detalle')\" class=\"mr-2\"\r\n                            *ngIf=\"form_carga_articulos.get('detalle').value\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </button>\r\n                    </mat-form-field>\r\n\r\n                    <mat-form-field apparance='fill' class=\"w-full sm:w-full\"\r\n                        (keydown.enter)=\"seleccionItem($event, true, 'importe_unitario')\">\r\n                        <mat-label>Cantidad</mat-label>\r\n                        <input matInput type=\"number\" formControlName=\"cantidad\">\r\n                    </mat-form-field>\r\n\r\n                    <div class=\"flex w-full sm:w-1/2 justify-center items-center\">\r\n                        <mat-form-field appearance=\"fill\" class=\"w-full sm:w-full\">\r\n                            <mat-label>Precio Unitario</mat-label>\r\n                            <div class=\"flex items-center\">\r\n                                <input type=\"text\" matInput formControlName=\"importe_unitario\" placeholder=\"$\"\r\n                                    (keydown.enter)=\"seleccionItem($event, true, 'porcentaje_bonificado')\" />\r\n                                <button matSuffix mat-icon-button (click)=\"limpiarCasillero('importe_unitario')\"\r\n                                    class=\"mr-2\" *ngIf=\"form_carga_articulos.get('importe_unitario').value\">\r\n                                    <mat-icon>clear</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                            <!-- Leyenda debajo del input -->\r\n                            <mat-hint class=\"text-xs text-gray-500 italic\">Sin I.V.A.</mat-hint>\r\n                        </mat-form-field>\r\n                        <div class=\"flex\">\r\n                            <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                                matTooltip='Calcular Precio Unitario'\r\n                                class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                                (click)=\"calcularPrecioUnitario()\">\r\n                                <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path\r\n                                        d=\"M22.0104 0H2.96439C1.46792 0 0.24353 1.2 0.24353 2.66667V21.3333C0.24353 22.8 1.46792 24 2.96439 24H22.0104C23.5069 24 24.7312 22.8 24.7312 21.3333V2.66667C24.7312 1.2 23.5069 0 22.0104 0ZM13.8886 5.41333L15.3307 4L17.2489 5.88L19.1671 4L20.6091 5.41333L18.6909 7.29333L20.6091 9.17333L19.1671 10.5867L17.2489 8.72L15.3307 10.6L13.8886 9.18667L15.8068 7.30667L13.8886 5.41333ZM4.66492 6.29333H11.4671V8.29333H4.66492V6.29333ZM11.8072 17.3333H9.08632V20H7.04567V17.3333H4.32482V15.3333H7.04567V12.6667H9.08632V15.3333H11.8072V17.3333ZM20.65 19H13.8478V17H20.65V19ZM20.65 15.6667H13.8478V13.6667H20.65V15.6667Z\"\r\n                                        fill=\"white\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"flex w-full sm:w-1/2 justify-center items-center\">\r\n                        <mat-form-field appearance=\"fill\" class=\"w-full sm:w-full\">\r\n                            <mat-label>Bonificación</mat-label>\r\n                            <div class=\"flex items-center\">\r\n                                <input type=\"text\" matInput formControlName=\"porcentaje_bonificado\" placeholder=\"%\"\r\n                                    (keydown.enter)=\"onCargar($event)\" />\r\n                                <button matSuffix mat-icon-button (click)=\"limpiarCasillero('porcentaje_bonificado')\"\r\n                                    class=\"mr-2\" *ngIf=\"form_carga_articulos.get('porcentaje_bonificado').value\">\r\n                                    <mat-icon>clear</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                        </mat-form-field>\r\n\r\n                        <div class=\"flex\">\r\n                            <button [class]=\"color_primario ? '' : default_color\" [style.background]=\"color_primario\"\r\n                                matTooltip='Agregar'\r\n                                class=\"flex items-center justify-center w-10 h-10 rounded-full mt-2 ml-2 sm:ml-4 transition-transform transform active:scale-95\"\r\n                                (click)=\"onCargar()\">\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path d=\"M16 10H10V16H6V10H0V6H6V0H10V6H16V10Z\" fill=\"white\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </form>\r\n\r\n            <!-- Barra de busqueda de articulos en la grilla -->\r\n            <div class=\"search-container mt-2 mb-2 flex\">\r\n                <div class=\"relative w-full md:w-1/3\">\r\n                    <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Buscar artículo\"\r\n                        class=\"w-full bg-slate-50 border border-gray-200 rounded-lg shadow-md py-2 px-4 text-sm placeholder-gray-500 text-gray-700 transition duration-300\" />\r\n                    <span class=\"absolute inset-y-0 right-4 flex items-center text-gray-400\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                d=\"M12.9 14.32a8 8 0 111.42-1.42l4.39 4.4a1 1 0 11-1.42 1.41l-4.4-4.39zM8 14a6 6 0 100-12 6 6 0 000 12z\"\r\n                                clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Grilla -->\r\n            <div class=\"overflow-y-auto max-h-[300px] h-[300px] shadow-md rounded-lg bg-white\">\r\n                <table *ngIf=\"dataSource.data.length != 0\" mat-table [dataSource]=\"dataSource\"\r\n                    class=' w-full mt-1 min-h-full'>\r\n                    <ng-container matColumnDef='articulo'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tl-lg text-white w-auto\">\r\n                            Articulo</th>\r\n                        <td mat-cell *matCellDef='let item' class=\"w-auto\">\r\n                            {{item.descripcion }}\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='unidadmedida'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Unidad de medida</th>\r\n                        <td mat-cell *matCellDef='let item' class=\"text-center\">\r\n                            {{ item.descripcion_um }}\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='cantidad'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Cantidad</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            {{ item.cantidad }}\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_unitario' class=\"content-end\">\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Precio Unitario</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_unitario }} </b>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"text-lg font-bold bg-slate-200\">TOTAL</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_bonificado'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Bonificado</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b>${{ item.importe_bonificado }} </b> ({{item.porcentaje_bonificado}}%)\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_bonificado}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_no_bonificado'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">No Bonificado</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_no_bonificado }} </b> ({{100 - item.porcentaje_bonificado}}%)\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_no_bonificado}}\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_iva'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">IVA</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_iva }} </b>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_iva}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='importe_subtotal'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"text-white w-auto\">Subtotal</th>\r\n                        <td mat-cell *matCellDef='let item'>\r\n                            <b> ${{ item.importe_subtotal }} </b>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"> ${{totales.importe_subtotal}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef='acciones'>\r\n                        <th mat-header-cell *matHeaderCellDef [class]=\"color_primario ? '' : default_color\"\r\n                            [style.background]=\"color_primario || '' \" class=\"rounded-tr-lg text-white w-auto\">\r\n                        </th>\r\n                        <td mat-cell *matCellDef='let movimiento'>\r\n                            <button mat-icon-button (click)=\"deleteMovimiento(movimiento)\" #delete>\r\n                                <mat-icon color=\"warn\">delete</mat-icon>\r\n                            </button>\r\n                        </td>\r\n                        <td mat-footer-cell *matFooterCellDef class=\"bg-slate-200\"></td>\r\n                    </ng-container>\r\n                    <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>\r\n                    <tr mat-row *matRowDef='let row; columns: columns;'></tr>\r\n                    <tr mat-footer-row *matFooterRowDef=\"columns; sticky: true\"></tr>\r\n                </table>\r\n                <div *ngIf=\"dataSource.data.length === 0\"\r\n                    class=\"flex justify-center items-center h-full mt-0 bg-white \">\r\n                    <p class=\"text-gray-600 text-lg\">No hay artículos cargados.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <form [formGroup]=\"form\">\r\n                <div class=\"flex w-full gap-1 justify-end mt-2\">\r\n                    <mat-form-field apparance='fill' class=\"w-1/3 md:w-1/4\"\r\n                        (keydown.enter)=\"seleccionItem($event, true)\">\r\n                        <mat-label>TOTAL VENTA</mat-label>\r\n                        <input matInput type=\"number\" formControlName=\"total_venta\" readonly=\"true\">\r\n                    </mat-form-field>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </form>\r\n\r\n    <div *ngIf=\"!mostrarSpinner\" class=\"w-full md:flex justify-end md:pb-6 md:px-6 mt-auto\">\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Guardar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { debounceTime, distinctUntilChanged, Subject, Subscription, takeUntil } from 'rxjs';\r\nimport { IVtaVentaBonificada } from '../../models/venta-generica';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { SearchService } from 'app/layout/common/search/search.service';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { environment } from 'environments/environment';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\n\r\n@Component({\r\n    selector: 'app-bonificado-detalle',\r\n    templateUrl: './bonificado-detalle.component.html',\r\n    styleUrls: ['./bonificado-detalle.component.scss']\r\n})\r\nexport class BonificadoDetalleComponent implements OnInit, OnDestroy {\r\n    data: any;\r\n    iddeposito: number;\r\n    venta_bonificadas: IVtaVentaBonificada[] = [];\r\n    headers = ['Venta', 'Bonificado', 'Fecha', 'Importe Neto', 'Importe Iva', 'Importe Descuento', 'Importe Total']\r\n    columns = ['idventa', 'bonificado', 'fecha', 'importe_neto', 'importe_iva', 'importe_descuento', 'importe_total'];\r\n    column_params = ['idventa', 'bonificado', 'fecha', 'importe_neto', 'importe_iva', 'importe_descuento', 'importe_total'];\r\n    filtersLike = ['fecha'];\r\n    funcionesObjeto = null;\r\n    @Input() extraParams = '';\r\n\r\n    env = environment.ventas.view_vta_venta_bonificado_detalles + '?filter[idventa]=' + +this.route.snapshot.paramMap.get('idventa');\r\n\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'border-primary text-primary';\r\n\r\n    search: FormControl = new FormControl('');\r\n    SearchTextSub$: Subscription;\r\n    FilterEventSub$: Subscription;\r\n    filtroBusqueda: string = '';\r\n\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    constructor(\r\n        private _empresaService: EmpresaService,\r\n        private router: Router,\r\n        public _headerTextService: HeaderTextService,\r\n        private _searchService: SearchService,\r\n        private _menuService: JedsMenuService,\r\n        public dialogo: MatDialog,\r\n        private route: ActivatedRoute\r\n    ) {\r\n        let titulo = { custom_title: true, titulo: `Venta N°${this.route.snapshot.paramMap.get('idventa')} detalle bonificado ` } ;\r\n        this._headerTextService.setCustomTitle(titulo);\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n\r\n    ngOnInit(): void {\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.SearchTextSub$ = this._searchService.getSearchText().pipe( //Se obtienen los valores que coinciden con lo ingresado en la barra de busqueda\r\n            debounceTime(250),\r\n            distinctUntilChanged()\r\n        )\r\n            .subscribe(value => {\r\n                this.filtroBusqueda = value;\r\n                this.tabla.filters(this.filtroBusqueda);\r\n            });\r\n\r\n    }\r\n\r\n\r\n    volverPaginaAnterior() {\r\n        this.router.navigate(['/ventas']);\r\n    }\r\n\r\n    // Este método es llamado cuando el componente es destruido\r\n    ngOnDestroy(): void {\r\n        this._searchService.unsubscribe()\r\n    }\r\n}","<div class=\"w-full flex flex-col relative mt-4\">\r\n    <div class=\"flex justify-start sm:mb-0 mx-4\">\r\n        <button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || '' \"\r\n            [style.color]=\"color_primario || '' \" class=\"fuse-mat-button-large w-full !border border-solid md:w-28\"\r\n            mat-flat-button (click)=\"volverPaginaAnterior()\">\r\n            <mat-icon class=\"icon-size-5\" [svgIcon]=\"'heroicons_solid:chevron-left'\"></mat-icon>\r\n            <span class=\"ml-2 text-lg font-normal\">Volver</span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"pr-2 pl-2\">\r\n        <!-- Tabla dinámica -->\r\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\" [cache]=\"false\"\r\n            [columnsNames]=\"headers\" [renderType]=\"'client'\" [columnsParams]=\"column_params\" [endpoint]=\"env\"\r\n            [functions]=\"funcionesObjeto\" [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\r\n            [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\">\r\n        </app-tabla-dinamica>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AppAlertService } from 'app/shared/service/app/alert.service';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { IAlertConfig } from '@shared/models/alert';\r\nimport { finalize, Subject, takeUntil, takeWhile, tap, timer } from 'rxjs';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { VentaGenericasService } from '../../service/venta-generica.service';\r\nimport { dtoCalcularUnitario } from '../../models/venta-generica';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\n@Component({\r\n    selector: 'app-calcular-unitario',\r\n    templateUrl: './calcular-unitario.component.html',\r\n    styleUrls: ['./calcular-unitario.component.scss']\r\n})\r\nexport class CalcularUnitarioComponent implements OnInit {\r\n    columns = ['nombre', 'activo', 'acciones'];\r\n    form: FormGroup;\r\n    title: string;\r\n    showAlert = false;\r\n    _alertConfig: IAlertConfig;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'bg-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n    @Output() public creadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() public editadoExitosamente: EventEmitter<void> = new EventEmitter<void>();\r\n    deposito_default = 0;\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private _ventaGenericasService: VentaGenericasService,\r\n        private _empresaService: EmpresaService,\r\n        private alert: AppAlertService,\r\n        public dialogRef: MatDialogRef<CalcularUnitarioComponent>\r\n    ) {\r\n        this.title = `Calcular Precio Unitario ${this.data.descripcion}`;\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n                this.deposito_default = empresa.deposito_default;\r\n            });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.newForm();\r\n        this.subscribeAlert();\r\n    }\r\n\r\n    // Alert\r\n    subscribeAlert() {\r\n        this.alert.emitConfig.subscribe({\r\n            next: (config: IAlertConfig) => {\r\n                this.showAlert = true;\r\n                this._alertConfig = {\r\n                    ...config,\r\n                    appearance: 'border',\r\n                };\r\n                let time = 2;\r\n                timer(100, 1500)\r\n                    .pipe(\r\n                        finalize(() => {\r\n                            this.showAlert = false;\r\n                            this._alertConfig = null;\r\n                        }),\r\n                        takeWhile(() => time > 0),\r\n                        takeUntil(this._unsubscribeAll),\r\n                        tap(() => (time -= 1))\r\n                    )\r\n                    .subscribe();\r\n            },\r\n        });\r\n    }\r\n\r\n    newForm() {\r\n        this.form = new FormGroup({\r\n            articulo: new FormControl({ value: `${this.data.codigo_interno} | ${this.data.descripcion}`, disabled: true }, Validators.required),\r\n            bruto: new FormControl((''), Validators.required),\r\n        });\r\n    }\r\n\r\n    onSubmit() {\r\n        if (!this.form.valid) {\r\n            return this.alert.error('Revise Los Datos Ingresados');\r\n        } else {\r\n            const payload: dtoCalcularUnitario = {\r\n                idarticulo: this.data.idarticulo,\r\n                bruto: this.form.get('bruto').value\r\n            }\r\n\r\n            this._ventaGenericasService.calcularPrecioUnitario(payload)\r\n                .subscribe({\r\n                    next: (data: IResponse<any>) => {\r\n                        if (data) {\r\n                            this.creadoExitosamente.emit();\r\n                            this.onCloseMenu(data);\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    onCloseMenu(data) {\r\n        this.dialogRef.close(data)\r\n    }\r\n}","<div\r\n    class=\"fixed inset-0 sm:static max-h-screen sm:inset-auto flex flex-col md:min-w-140 sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden bg-white shadow-sm dark:bg-slate-900\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">{{title}}</span>\r\n        <div>\r\n            <button mat-icon-button (click)=\"onCloseMenu(false)\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <!-- Alert -->\r\n    <fuse-alert class=\"fixed top-0 left-0 w-full flex justify-center items-center mt-8 alert-main z-99999\"\r\n        [type]=\"_alertConfig.type\" [appearance]=\"'outline'\" *ngIf=\"showAlert\" [@fadeIn]=\"showAlert\">\r\n        {{ _alertConfig.message }}\r\n    </fuse-alert>\r\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"form\">\r\n        <mat-form-field appearance='outline' class=\"w-full\">\r\n            <mat-label>Artículo</mat-label>\r\n            <input matInput formControlName='articulo' [value]=\"data.descripcion\">\r\n        </mat-form-field>\r\n        <mat-form-field appearance='outline' class=\" w-full\">\r\n            <mat-label>Bruto</mat-label>\r\n            <input matInput formControlName='bruto' (keydown.enter)=\"onSubmit()\">\r\n        </mat-form-field>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-center md:pb-6 md:px-6 mt-auto\">\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class='w-full rounded-none md:w-36 md:rounded-lg py-8 md:py-0' (click)='onSubmit()'>\r\n            <span class=\"text-white font-medium text-base\">Calcular</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { IProveedor } from 'app/modules/administracion/proveedores/models/proveedor';\r\nimport { firstValueFrom, map, Observable, startWith, Subject, takeUntil } from 'rxjs';\r\nimport { VentaGenericasService } from '../../service/venta-generica.service';\r\nimport { ISelectResponse } from '@shared/models/select-response';\r\nimport { IUsuario } from '@core/user/user.types';\r\nimport { ICliente } from 'app/modules/administracion/clientes/models/cliente';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-filter-menu-ventas',\r\n  templateUrl: './filter-menu.component.html',\r\n  styleUrls: ['./filter-menu.component.scss'],\r\n  animations: fuseAnimations\r\n})\r\nexport class FilterMenuComponent implements OnInit, OnDestroy {\r\n  public formFilters: FormGroup;\r\n  public proveedores: IProveedor[] = [];\r\n  color_primario: string;\r\n  color_secundario: string;\r\n  configura_obra: boolean = false;\r\n  default_color: string = 'bg-primary';\r\n  private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n  clientes: ICliente[];\r\n  filteredClientes: Observable<ISelectResponse[]>;\r\n  vendedores: IUsuario[];\r\n  filteredVendedores: Observable<IUsuario[]>;\r\n  tratamientos\r\n  filteredTratamientos: Observable<ISelectResponse[]>;\r\n\r\n  constructor(\r\n    @Inject('MENU_DATA') public data: any,\r\n    private _empresaService: EmpresaService,\r\n    private menuService: JedsMenuService,\r\n    private datePipe: DatePipe,\r\n    private _ventaGenericaService: VentaGenericasService\r\n  ) {\r\n    // Subscribe to empresa data\r\n    this._empresaService.empresa$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(empresa => {\r\n        this.color_primario = empresa.color_primario;\r\n        this.color_secundario = empresa.color_secundario;\r\n        this.configura_obra = empresa.configura_obra === 1 ? true : false;\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.formFilters = new FormGroup({\r\n      filtroFechaInicio: new FormControl(('')),\r\n      filtroFechaFin: new FormControl(('')),\r\n      tratamiento: new FormControl(('')),\r\n      cliente: new FormControl(('')),\r\n      vendedor: new FormControl((''))\r\n    });\r\n\r\n    // Load empresa data\r\n    this._empresaService.getEmpresa();\r\n    this.formFilters.patchValue(this.data.filter);\r\n\r\n    this.loadServices();\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  /**\r\n  * Este metodo ejecuta todas las peticiones asincronas al mismo tiempo\r\n  */\r\n  async loadServices() {\r\n    await Promise.all([\r\n      this.getClientes(),\r\n      this.getVendedores(),\r\n      this.getTratamiento(),\r\n    ]).then(() => {\r\n    })\r\n  }\r\n  resetFilters() {\r\n    this.formFilters.reset({\r\n      filtroFechaInicio: '',\r\n      filtroFechaFin: '',\r\n      tratamiento: -1,\r\n      cliente: -1,\r\n      vendedor: -1,\r\n    });\r\n  }\r\n\r\n  onCloseMenu(data: any = null) {\r\n    if (data) {\r\n      data.filtroFechaInicio = this.datePipe.transform(this.formFilters.get('filtroFechaInicio').value, 'yyyy-MM-dd');\r\n      data.filtroFechaFin = this.datePipe.transform(this.formFilters.get('filtroFechaFin').value, 'yyyy-MM-dd');\r\n    }\r\n    this.menuService.close(data);\r\n  }\r\n\r\n  async getClientes(option?) {\r\n    const Clientes = await firstValueFrom(this._ventaGenericaService.getClientes(option));\r\n    new Promise(async (resolve) => {\r\n      this.clientes = Clientes.list;\r\n      this.filteredClientes = this.formFilters.get('cliente').valueChanges.pipe(\r\n        startWith(''),\r\n        map((value) => this._filterSelect(value, 'clientes')),\r\n      );\r\n\r\n      resolve(true);\r\n    })\r\n  };\r\n\r\n  async getVendedores(option?) {\r\n    const Vendedores = await firstValueFrom(this._ventaGenericaService.getVendedores(option));\r\n    new Promise(async (resolve) => {\r\n      this.vendedores = Vendedores['list'];\r\n      this.filteredVendedores = this.formFilters.get('vendedor').valueChanges.pipe(\r\n        startWith(''),\r\n        map((value) => this._filterVendodres(value)),\r\n      );\r\n\r\n      resolve(true);\r\n    })\r\n  };\r\n\r\n  async getTratamiento() {\r\n    const Tratamientos = await firstValueFrom(this._ventaGenericaService.getTratamientos());\r\n    new Promise(async (resolve) => {\r\n      this.tratamientos = Tratamientos['list'];\r\n      this.filteredTratamientos = this.formFilters.get('tratamiento').valueChanges.pipe(\r\n        startWith(''),\r\n        map((value) => this._filterSelect(value, 'tratamientos'))\r\n      );\r\n\r\n      resolve(true);\r\n    })\r\n  };\r\n\r\n  getTextGenerico(option) {\r\n    if (option.RazonSocial || option.razonSocial) return option ? option.RazonSocial || option.razonSocial : '';\r\n\r\n    if (option.descripcion) return option ? option.descripcion : '';\r\n\r\n    if (option.nick) return option ? `${option.nombre} ${option.apellido}` : '';\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param item Valor a buscar\r\n   * @param model Modelo donde se retorna la lista de valores encontrados\r\n   * @returns Valores encontrados en la lista\r\n   */\r\n  private _filterSelect(item: ISelectResponse, model?: string): ISelectResponse[] {\r\n    const filterValue = item.toString().toLowerCase();\r\n    return this[`${model}`].filter(item => item.descripcion.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  private _filterVendodres(vendedor: IUsuario): IUsuario[] {\r\n    const filterValue = vendedor.toString().toLowerCase();\r\n    return this.vendedores.filter(vendedor => vendedor.nombre.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  /**\r\n* Funcion para limpiar campos\r\n*/\r\n  limpiarCasillero(input) {\r\n\r\n    if (input === 'fecha') {\r\n      this.formFilters.get('filtroFechaInicio').setValue('');\r\n      this.formFilters.get('filtroFechaFin').setValue('');\r\n    }\r\n\r\n    if (this.formFilters.get(input)) {\r\n      this.formFilters.get(input).setValue(-1);\r\n    }\r\n  }\r\n}","<div class=\"fixed filtroJeds inset-0 sm:static max-h-screen sm:inset-auto flex flex-col sm:min-w-90 sm:w-90 sm:rounded-2xl overflow-y-auto overflow-hidden shadow-lg bg-white dark:bg-slate-900\"\r\n    [@expandCollapse]=\"'expanded'\">\r\n    <div [class]=\"color_primario ? '' : default_color\" [style.background-color]=\"color_primario || '' \"\r\n        class=\"w-full px-4 py-4 flex justify-between items-center\">\r\n        <span class=\"text-white font-bold text-lg\">Filtros</span>\r\n        <div>\r\n            <button mat-icon-button class=\"md:hidden\" (click)=\"resetFilters()\">\r\n                <mat-icon class=\"text-white\">refresh</mat-icon>\r\n            </button>\r\n            <button mat-icon-button (click)=\"onCloseMenu(null)\">\r\n                <mat-icon class=\"text-white\">close</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <form class=\"flex flex-col w-full h-full p-4 form-menu\" [formGroup]=\"formFilters\">\r\n        <!-- Fecha inicio-->\r\n        <span class=\"font-semibold text-gray-600 text-base\">Rango de fechas</span>\r\n        <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <mat-date-range-input [rangePicker]=\"picker\">\r\n                <input matStartDate placeholder=\"Desde\" formControlName=\"filtroFechaInicio\">\r\n                <input matEndDate placeholder=\"Hasta\" formControlName=\"filtroFechaFin\">\r\n            </mat-date-range-input>\r\n            <mat-datepicker-toggle matIconSuffix [for]=\"picker\"\r\n                *ngIf=\"!formFilters.get('filtroFechaInicio').value || !formFilters.get('filtroFechaFin').value\"></mat-datepicker-toggle>\r\n            <mat-date-range-picker #picker></mat-date-range-picker>\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('fecha')\"\r\n                *ngIf=\"formFilters.get('filtroFechaInicio').value || formFilters.get('filtroFechaFin').value\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </mat-form-field>\r\n\r\n        <!-- Clientes -->\r\n        <span *ngIf=\"formFilters.get('cliente')\" class=\"font-semibold text-gray-600 text-base\">Cliente</span>\r\n        <mat-form-field *ngIf=\"formFilters.get('cliente')\"\r\n            class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <input type=\"text\" placeholder=\"Seleccione Cliente\" matInput [matAutocomplete]=\"auto_cliente\"\r\n                formControlName=\"cliente\">\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('cliente')\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('cliente').value != -1\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n            <button mat-icon-button matSuffix>\r\n                <mat-icon>arrow_drop_down</mat-icon>\r\n            </button>\r\n            <mat-autocomplete autoActiveFirstOption #auto_cliente=\"matAutocomplete\" [displayWith]=\"getTextGenerico\">\r\n                <mat-option *ngFor=\"let cliente of filteredClientes | async\" [value]=\"cliente\">\r\n                    {{ cliente.descripcion }}\r\n                </mat-option>\r\n            </mat-autocomplete>\r\n\r\n        </mat-form-field>\r\n\r\n        <!-- Vendedores -->\r\n        <span *ngIf=\"formFilters.get('vendedor')\" class=\"font-semibold text-gray-600 text-base\">Vendedor</span>\r\n        <mat-form-field *ngIf=\"formFilters.get('vendedor')\"\r\n            class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <input type=\"text\" placeholder=\"Seleccione Vendedor\" matInput [matAutocomplete]=\"auto_vendedor\"\r\n                formControlName=\"vendedor\">\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('vendedor')\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('vendedor').value != -1\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n            <button mat-icon-button matSuffix>\r\n                <mat-icon>arrow_drop_down</mat-icon>\r\n            </button>\r\n            <mat-autocomplete autoActiveFirstOption #auto_vendedor=\"matAutocomplete\" [displayWith]=\"getTextGenerico\">\r\n                <mat-option *ngFor=\"let vendedor of filteredVendedores | async\" [value]=\"vendedor\">\r\n                    {{ vendedor.nombre }} {{ vendedor.apellido }}\r\n                </mat-option>\r\n            </mat-autocomplete>\r\n        </mat-form-field>\r\n\r\n        <!-- Tratamiento -->\r\n        <span *ngIf=\"formFilters.get('tratamiento') && configura_obra\" class=\"font-semibold text-gray-600 text-base\">Tratamiento</span>\r\n        <mat-form-field *ngIf=\"formFilters.get('tratamiento') && configura_obra\"\r\n            class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded-lg min-w-64 mt-2\">\r\n            <input type=\"text\" placeholder=\"Seleccione Tratamiento\" matInput [matAutocomplete]=\"auto_tratamiento\"\r\n                formControlName=\"tratamiento\">\r\n            <button matSuffix mat-icon-button (click)=\"limpiarCasillero('tratamiento')\" class=\"mr-2\"\r\n                *ngIf=\"formFilters.get('tratamiento').value != -1\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n            <button mat-icon-button matSuffix>\r\n                <mat-icon>arrow_drop_down</mat-icon>\r\n            </button>\r\n            <mat-autocomplete autoActiveFirstOption #auto_tratamiento=\"matAutocomplete\" [displayWith]=\"getTextGenerico\">\r\n                <mat-option *ngFor=\"let tratamiento of filteredTratamientos | async\" [value]=\"tratamiento\">\r\n                    {{ tratamiento.descripcion }}\r\n                </mat-option>\r\n            </mat-autocomplete>\r\n        </mat-form-field>\r\n    </form>\r\n    <div class=\"w-full md:flex md:justify-between md:pb-4 md:px-4\">\r\n        <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.color]=\"color_primario || '' \"\r\n            [style.border]=\"color_primario || '' \"\r\n            class=\"w-full !border border-solid rounded-none md:w-26 md:rounded-lg hidden md:block\"\r\n            (click)=\"resetFilters()\">\r\n            <span class=\"font-medium text-base\">Limpiar</span>\r\n        </button>\r\n        <button mat-raised-button [class]=\"color_primario ? '' : default_color\"\r\n            [style.background-color]=\"color_primario || '' \"\r\n            class=\"w-full rounded-none md:w-26 md:rounded-lg py-8 md:py-0\"\r\n            (click)=\"onCloseMenu(formFilters.getRawValue())\">\r\n            <span class=\"text-white font-bold\">Filtrar</span>\r\n        </button>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { Subject, Subscription, debounceTime, distinctUntilChanged, takeUntil } from 'rxjs';\r\nimport { MatTableDataSource } from '@angular/material/table'\r\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { TablaDinamicaComponent } from '@shared/components/tabla-dinamica/tabla-dinamica.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { environment } from 'environments/environment';\r\nimport { SearchService } from 'app/layout/common/search/search.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { IFilter } from '@shared/models/filter';\r\nimport { HeaderTextService } from '@shared/components/header-text/header-text.service';\r\nimport { Router } from '@angular/router';\r\nimport { EmpresaService } from '@shared/service/app/empresa.service';\r\nimport { PwaService } from '@shared/service/app/pwa.service';\r\nimport { VentaGenericasService } from '../service/venta-generica.service';\r\nimport { IVtaVentaSelect } from '../models/venta-generica';\r\nimport { FilterMenuComponent } from './filter-menu/filter-menu.component';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\n\r\n@Component({\r\n    selector: 'app-venta-generica',\r\n    templateUrl: './venta-genericas.component.html',\r\n    styleUrls: ['./venta-genericas.component.scss']\r\n})\r\nexport class VentaGenericasComponent implements OnInit, OnDestroy {\r\n    // Necesarios para la app\r\n    search: FormControl = new FormControl('');\r\n    sortValue: string;\r\n    color_primario: string;\r\n    color_secundario: string;\r\n    default_color: string = 'border-primary text-primary';\r\n    private _unsubscribeAll: Subject<any> = new Subject<any>();\r\n\r\n    // Particulares del modulo\r\n    headers = ['', 'Origen', 'Numero', 'Fecha', 'Cliente', 'Vendedor', 'Tratamiento', 'Total', 'Acciones'];\r\n    column_params = ['seleccion', 'origen', 'numero_venta', 'fecha', 'cliente', 'vendedor', 'tratamiento', 'importe_total', 'acciones'];\r\n    FilterEventSub$: Subscription;\r\n    SearchTextSub$: Subscription;\r\n    ventas: IVtaVentaSelect[];\r\n    selectedItems: any[] = [];\r\n    public dataSource: MatTableDataSource<IVtaVentaSelect> = new MatTableDataSource();\r\n    funcionesObjeto = null;\r\n    filtroBusqueda: string = '';\r\n    filtersLike = ['cliente'];\r\n    filter: IFilter = {\r\n        vendedor: -1,\r\n        cliente: -1,\r\n        tratamiento: -1,\r\n        filtroFechaInicio: '',\r\n        filtroFechaFin: ''\r\n    };\r\n    @Input() extraParams = '';\r\n    @Output() parametrosActualizados = new EventEmitter<any>();\r\n    env = environment.ventas.view_vta_venta_selects + '?sort=-fecha';\r\n    puedeCrear: boolean = false;\r\n\r\n    constructor(\r\n        private _ventaGenericasService: VentaGenericasService,\r\n        private _empresaService: EmpresaService,\r\n        private confirm: FuseConfirmationService,\r\n        private alert: AppAlertService,\r\n        private dialogo: MatDialog,\r\n        private _searchService: SearchService,\r\n        private router: Router,\r\n        public _headerTextService: HeaderTextService,\r\n        private pwaService: PwaService,\r\n        private _menuService: JedsMenuService\r\n\r\n    ) {\r\n        this._headerTextService.setTitulo(this.router);\r\n\r\n        /**\r\n         * Aca se declaran los botones que iran en la grilla sobre el apartado de acciones.\r\n         */\r\n        this.funcionesObjeto = [\r\n            {\r\n                nombre_boton: \"editar\",\r\n                functionName: 'editar',\r\n                iconoAccion: (venta: IVtaVentaSelect) => venta.puede_modificar === true ? 'jedstion:editar' : '',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => venta.puede_modificar === false ? 'jedstion:editar_disabled' : '',\r\n            },\r\n            {\r\n                nombre_boton: \"eliminar\",\r\n                functionName: 'eliminar',\r\n                iconoAccion: (venta: IVtaVentaSelect) => venta.puede_eliminar === true ? 'jedstion:eliminar' : '',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => venta.puede_eliminar === false ? 'jedstion:eliminar_disabled' : '',\r\n            },\r\n            {\r\n                nombre_boton: \"Generar Orden de servicio\",\r\n                functionName: 'orden_servicio',\r\n                iconoAccion: (venta: IVtaVentaSelect) => 'jedstion:orden_de_produccion',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => '',\r\n            },\r\n            {\r\n                nombre_boton: \"Detalle Bonificado\",\r\n                functionName: 'ventas_bonificadas_detalle',\r\n                iconoAccion: (venta: IVtaVentaSelect) => venta.puede_modificar === true && venta.tipo_venta === 1 ? 'jedstion:informacion' : '',\r\n                iconoAccionado: (venta: IVtaVentaSelect) => '',\r\n                iconoDeshabilitado: (venta: IVtaVentaSelect) => venta.puede_modificar === false || venta.tipo_venta === 0 ? 'jedstion:informacion_disabled' : '',\r\n            }\r\n        ];\r\n\r\n        // Subscribe to empresa data\r\n        this._empresaService.empresa$\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(empresa => {\r\n                this.color_primario = empresa.color_primario;\r\n                this.color_secundario = empresa.color_secundario;\r\n            });\r\n    }\r\n\r\n    @ViewChild(TablaDinamicaComponent) tabla: TablaDinamicaComponent;\r\n    ngOnInit(): void {\r\n\r\n        // Load empresa data\r\n        this._empresaService.getEmpresa();\r\n        this.SearchTextSub$ = this._searchService.getSearchText().pipe( //Se obtienen los valores que coinciden con lo ingresado en la barra de busqueda\r\n            debounceTime(750),\r\n            distinctUntilChanged()\r\n        )\r\n            .subscribe(value => {\r\n                this.filtroBusqueda = value;\r\n                this.tabla.filters(this.filtroBusqueda);\r\n            });\r\n\r\n        this.FilterEventSub$ = this._searchService.getFilterEvent().subscribe(event => {\r\n            this.onFilterMenu(this._searchService.getFilterOrigin())\r\n        });\r\n    }\r\n\r\n    saveVenta() {\r\n        this.router.navigate(['/ventas/alta']);\r\n    }\r\n\r\n    updateVenta(event) {\r\n        const id = event.params.data.idventa;\r\n        this.router.navigate(['/ventas/edicion/', id]);\r\n    }\r\n\r\n    listadoVentasBonificadas(event) {\r\n        const id = event.params.data.idventa;\r\n        this.router.navigate(['/ventas/venta-detalle/', id]);\r\n    }\r\n\r\n    /**\r\n    * Esta funcion elimina un item\r\n    * @param event \r\n    */\r\n    deleteVenta(event) {\r\n        this.confirm.open({\r\n            title: \"Eliminar Venta: \" + event.params.data.idventa,\r\n            message: `¿Desea eliminar la Venta: ${event.params.data.idventa} -  ${event.params.data.cliente}?`,\r\n            dismissible: false,\r\n            actions: {\r\n                confirm: {\r\n                    show: true,\r\n                    color: 'warn',\r\n                    label: 'Si',\r\n                },\r\n                cancel: {\r\n                    show: true,\r\n                    label: 'No',\r\n                },\r\n            },\r\n        })\r\n            .afterClosed()\r\n            .subscribe(res => {\r\n                if (res === 'confirmed') {\r\n                    this._ventaGenericasService.deleteVenta(event.params.data.idventa).subscribe({\r\n                        next: (res) => {\r\n                            // Manejar la respuesta exitosa\r\n                            this.alert.success(\"Venta eliminada con éxito.\");\r\n                            if (res) {\r\n                                this.tabla.renderTabla()\r\n                            }\r\n                        },\r\n                        error: (error) => {\r\n                            // Manejar el error\r\n                            console.error('Error en el servicio:', error);\r\n                            this.alert.warning(\"Esta Venta no puede eliminarse. Tiene elementos asociados.\");\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    habilitarBoton(valor: boolean) {\r\n        this.puedeCrear = valor;\r\n    }\r\n\r\n    onFilterMenu(origin: MatButton) {\r\n        this._menuService\r\n            .open(FilterMenuComponent, origin._elementRef, {\r\n                filter: this.filter,\r\n                data: this.tabla.getElementosExistentes()\r\n            })\r\n            .afterClosed()\r\n            .subscribe({\r\n                next: filter => {\r\n                    if (filter) {\r\n                        this.filter = filter;\r\n                        this.extraParams = this.filter.vendedor != -1 ? \"filter[idusuario]=\" + this.filter.vendedor['codigo'] + '&' : '';\r\n                        this.extraParams += this.filter.cliente != -1 ? \"filter[idcliente]=\" + this.filter.cliente['id'] + '&' : '';\r\n                        this.extraParams += this.filter.tratamiento != -1 ? \"filter[idtratamiento]=\" + this.filter.tratamiento['idtratamiento'] + '&' : '';\r\n                        this.extraParams += this.filter.filtroFechaInicio != null ? \"filter[fecha][gte]=\" + this.filter.filtroFechaInicio + '&' : '';\r\n                        this.extraParams += this.filter.filtroFechaFin != null ? \"filter[fecha][lte]=\" + this.filter.filtroFechaFin + '&' : '';\r\n                        this.tabla.filters(this.filtroBusqueda);\r\n                    }\r\n                },\r\n            });\r\n    }\r\n\r\n    /**\r\n    * Esta es la funcion que se encarga de la columna acciones dentro de la grilla dinamica\r\n    * @param event \r\n    */\r\n    generarAcciones(event: { name: string, params: any }) {\r\n        switch (event.name) {\r\n            case 'editar':\r\n                if (event.params.data.puede_modificar === false) {\r\n\r\n                    if (event.params.data.tipo_venta === 1) {\r\n                        return this.alert.warning('No se puede editar la venta.');\r\n                    } else {\r\n                        return this.alert.warning('No se puede editar una venta del sistema anterior.');\r\n                    }\r\n\r\n                } else {\r\n                    this.updateVenta(event);\r\n                }\r\n                break;\r\n            case 'eliminar':\r\n\r\n                if (event.params.data.puede_eliminar === false) {\r\n                    if (event.params.data.tipo_venta === 1) {\r\n                        return this.alert.warning('No se puede eliminar la venta.');\r\n                    } else {\r\n                        return this.alert.warning('No se puede eliminar una venta del sistema anterior.');\r\n                    }\r\n                } else {\r\n                    this.deleteVenta(event);\r\n                }\r\n                break;\r\n            case 'orden_servicio':\r\n                this.reporteOrdenServicio(event);\r\n                break;\r\n            case 'ventas_bonificadas_detalle':\r\n                if (event.params.data.tipo_venta === 0) {\r\n                    return this.alert.warning('No se puede ver las ventas bonificadas del sistema anterior.');\r\n                } else if (event.params.data.puede_eliminar === false) {\r\n                    return this.alert.warning('No tiene permiso para ver el detalle bonificado de una venta.');\r\n                } else {\r\n                    this.listadoVentasBonificadas(event);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Esta función es la que se encarga de la seleccion de check box de Ventas seleccionados\r\n    * @param selectedElements - La lista de Ordenes de servicio seleccionados.\r\n    */\r\n    onSelectionChange(selectedElements: any[]) {\r\n        this.selectedItems = selectedElements;\r\n    }\r\n\r\n    /**\r\n     * Esta funcion Genera un Reporte y lo muestra en una nueva pestaña\r\n     */\r\n    reporteOrdenServicio(event?) {\r\n        let payload = null;\r\n\r\n        // Si es atraves de presionar el boton de un item\r\n        if (event) {\r\n            // Selecciono el item\r\n            this.selectedItems.push(event.params.data);\r\n        }\r\n\r\n        // Si no es atraves de presionar el boton del item Y no hay elementos en el array o la longitud del array es igual a cero\r\n        if (!event && (!this.selectedItems || this.selectedItems.length === 0)) {\r\n            return this.alert.error('Debe seleccionar al menos un Item.');\r\n        } else {\r\n            // Armo el payload para llamar al servicio\r\n            payload = {\r\n                // Creo un objeto con el valor del nombre de la clave y con el valor item con esa clave\r\n                ordenes_de_servicio: this.selectedItems.map(element => {\r\n                    let clave = element.tipo_venta === 1 ? 'idventa' : 'idventagenerica';\r\n                    return { [clave]: element[`${clave}`] }\r\n                })\r\n            };\r\n\r\n            this._ventaGenericasService.reporteOrdenServicio(payload).subscribe({\r\n                next: (data) => {\r\n                    if (data.success === true) {\r\n                        const reportePath = data.path;\r\n\r\n                        if (this.pwaService.isPwa()) {\r\n                            this.router.navigate(['/reporte', reportePath]);\r\n                        } else {\r\n                            const reporteUrl = `${environment.baseRest}/${reportePath}`;\r\n                            // Abre la pestaña aquí antes de la promesa\r\n                            const newWindow = window.open('', '_blank');\r\n                            if (newWindow) {\r\n                                newWindow.location.href = reporteUrl; // Redirige la URL cuando tengas el reporte\r\n                            } else {\r\n                                console.error('No se pudo abrir la nueva pestaña.');\r\n                            }\r\n                        }\r\n\r\n                        // Limpio la seleccion para que no se acumulen...\r\n                        this.selectedItems = [];\r\n                    } else {\r\n                        console.error('Error al generar el reporte');\r\n                    }\r\n                },\r\n                error: (error) => {\r\n                    console.error('Error en la solicitud del reporte', error);\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._searchService.unsubscribe();\r\n        this.dialogo.closeAll();\r\n    }\r\n}","<div class=\"w-full flex flex-col relative \">\r\n    <div class=\"mb-12 mt-6\">\r\n        <!-- Contenedor del botón -->\r\n        <div class=\"absolute right-10 flex space-x-4\">\r\n            <button *ngIf=\"puedeCrear\" mat-flat-button (click)=\"saveVenta()\" #save [class]=\"color_primario ? '' : default_color\"\r\n                [style.border]=\"color_primario || ''\" [style.color]=\"color_primario || ''\"\r\n                class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\">\r\n                <div class=\"flex items-center\">\r\n                    <!-- SVG con fill=\"currentColor\" -->\r\n                    <svg id=\"note_plus\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path\r\n                            d=\"M15.8333 10.8333C16.4167 10.8333 16.975 10.9417 17.5 11.125V7.5L12.5 2.5H4.16667C3.24167 2.5 2.5 3.24167 2.5 4.16667V15.8333C2.5 16.7583 3.25 17.5 4.16667 17.5H11.125C10.9417 16.975 10.8333 16.4167 10.8333 15.8333C10.8333 13.075 13.075 10.8333 15.8333 10.8333ZM11.6667 3.75L16.25 8.33333H11.6667V3.75ZM19.1667 15V16.6667H16.6667V19.1667H15V16.6667H12.5V15H15V12.5H16.6667V15H19.1667Z\" />\r\n                    </svg>\r\n                    <span class=\"ml-2 text-lg mt-0.5 hidden md:inline\">Nueva Venta</span>\r\n                </div>\r\n            </button>\r\n            <button mat-flat-button [class]=\"color_primario ? '' : default_color\" [style.border]=\"color_primario || ''\"\r\n                [style.color]=\"color_primario || ''\"\r\n                class=\"w-full px-6 py-6 !border border-solid rounded-lg md:w-55 md:rounded-lg\"\r\n                (click)=\"reporteOrdenServicio()\">\r\n                <div class=\"flex items-center\">\r\n                    <svg width=\"22\" height=\"22\" viewBox=\"0 0 26 26\" fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <g clip-path=\"url(#clip0_535_423)\">\r\n                            <path\r\n                                d=\"M20.5568 8.68182H19.4773V3.28409H6.52274V8.68182H5.4432C3.65115 8.68182 2.20456 10.1284 2.20456 11.9205V18.3977H6.52274V22.7159H19.4773V18.3977H23.7955V11.9205C23.7955 10.1284 22.3489 8.68182 20.5568 8.68182ZM8.68183 5.44318H17.3182V8.68182H8.68183V5.44318ZM17.3182 18.3977V20.5568H8.68183V16.2386H17.3182V18.3977ZM19.4773 16.2386V14.0795H6.52274V16.2386H4.36365V11.9205C4.36365 11.3267 4.84945 10.8409 5.4432 10.8409H20.5568C21.1506 10.8409 21.6364 11.3267 21.6364 11.9205V16.2386H19.4773Z\" />\r\n                            <path\r\n                                d=\"M19.4773 13.5398C20.0735 13.5398 20.5568 13.0564 20.5568 12.4602C20.5568 11.864 20.0735 11.3807 19.4773 11.3807C18.8811 11.3807 18.3977 11.864 18.3977 12.4602C18.3977 13.0564 18.8811 13.5398 19.4773 13.5398Z\" />\r\n                        </g>\r\n                        <defs>\r\n                            <clipPath id=\"clip0_535_423\">\r\n                                <rect width=\"25.9091\" height=\"25.9091\" fill=\"currentColor\"\r\n                                    transform=\"translate(0.0454712 0.0454559)\" />\r\n                            </clipPath>\r\n                        </defs>\r\n                    </svg>\r\n                    <span class=\"ml-2 text-lg mt-0.5 hidden md:inline\">Imprimir</span>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"pr-2 pl-2\">\r\n        <!-- Tabla dinámica -->\r\n        <app-tabla-dinamica class=\"bottom-10 sm:bottom-0 table-fixed sm:top-2 w-full m-0\"\r\n            (selectionChange)=\"onSelectionChange($event)\" [cache]=\"false\" [columnsNames]=\"headers\"\r\n            [renderType]=\"'client'\" [columnsParams]=\"column_params\" [endpoint]=\"env\" [functions]=\"funcionesObjeto\"\r\n            [extraClasses]=\"'td.mat-cell border,td.mat-cell border-slate-400'\"\r\n            (functionEmitter)=\"generarAcciones($event)\" [FiltersLikes]=\"filtersLike\" [extraParams]=\"extraParams\"\r\n            (puedeCrearEmitter)=\"habilitarBoton($event)\"\r\n            >\r\n        </app-tabla-dinamica>\r\n    </div>\r\n</div>","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { AuthService } from '@core/auth/auth.service';\r\nimport { dtoCalcularItem, dtoCalcularUnitario, dtoCrearVenta, dtoEditarVenta, IVenta, IVentaGenericaResponse } from '../models/venta-generica';\r\nimport { environment } from 'environments/environment';\r\nimport { map, Subject } from 'rxjs';\r\nimport { IResponse } from '@shared/models/response-with-token';\r\n\r\n@Injectable()\r\nexport class VentaGenericasService {\r\n    constructor(private http: HttpClient, private _authService: AuthService) { }\r\n\r\n    /**\r\n     * \r\n     * @param ordenes_de_servicio\r\n     * @returns \r\n     */\r\n    reporteOrdenServicio(ordenes_de_servicio: []) {\r\n        return this.http.post<IVentaGenericaResponse>(`${environment.reporte_orden_servicio}`, ordenes_de_servicio);\r\n    }\r\n\r\n    saveVenta(payload: dtoCrearVenta) {\r\n        return this.http.post<IResponse<IVenta>>(`${environment.ventas.vta_ventas}`, payload);\r\n    }\r\n\r\n    updateVenta(idventa: number, payload: dtoEditarVenta) {\r\n        return this.http.put<IVentaGenericaResponse>(`${environment.ventas.vta_ventas}` + '/' + idventa, payload);\r\n    }\r\n\r\n    deleteVenta(idventa) {\r\n        return this.http.delete<IVentaGenericaResponse>(`${environment.ventas.vta_ventas}` + '/' + idventa);\r\n    }\r\n\r\n    getDatosVenta(idventa: number) {\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.ventas.vta_venta_get_datos}` + '?idventa=' + idventa)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getClientes(option?) {\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.administracion.select_clientes}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getVendedores(option?) {\r\n        let f = '?sort=RazonSocial&filter[vendedor]=1';\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.login.view_usuarios}${f}`)\r\n            .subscribe((resp: any) => {\r\n                this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable();\r\n    }\r\n\r\n    getArticulos(idarticulo?: number, filterLike?: string) {\r\n        let f = `?filter[activo]=1&pagination=1&per-page=10&page=1&filter[tipo]=2`;\r\n        if (idarticulo) {\r\n            f += `&filter[idarticulo]=${idarticulo}`;\r\n        } else if (filterLike) {\r\n            f += `&filter[or][0][codigo_interno][like]=${filterLike}&filter[or][1][descripcion][like]=${filterLike}`;\r\n        }\r\n\r\n        let subject = new Subject<any>();\r\n        this.http.get<any>(`${environment.stock.articulos}${f}`).pipe(\r\n            map((resp => resp))\r\n        ).subscribe((resp: any) => {\r\n            this._authService.accessToken = resp.token,\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n        });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getUnidadesDeMedidaArticulos(idarticulo) {\r\n        let f = `?filter[idarticulo]=${idarticulo}`\r\n        f += `&expand=um`\r\n        let subject = new Subject<any>();\r\n        this.http.get<Response[]>(`${environment.stock.articulo_unidad_medidas}${f}`)\r\n            .subscribe((resp: any) => {\r\n                // this._authService.accessToken = resp.token;\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n            });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getLocalidades() {\r\n        let subject = new Subject<any>();\r\n        this.http.get<any>(`${environment.localidades}`).pipe(\r\n            map((resp => resp))\r\n        ).subscribe((resp: any) => {\r\n            this._authService.accessToken = resp.token,\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n        });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    getTratamientos() {\r\n        let subject = new Subject<any>();\r\n        this.http.get<any>(`${environment.administracion.tratamiento_token}`).pipe(\r\n            map((resp => resp))\r\n        ).subscribe((resp: any) => {\r\n            this._authService.accessToken = resp.token,\r\n                subject.next({\r\n                    list: resp.result\r\n                })\r\n        });\r\n        return subject.asObservable()\r\n    }\r\n\r\n    calcularPrecioUnitario(payload: dtoCalcularUnitario) {\r\n        return this.http.post<any>(`${environment.ventas.vta_venta_calcular_unitario}`, payload);\r\n    }\r\n\r\n    calcularItem(payload: dtoCalcularItem) {\r\n        return this.http.post<any>(`${environment.ventas.vta_venta_calcular_item}`, payload);\r\n    }\r\n}","import { RouterModule, Routes } from '@angular/router';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatToolbarModule } from '@angular/material/toolbar'\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { FuseAlertComponent } from '@fuse/components/alert';\r\nimport { JedsMenuService } from '@shared/service/app/jeds-menu.service';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { AppAlertService } from '@shared/service/app/alert.service';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { TablaDinamicaModule } from '@shared/components/tabla-dinamica/tabla-dinamica.module';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { VentaGenericasService } from './service/venta-generica.service';\r\nimport { VentaGenericasComponent } from './components/venta-genericas.component';\r\nimport { AltaEdicionVentaComponent } from './components/alta-edicion/alta-edicion.component';\r\nimport { CalcularUnitarioComponent } from './components/calcular-unitario/calcular-unitario.component';\r\nimport { ClientesService } from 'app/modules/administracion/clientes/service/clientes.service';\r\nimport { SharedComponentModule } from '@shared/components/shared-component.module';\r\nimport { FilterMenuComponent } from './components/filter-menu/filter-menu.component';\r\nimport { BonificadoDetalleComponent } from './components/bonificado-detalle/bonificado-detalle.component';\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: VentaGenericasComponent\r\n    },\r\n    {\r\n        path: 'alta',\r\n        component: AltaEdicionVentaComponent\r\n    },\r\n    {\r\n        path: 'edicion/:idventa',\r\n        component: AltaEdicionVentaComponent\r\n    },\r\n    {\r\n        path: 'venta-detalle/:idventa',\r\n        component: BonificadoDetalleComponent\r\n    }\r\n];\r\n@NgModule({\r\n    declarations: [VentaGenericasComponent, AltaEdicionVentaComponent, FilterMenuComponent, CalcularUnitarioComponent, BonificadoDetalleComponent],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        MatTableModule,\r\n        MatButtonModule,\r\n        MatSelectModule,\r\n        MatFormFieldModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        FuseAlertComponent,\r\n        MatTooltipModule,\r\n        MatAutocompleteModule,\r\n        MatToolbarModule,\r\n        MatCheckboxModule,\r\n        MatSortModule,\r\n        TablaDinamicaModule,\r\n        MatDialogModule,\r\n        MatDatepickerModule,\r\n        SharedComponentModule\r\n    ],\r\n    exports: [RouterModule],\r\n    providers: [VentaGenericasService, JedsMenuService, AppAlertService, DatePipe, ClientesService]\r\n})\r\nexport class VentaGenericasModule { }"],"names":["EventEmitter","debounceTime","distinctUntilChanged","finalize","firstValueFrom","map","startWith","Subject","switchMap","takeUntil","takeWhile","tap","timer","FormControl","FormGroup","Validators","TablaDinamicaComponent","MatTableDataSource","MAT_DATE_FORMATS","MY_DATE_FORMATS","CalcularUnitarioComponent","environment","SaveComponent","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r1","_alertConfig","type","showAlert","ɵɵadvance","ɵɵtextInterpolate1","message","ɵɵlistener","AltaEdicionVentaComponent_form_8_mat_option_18_Template_mat_option_click_0_listener","$event","ɵɵrestoreView","_r28","ctx_r27","ɵɵnextContext","ɵɵresetView","seleccionItem","cliente_r26","descripcion","AltaEdicionVentaComponent_form_8_button_20_Template_button_click_0_listener","_r30","ctx_r29","limpiarCasillero","AltaEdicionVentaComponent_form_8_mat_option_32_Template_mat_option_click_0_listener","_r33","ctx_r32","vendedor_r31","ɵɵtextInterpolate2","nombre","apellido","AltaEdicionVentaComponent_form_8_button_34_Template_button_click_0_listener","_r35","ctx_r34","AltaEdicionVentaComponent_form_8_form_35_button_6_Template_button_click_0_listener","_r48","ctx_r47","AltaEdicionVentaComponent_form_8_form_35_button_11_Template_button_click_0_listener","_r50","ctx_r49","AltaEdicionVentaComponent_form_8_form_35_mat_option_19_Template_mat_option_click_0_listener","_r53","ctx_r52","localidad_r51","AltaEdicionVentaComponent_form_8_form_35_button_21_Template_button_click_0_listener","_r55","ctx_r54","AltaEdicionVentaComponent_form_8_form_35_mat_option_30_Template_mat_option_click_0_listener","_r58","ctx_r57","tratamiento_r56","AltaEdicionVentaComponent_form_8_form_35_button_32_Template_button_click_0_listener","_r60","ctx_r59","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_5_listener","_r62","ctx_r61","ɵɵtemplate","AltaEdicionVentaComponent_form_8_form_35_button_6_Template","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_10_listener","ctx_r63","AltaEdicionVentaComponent_form_8_form_35_button_11_Template","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_15_listener","ctx_r64","AltaEdicionVentaComponent_form_8_form_35_button_16_Template","AltaEdicionVentaComponent_form_8_form_35_mat_option_19_Template","AltaEdicionVentaComponent_form_8_form_35_button_21_Template","AltaEdicionVentaComponent_form_8_form_35_Template_input_keydown_enter_26_listener","ctx_r65","AltaEdicionVentaComponent_form_8_form_35_button_27_Template","AltaEdicionVentaComponent_form_8_form_35_mat_option_30_Template","AltaEdicionVentaComponent_form_8_form_35_button_32_Template","ctx_r13","form_obra","get","value","_r39","getTextGenerico","ɵɵpipeBind1","filteredLocalidades","_r43","filteredTratamientos","_r46","maxDate","AltaEdicionVentaComponent_form_8_small_43_Template_small_click_0_listener","_r67","_r14","ɵɵreference","click","ɵɵtextInterpolate","imagen_r69","path","ctx_r70","getFileSize","size","ɵɵpropertyInterpolate","ctx_r71","urlBase","ɵɵsanitizeUrl","getFileNameFromUrl","ɵɵelementContainerStart","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_span_2_Template","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_a_3_Template","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_Template_button_click_4_listener","restoredCtx","_r75","$implicit","ctx_r74","removeFile","ɵɵelementContainerEnd","ɵɵclassMap","ctx_r68","color_primario","default_color","ɵɵstyleProp","idventaadjunto","AltaEdicionVentaComponent_form_8_div_44_ng_container_1_Template","ctx_r16","adjuntos","articulo_r76","codigo_interno","AltaEdicionVentaComponent_form_8_button_55_Template_button_click_0_listener","_r78","ctx_r77","um_r79","factor_um","um_base","AltaEdicionVentaComponent_form_8_mat_option_60_i_2_Template","idarticulounidadmedida","descripcion_um","AltaEdicionVentaComponent_form_8_button_65_Template_button_click_0_listener","_r83","ctx_r82","AltaEdicionVentaComponent_form_8_button_76_Template_button_click_0_listener","_r85","ctx_r84","AltaEdicionVentaComponent_form_8_button_89_Template_button_click_0_listener","_r87","ctx_r86","ctx_r88","item_r118","ctx_r91","item_r119","ctx_r94","item_r120","cantidad","ctx_r97","item_r121","importe_unitario","ctx_r100","item_r122","importe_bonificado","porcentaje_bonificado","ctx_r102","totales","ctx_r103","item_r123","importe_no_bonificado","ctx_r105","ctx_r106","item_r124","importe_iva","ctx_r108","ctx_r109","item_r125","importe_subtotal","ctx_r111","ctx_r112","AltaEdicionVentaComponent_form_8_table_101_td_35_Template_button_click_1_listener","_r129","movimiento_r126","ctx_r128","deleteMovimiento","AltaEdicionVentaComponent_form_8_table_101_th_2_Template","AltaEdicionVentaComponent_form_8_table_101_td_3_Template","AltaEdicionVentaComponent_form_8_table_101_td_4_Template","AltaEdicionVentaComponent_form_8_table_101_th_6_Template","AltaEdicionVentaComponent_form_8_table_101_td_7_Template","AltaEdicionVentaComponent_form_8_table_101_td_8_Template","AltaEdicionVentaComponent_form_8_table_101_th_10_Template","AltaEdicionVentaComponent_form_8_table_101_td_11_Template","AltaEdicionVentaComponent_form_8_table_101_td_12_Template","AltaEdicionVentaComponent_form_8_table_101_th_14_Template","AltaEdicionVentaComponent_form_8_table_101_td_15_Template","AltaEdicionVentaComponent_form_8_table_101_td_16_Template","AltaEdicionVentaComponent_form_8_table_101_th_18_Template","AltaEdicionVentaComponent_form_8_table_101_td_19_Template","AltaEdicionVentaComponent_form_8_table_101_td_20_Template","AltaEdicionVentaComponent_form_8_table_101_th_22_Template","AltaEdicionVentaComponent_form_8_table_101_td_23_Template","AltaEdicionVentaComponent_form_8_table_101_td_24_Template","AltaEdicionVentaComponent_form_8_table_101_th_26_Template","AltaEdicionVentaComponent_form_8_table_101_td_27_Template","AltaEdicionVentaComponent_form_8_table_101_td_28_Template","AltaEdicionVentaComponent_form_8_table_101_th_30_Template","AltaEdicionVentaComponent_form_8_table_101_td_31_Template","AltaEdicionVentaComponent_form_8_table_101_td_32_Template","AltaEdicionVentaComponent_form_8_table_101_th_34_Template","AltaEdicionVentaComponent_form_8_table_101_td_35_Template","AltaEdicionVentaComponent_form_8_table_101_td_36_Template","AltaEdicionVentaComponent_form_8_table_101_tr_37_Template","AltaEdicionVentaComponent_form_8_table_101_tr_38_Template","AltaEdicionVentaComponent_form_8_table_101_tr_39_Template","ctx_r24","dataSource","columns","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_14_listener","_r132","ctx_r131","AltaEdicionVentaComponent_form_8_button_15_Template","AltaEdicionVentaComponent_form_8_mat_option_18_Template","AltaEdicionVentaComponent_form_8_button_20_Template","AltaEdicionVentaComponent_form_8_Template_button_click_22_listener","ctx_r133","cargarNuevoCliente","ɵɵnamespaceSVG","ɵɵnamespaceHTML","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_28_listener","ctx_r134","AltaEdicionVentaComponent_form_8_button_29_Template","AltaEdicionVentaComponent_form_8_mat_option_32_Template","AltaEdicionVentaComponent_form_8_button_34_Template","AltaEdicionVentaComponent_form_8_form_35_Template","AltaEdicionVentaComponent_form_8_Template_button_click_38_listener","AltaEdicionVentaComponent_form_8_Template_input_change_41_listener","ctx_r136","setImagen","AltaEdicionVentaComponent_form_8_small_43_Template","AltaEdicionVentaComponent_form_8_div_44_Template","AltaEdicionVentaComponent_form_8_Template_input_ngModelChange_51_listener","ctx_r137","AltaEdicionVentaComponent_form_8_mat_option_54_Template","AltaEdicionVentaComponent_form_8_button_55_Template","AltaEdicionVentaComponent_form_8_Template_mat_select_ngModelChange_59_listener","ctx_r138","um","AltaEdicionVentaComponent_form_8_mat_option_60_Template","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_64_listener","ctx_r139","AltaEdicionVentaComponent_form_8_button_65_Template","AltaEdicionVentaComponent_form_8_Template_mat_form_field_keydown_enter_66_listener","ctx_r140","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_75_listener","ctx_r141","AltaEdicionVentaComponent_form_8_button_76_Template","AltaEdicionVentaComponent_form_8_Template_button_click_80_listener","ctx_r142","calcularPrecioUnitario","AltaEdicionVentaComponent_form_8_Template_input_keydown_enter_88_listener","ctx_r143","onCargar","AltaEdicionVentaComponent_form_8_button_89_Template","AltaEdicionVentaComponent_form_8_Template_button_click_91_listener","ctx_r144","AltaEdicionVentaComponent_form_8_Template_input_keyup_96_listener","ctx_r145","applyFilter","target","AltaEdicionVentaComponent_form_8_table_101_Template","AltaEdicionVentaComponent_form_8_div_102_Template","AltaEdicionVentaComponent_form_8_Template_mat_form_field_keydown_enter_105_listener","ctx_r146","ctx_r2","form","_r4","minDate","_r6","filteredClientes","_r10","filteredVendedores","configura_obra","validExtension","length","form_carga_articulos","_r17","getTextArticulo","filteredArticulos","unidades_de_medida","data","AltaEdicionVentaComponent_div_9_Template_button_click_1_listener","_r148","ctx_r147","onSubmit","ctx_r3","AltaEdicionVentaComponent","constructor","_empresaService","_ventaGenericasService","_headerTextService","alert","dialogo","datePipe","dialogRef","router","route","_unsubscribeAll","maxPalabras","deposito_default","mostrarSpinner","mostrar_mensaje","creadoExitosamente","editadoExitosamente","articulos_list","lista_de_articulos","funcionesObjeto","extraParams","importe_desuento","filtroBusqueda","filter","tipo","rubro","selectedFiles","adjunto","selectedOption","esEdicion","snapshot","paramMap","idventa","Number","baseRest","titulo","custom_title","setCustomTitle","user","JSON","parse","localStorage","getItem","empresa$","pipe","subscribe","empresa","color_secundario","Date","subscribeAlert","emitConfig","next","config","appearance","time","ngOnInit","getEmpresa","newForm","loadServices","valueChanges","idarticulo","filterLike","getArticulos","response","list","porcentaje_descuento_efectivo","updateDescuento","fecha","transform","required","cliente","maxLength","vendedor","total_venta","disabled","descripcion_obra","direccion_obra","localidad","tratamiento","colocacion","acarreo","retiro_fabrica","fecha_entrega","articulo","unidadmedida","detalle","min","updateFormValidators","volverPaginaAnterior","navigate","ngOnDestroy","cambio_de_foco","redirect_control","enable","getUnidadesDeMedidaArticulos","setTimeout","cantidadField","document","querySelector","focus","KeyboardEvent","preventDefault","input","setValue","disable","key","warning","valid","error","existe_articulo_en_grilla","find","item","precio_unitario","addMovimiento","reset","articuloField","base64","importe_total","fecha_venta_formateada","fecha_entrega_formateada","obra","direccion","idlocalidad","parseInt","idtratamiento","id","payload","venta","idcliente","idusuario","codigo","toString","porcentaje_descuento","importe_descuento","items","updateVenta","emit","saveVenta","articuloSeleccionado","open","panelClass","afterClosed","result","success","console","getClientes","_this","_asyncToGenerator","ItemVenta","calcularItem","item_venta","updateTotal","_this2","Promise","all","getVendedores","getLocalidades","resolve","getTratamientos","getDatosVenta","then","_this3","Venta","_ref","patchValue","descripcion_cliente","descripcion_usuario","total","descripcion_localidad","descripcion_tratamiento","_x","apply","arguments","option","_this4","Clientes","_ref2","clientes","_filterSelect","_x2","_this5","Localidades","_ref3","localidades","_x3","_this6","Tratamientos","_ref4","tratamientos","_x4","_this7","Vendedores","_ref5","vendedores","_filterVendodres","_x5","_this8","articulos","_ref6","_filterArticulos","_x6","_this9","unidadesDeMedida","_ref7","sort","a","b","factor","unidad","parseFloat","idunidadmedida","_x7","filterValue","toLowerCase","includes","model","RazonSocial","razonSocial","nick","setValidators","clearValidators","updateValueAndValidity","reduce","sum","subtotal","toFixed","emitEvent","calcularDescuento","nuevoTotal","descuento","trim","onBlurInput","valor","tipo_imagen","imagen_data","files","Math","round","nombre_archivo","name","extension_archivo","split","pop","getBase64","imagen_en_base_64","info","extension","file","reject","reader","FileReader","readAsDataURL","onload","onerror","url","parts","fileName","bytes","kilobytes","megabytes","getFileTitle","ɵɵdirectiveInject","i1","EmpresaService","i2","VentaGenericasService","i3","HeaderTextService","i4","AppAlertService","i5","MatDialog","i6","DatePipe","MatDialogRef","i7","Router","ActivatedRoute","selectors","viewQuery","AltaEdicionVentaComponent_Query","rf","ctx","provide","useValue","decls","vars","consts","template","AltaEdicionVentaComponent_Template","AltaEdicionVentaComponent_Template_button_click_2_listener","AltaEdicionVentaComponent_spinner_component_6_Template","AltaEdicionVentaComponent_fuse_alert_7_Template","AltaEdicionVentaComponent_form_8_Template","AltaEdicionVentaComponent_div_9_Template","BonificadoDetalleComponent","_searchService","_menuService","venta_bonificadas","headers","column_params","filtersLike","env","ventas","view_vta_venta_bonificado_detalles","search","SearchTextSub$","getSearchText","tabla","filters","unsubscribe","SearchService","JedsMenuService","BonificadoDetalleComponent_Query","BonificadoDetalleComponent_Template_button_click_2_listener","MAT_DIALOG_DATA","ctx_r0","title","bruto","onCloseMenu","close","outputs","CalcularUnitarioComponent_Template","CalcularUnitarioComponent_Template_button_click_5_listener","CalcularUnitarioComponent_fuse_alert_8_Template","CalcularUnitarioComponent_Template_input_keydown_enter_17_listener","CalcularUnitarioComponent_Template_button_click_19_listener","fuseAnimations","_r1","FilterMenuComponent_button_21_Template_button_click_0_listener","ctx_r9","FilterMenuComponent_mat_form_field_23_button_2_Template_button_click_0_listener","_r15","ctx_r14","cliente_r16","FilterMenuComponent_mat_form_field_23_button_2_Template","FilterMenuComponent_mat_form_field_23_mat_option_8_Template","_r12","ctx_r4","formFilters","FilterMenuComponent_mat_form_field_25_button_2_Template_button_click_0_listener","_r21","ctx_r20","vendedor_r22","FilterMenuComponent_mat_form_field_25_button_2_Template","FilterMenuComponent_mat_form_field_25_mat_option_8_Template","_r18","ctx_r6","FilterMenuComponent_mat_form_field_27_button_2_Template_button_click_0_listener","_r27","ctx_r26","tratamiento_r28","FilterMenuComponent_mat_form_field_27_button_2_Template","FilterMenuComponent_mat_form_field_27_mat_option_8_Template","_r24","ctx_r8","FilterMenuComponent","menuService","_ventaGenericaService","proveedores","filtroFechaInicio","filtroFechaFin","complete","getTratamiento","resetFilters","FilterMenuComponent_Template","FilterMenuComponent_Template_button_click_5_listener","FilterMenuComponent_Template_button_click_8_listener","FilterMenuComponent_mat_datepicker_toggle_18_Template","FilterMenuComponent_button_21_Template","FilterMenuComponent_span_22_Template","FilterMenuComponent_mat_form_field_23_Template","FilterMenuComponent_span_24_Template","FilterMenuComponent_mat_form_field_25_Template","FilterMenuComponent_span_26_Template","FilterMenuComponent_mat_form_field_27_Template","FilterMenuComponent_Template_button_click_29_listener","FilterMenuComponent_Template_button_click_32_listener","getRawValue","VentaGenericasComponent_button_3_Template_button_click_0_listener","_r3","VentaGenericasComponent","confirm","pwaService","selectedItems","parametrosActualizados","view_vta_venta_selects","puedeCrear","setTitulo","nombre_boton","functionName","iconoAccion","puede_modificar","iconoAccionado","iconoDeshabilitado","puede_eliminar","tipo_venta","FilterEventSub$","getFilterEvent","event","onFilterMenu","getFilterOrigin","params","listadoVentasBonificadas","deleteVenta","dismissible","actions","show","color","label","cancel","res","renderTabla","habilitarBoton","origin","_elementRef","getElementosExistentes","generarAcciones","reporteOrdenServicio","onSelectionChange","selectedElements","push","ordenes_de_servicio","element","clave","reportePath","isPwa","reporteUrl","newWindow","window","location","href","closeAll","FuseConfirmationService","i8","i9","PwaService","i10","VentaGenericasComponent_Query","VentaGenericasComponent_button_3_Template","VentaGenericasComponent_Template_button_click_4_listener","VentaGenericasComponent_Template_app_tabla_dinamica_selectionChange_16_listener","VentaGenericasComponent_Template_app_tabla_dinamica_functionEmitter_16_listener","VentaGenericasComponent_Template_app_tabla_dinamica_puedeCrearEmitter_16_listener","http","_authService","post","reporte_orden_servicio","vta_ventas","put","delete","subject","vta_venta_get_datos","resp","accessToken","token","asObservable","administracion","select_clientes","f","login","view_usuarios","stock","articulo_unidad_medidas","tratamiento_token","vta_venta_calcular_unitario","vta_venta_calcular_item","ɵɵinject","HttpClient","AuthService","factory","ɵfac","RouterModule","CommonModule","MatToolbarModule","MatTableModule","MatButtonModule","MatSelectModule","MatFormFieldModule","ReactiveFormsModule","MatInputModule","FuseAlertComponent","MatIconModule","MatTooltipModule","MatAutocompleteModule","MatCheckboxModule","MatSortModule","TablaDinamicaModule","MatDialogModule","MatDatepickerModule","ClientesService","SharedComponentModule","routes","component","VentaGenericasModule","imports","forChild","declarations","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}